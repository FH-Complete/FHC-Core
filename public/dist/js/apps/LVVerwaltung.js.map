{"version":3,"file":"LVVerwaltung.js","sources":["../../../js/components/searchbar/result/template/action.js","../../../js/components/searchbar/result/template/frame.js","../../../js/components/searchbar/result/template/actions.js","../../../js/components/searchbar/result/person.js","../../../js/components/searchbar/result/room.js","../../../js/components/searchbar/result/employee.js","../../../js/components/searchbar/result/organisationunit.js","../../../js/components/searchbar/result/student.js","../../../js/components/searchbar/result/prestudent.js","../../../js/components/searchbar/result/dms.js","../../../js/components/searchbar/result/cms.js","../../../js/components/searchbar/result/mergedstudent.js","../../../js/components/searchbar/result/mergedperson.js","../../../js/components/searchbar/searchbar.js","../../../js/components/verticalsplit/verticalsplit.js","../../../js/api/factory/navigation.js","../../../js/components/AppMenu.js","../../../js/helpers/DragAndDrop.js","../../../js/directives/drop.js","../../../js/directives/dragClick.js","../../../js/api/factory/stv/group.js","../../../js/api/factory/stv/details.js","../../../js/components/Stv/Studentenverwaltung/Verband.js","../../../js/RESTClient.js","../../../js/components/Stv/Studentenverwaltung/Studiensemester.js","../../../js/components/Fetch.js","../../../js/components/filter/Filter/Config.js","../../../js/components/filter/Filter/Columns.js","../../../js/components/filter/Table/Download.js","../../../js/directives/collapseAutoClose.js","../../../js/tabulator/layouts/fitDataStretchFrozen.js","../../../js/api/factory/filter.js","../../../js/components/filter/Filter.js","../../../js/components/Bootstrap/Modal.js","../../../js/components/Fragment.js","../../../js/components/Form/Form.js","../../../js/components/Form/Input.js","../../../js/components/LVVerwaltung/Details/Form.js","../../../js/components/Tag/Tag.js","../../../js/tabulator/filters/extendedHeaderFilter.js","../../../js/api/lehrveranstaltung.js","../../../js/api/lehrveranstaltung/tag.js","../../../js/api/lehrveranstaltung/lehreinheit.js","../../../js/components/LVVerwaltung/Setup/Table.js","../../../js/components/Tabs.js","../../../js/directives/accessibility.js","../../../js/api/lehrveranstaltung/setup.js","../../../js/components/LVVerwaltung/Setup/Tabs.js","../../../js/api/lehrveranstaltung/details.js","../../../js/api/lehrveranstaltung/lektor.js","../../../js/api/lehrveranstaltung/studiengangtree.js","../../../js/api/factory/searchbar.js","../../../js/components/LVVerwaltung/LVVerwaltung.js","../../../js/api/search.js","../../../js/api/phrasen.js","../../../js/api/navigation.js","../../../js/api/filter.js","../../../js/api/studstatus.js","../../../js/api/profil.js","../../../js/api/profilUpdate.js","../../../js/api/lvPlan.js","../../../js/api/stv.js","../../../js/api/stv/verband.js","../../../js/api/stv/students.js","../../../js/api/stv/filter.js","../../../js/api/stv/konto.js","../../../js/api/stv/group.js","../../../js/api/stv/kontakt.js","../../../js/api/stv/prestudent.js","../../../js/api/stv/status.js","../../../js/api/stv/details.js","../../../js/api/stv/exam.js","../../../js/api/stv/abschlusspruefung.js","../../../js/api/stv/grades.js","../../../js/api/stv/mobility.js","../../../js/api/stv/archiv.js","../../../js/api/stv/documents.js","../../../js/api/stv/exemptions.js","../../../js/api/stv/jointstudies.js","../../../js/api/stv/courselist.js","../../../js/api/notiz.js","../../../js/api/notiz/person.js","../../../js/api/betriebsmittel.js","../../../js/api/betriebsmittel/person.js","../../../js/api/checkperson.js","../../../js/api/ort.js","../../../js/api/cms.js","../../../js/api/lehre.js","../../../js/api/addons.js","../../../js/api/messages.js","../../../js/api/messages/person.js","../../../js/api/vorlagen.js","../../../js/api/studium.js","../../../js/api/fhcapifactory.js","../../../js/api/dashboard.js","../../../js/api/bookmark.js","../../../js/api/ampeln.js","../../../js/api/studiengang.js","../../../js/api/menu.js","../../../js/api/authinfo.js","../../../js/api/language.js","../../../js/plugin/OldFhcApi.js","../../../js/plugins/FhcAlert.js","../../../js/plugins/Api.js","../../../js/api/factory/phrasen.js","../../../js/plugins/Phrasen.js","../../../js/apps/LVVerwaltung.js","../../../js/components/Form/Upload/Image.js","../../../js/components/Form/Upload/Dms.js","../../../js/components/Form/Upload/Dms/Item.js"],"sourcesContent":["export default {\n\tname: 'SearchbarResultTemplateAction',\n\temits: [ 'actionexecuted' ],\n\tprops: { \n\t\tres: Object,\n\t\taction: Object\n\t},\n\tcomputed: {\n\t\tactionHref() {\n\t\t\tif (this.action.type !== 'link')\n\t\t\t\treturn 'javascript:void(0);';\n\t\t\treturn typeof this.action.action === 'function'\n\t\t\t\t? this.action.action(this.res) \n\t\t\t\t: this.action.action;\n\t\t}\n\t},\n\tmethods: {\n\t\tactionFunc() {\n\t\t\tif (this.action.type === 'function')\n\t\t\t\tthis.action.action(this.res);\n\t\t\tthis.$emit('actionexecuted');\n\t\t},\n\t\trenderif: function() {\n\t\t\tif(this.action?.renderif === undefined) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn this.action.renderif(this.res);\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"this.renderif()\">\n\t<a class=\"searchbar-result-template-action\" :href=\"actionHref\" @click=\"actionFunc\">\n\t\t<slot>{{ $p.t('search/action_default_label') }}</slot>\n\t</a>\n\t</template>\n\t<template v-else>\n\t<div class=\"searchbar-result-template-action\">\n\t\t<slot>{{ $p.t('search/action_default_label') }}</slot>\n\t</div>\n\t</template>`\n};","import ResultAction from \"./action.js\";\nimport ResultActions from \"./actions.js\";\n\nexport default {\n\tname: 'SearchbarResultTemplateFrame',\n\tcomponents: {\n\t\tResultAction,\n\t\tResultActions\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object,\n\t\ttitle: String,\n\t\timage: String,\n\t\timageFallback: String\n\t},\n\ttemplate: `\n\t<div class=\"searchbar-result-template-frame\">\n\t\t<div class=\"searchbar_grid\">\n\t\t\t<div class=\"searchbar_icon\">\n\t\t\t\t<result-action\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:action=\"actions.defaultaction\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\tclass=\"searchbar-rounded-image\"\n\t\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tv-if=\"image\"\n\t\t\t\t\t\t:src=\"image\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<i :class=\"imageFallback\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</result-action>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_data\">\n\t\t\t\t<result-action\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:action=\"actions.defaultaction\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\tclass=\"mb-3\"\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"fw-bold\">{{ title }}</span>\n\t\t\t\t</result-action>\n\n\t\t\t\t<slot></slot>\n\n\t\t\t\t<result-actions\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:actions=\"actions.childactions\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t>\n\t\t\t\t</result-actions>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n};","import ResultAction from \"./action.js\";\n\nexport default {\n\tname: 'SearchbarResultTemplateActions',\n\tcomponents: {\n\t\tResultAction\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Array\n\t},\n\tmethods: {\n\t\trenderif: function(action) {\n\t\t\tif(action?.renderif === undefined) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn action.renderif(this.res);\n\t\t}\n\t},\n\ttemplate: `\n\t<div v-if=\"actions.length\" class=\"searchbar-result-template-actions\">\n\t\t<template v-for=\"(action, index) in actions\" :key=\"action.label\">\n\t\t<result-action\n\t\t\t v-if=\"this.renderif(action)\"\n\t\t\t:res=\"res\"\n\t\t\t:action=\"action\"\n\t\t\tclass=\"btn btn-primary btn-sm\"\n\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t>\n\t\t\t<i v-if=\"action.icon\" :class=\"action.icon\"></i>\n\t\t\t<span class=\"p-2\">{{ action.label }}</span>\n\t\t</result-action>\n\t\t</template>\n\t</div>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultPerson',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\temails() {\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"res.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultRoom',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tequipment() {\n\t\t\tif (!this.res.equipment)\n\t\t\t\treturn \"\";\n\t\t\treturn this.res.equipment.replace(new RegExp('<br />', 'ig'), '');\n\t\t},\n\t\taddress() {\n\t\t\tlet address = this.res.zip || '';\n\t\t\tif (this.res.city)\n\t\t\t\taddress += (address ? ' ' : '') + this.res.city;\n\t\t\tif (this.res.street)\n\t\t\t\taddress += (address ? ', ' : '') + this.res.street;\n\t\t\tif (this.res.floor)\n\t\t\t\taddress += (address ? ' / ' : '') + this.$p.t('search/result_address_floor', this.res);\n\n\t\t\treturn address || this.$p.t('search/result_address_none');\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-room\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.ort_kurzbz\"\n\t\timage-fallback=\"fas fa-door-open fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_room_address') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ address }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_workplaces') }}</div>\n\t\t\t\t<div v-if=\"mode == 'simple'\" class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.sitzplaetze }}\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<template v-if=\"res.max_person !== null && res.workplaces !== null\">\n\t\t\t\t\t\t{{ $p.t('search/result_workplaces_pc', res) }}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t{{ $p.t('search/result_workplaces_none') }}\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_building') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.building }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_equipment') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<div v-if=\"mode == 'simple'\" class=\"no-margin-paragraphs\" v-html=\"res.austattung.replace('<br />','')\"></div>\n\t\t\t\t\t<div v-else class=\"no-margin-paragraphs\" v-html=\"equipment\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultEmployee',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"res.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_stdkst') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.standardkostenstelle.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(stdkst, idx) in res.standardkostenstelle\" :key=\"idx\">{{ stdkst }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_stdkst_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('lehre/organisationseinheit') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.organisationunit_name.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(oe, idx) in res.organisationunit_name\" :key=\"idx\">{{ oe }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_oe_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a :href=\"'mailto:' + res.email\" class=\"d-block\">\n\t\t\t\t\t\t{{ res.email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/telefon') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a :href=\"'tel:' + res.phone\" class=\"d-block\">\n\t\t\t\t\t\t{{ res.phone }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultOrganistationunit',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-organisationunit\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\timage-fallback=\"fas fa-sitemap fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_parent_oe') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.parentoe_name }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_group_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-if=\"res.mailgroup\" :href=\"'mailto:' + res.mailgroup\">\n\t\t\t\t\t\t{{ res.mailgroup }}\n\t\t\t\t\t</a>\n\t\t\t\t\t<template v-else>-</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_leader') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.leaders.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(leader, idx) in res.leaders\" :key=\"idx\">{{ leader.name }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_leader_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_number_of_employees') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.number_of_people }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultStudent',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tphoto_url() {\n\t\t\tif (this.mode != 'simple')\n\t\t\t\treturn this.res.photo_url;\n\t\t\tif (this.res.foto)\n\t\t\t\treturn 'data:image/jpeg;base64,' + this.res.foto;\n\t\t\treturn null;\n\t\t},\n\t\temails() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn new Set([this.res.email]);\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.uid }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.matrikelnr }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultPrestudent',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn this.res.name;\n\t\t\treturn this.res.name + ' (' + this.res.status + ' ' + this.res.stg_kuerzel + ')';\n\t\t},\n\t\tphoto_url() {\n\t\t\tif (this.mode != 'simple')\n\t\t\t\treturn this.res.photo_url;\n\t\t\tif (this.res.foto)\n\t\t\t\treturn 'data:image/jpeg;base64,' + this.res.foto;\n\t\t\treturn null;\n\t\t},\n\t\temails() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn new Set([this.res.email]);\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-prestudent\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"title\"\n\t\t:image=\"photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"res.uid\" class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.uid }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"res.matrikelnr\" class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.matrikelnr }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_prestudent_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.prestudent_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('lehre/studiengang') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.bezeichnung }} {{ res.orgform ? '(' + res.orgform + ')' : '' }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultDms',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\ticon() {\n\t\t\tswitch (this.res.mimetype) {\n\t\t\t\tcase 'application/pdf':\n\t\t\t\t\treturn 'file-pdf';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n\t\t\t\tcase 'application/msword':\n\t\t\t\t\treturn 'file-word';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n\t\t\t\tcase 'application/mspowerpoint':\n\t\t\t\t\treturn 'file-powerpoint';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n\t\t\t\tcase 'application/vnd.ms-excel':\n\t\t\t\t\treturn 'file-excel';\n\t\t\t\tcase 'application/x-zip':\n\t\t\t\tcase 'application/zip':\n\t\t\t\t\treturn 'file-zipper';\n\t\t\t\tcase 'image/jpeg':\n\t\t\t\tcase 'image/gif':\n\t\t\t\tcase 'image/png':\n\t\t\t\t\treturn 'file-image';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'file';\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-dms\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image-fallback=\"'fas fa-' + icon + ' fa-4x'\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_dms_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.dms_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_version') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.version }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_keywords') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.keywords }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('global/beschreibung') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.description }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultCms',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tinject: [\n\t\t'query'\n\t],\n\tcomputed: {\n\t\tpreview() {\n\t\t\tif (this.res.template_kurzbz != 'redirect') {\n\t\t\t\tlet text = this.res.content.replace(/<!\\[CDATA\\[|\\]\\]>/ig, '').replace(/<[^>]+>/ig, '').replace(/^\\s+|\\s+$/g, '');\n\n\t\t\t\tif (text.length > 1000) {\n\t\t\t\t\t// NOTE(chris): focus on searched text!\n\t\t\t\t\tlet lower = text.toLowerCase();\n\t\t\t\t\tlet firstOccurence = Math.min(this.query.split(' ').reduce((a, c) => {\n\t\t\t\t\t\t// NOTE(chris): filter query for words that affects the content field and get the lowest index of them\n\t\t\t\t\t\tif (c == 'or')\n\t\t\t\t\t\t\treturn a;\n\t\t\t\t\t\tlet i = c.indexOf(':');\n\t\t\t\t\t\tif (i < 0 || (i > 0 && ['content', 'inhalt'].includes(c.split(':')[0]))) {\n\t\t\t\t\t\t\tlet posInText = lower.indexOf(c);\n\t\t\t\t\t\t\tif (posInText >= 0)\n\t\t\t\t\t\t\t\ta.push(posInText);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn a;\n\t\t\t\t\t}, []));\n\n\t\t\t\t\tif (firstOccurence) {\n\t\t\t\t\t\tif (firstOccurence + 997 >= text.length) {\n\t\t\t\t\t\t\tfirstOccurence = text.length - 997;\n\t\t\t\t\t\t\tif (firstOccurence > 0)\n\t\t\t\t\t\t\t\treturn '...' + text.substr(firstOccurence, 997);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn '...' + text.substr(firstOccurence, 994) + '...';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttext = text.substr(0, 997) + '...';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn text;\n\t\t\t}\n\t\t\t\n\t\t\tlet url = this.res.content_url;\n\t\t\tif (url.substr(0, 16) == '../index.ci.php/')\n\t\t\t\turl = this.$fhcApi.getUri(url.substr(16));\n\t\t\telse if (url.substr(0, 3) == '../')\n\t\t\t\turl = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/\\/+$/, '') + url.substr(2);\n\t\t\treturn '<a href=\"' + url + '\">' + url + '</a>';\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-cms\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.title\"\n\t\timage-fallback=\"fas fa-newspaper fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div v-if=\"preview\" class=\"searchbar_table\" v-html=\"preview\"></div>\n\t\t<div v-else class=\"searchbar_table text-muted\">\n\t\t\t{{ $p.t('search/result_content_none') }}\n\t\t</div>\n\t</template-frame>`\n};","import ResultPrestudent from \"./prestudent.js\";\nimport ResultStudent from \"./student.js\";\n\nexport default {\nname: 'SearchbarResultMergedstudent',\n\t\tcomponents: {\n\t\tResultPrestudent,\n\t\tResultStudent\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tprestudent() {\n\t\t\tconst prestudent = this.res.list.filter(item => item.type == 'prestudent');\n\t\t\treturn prestudent.pop();\n\t\t}\n\t},\n\ttemplate: `\n\t<result-prestudent\n\t\tv-if=\"prestudent\"\n\t\t:mode=\"mode\"\n\t\t:res=\"prestudent\"\n\t\t:actions=\"actions\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\tclass=\"searchbar-result-mergedstudent\"\n\t></result-prestudent>\n\t<result-student\n\t\tv-else\n\t\t:mode=\"mode\"\n\t\t:res=\"res.list[0]\"\n\t\t:actions=\"actions\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\tclass=\"searchbar-result-mergedstudent\"\n\t></result-student>`\n};","import TemplateFrame from \"./template/frame.js\";\nimport TemplateAction from \"./template/action.js\";\n\nexport default {\n\tname: 'SearchbarResultMergedperson',\n\tcomponents: {\n\t\tTemplateFrame,\n\t\tTemplateAction\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tperson() {\n\t\t\t // Cummulate all emails\n\t\t\tconst email = this.res.list.reduce((a, c) => [...a, ...(Array.isArray(c.email) ? c.email : [c.email])], []);\n\n\t\t\t// Use person entry if available (with cummulated emails)\n\t\t\tconst person = this.res.list.find(item => item.type == 'person');\n\t\t\tif (person)\n\t\t\t\treturn {...person, email};\n\n\t\t\t // Those properties should be the same in all entries\n\t\t\tconst { person_id, name } = this.res.list[0];\n\t\t\t // Get first photo (prefer student photo if available)\n\t\t\tlet photo_url;\n\t\t\tif (this.mode == 'simple') {\n\t\t\t\tlet foto = (this.students ? this.students.find(el => el.foto) : null)?.foto;\n\t\t\t\tif (foto)\n\t\t\t\t\tfoto = 'data:image/jpeg;base64,' + foto;\n\t\t\t\tphoto_url = foto || this.employee?.photo_url;\n\t\t\t} else\n\t\t\t\tphoto_url = ((this.students ? this.students.find(el => el.photo_url) : null) || this.employee)?.photo_url;\n\n\t\t\treturn { person_id, name, photo_url, email };\n\t\t},\n\t\temployee() {\n\t\t\treturn this.res.list.find(item => [\n\t\t\t\t'employee',\n\t\t\t\t'unassigned_employee',\n\t\t\t\t'mitarbeiter',\n\t\t\t\t'mitarbeiter_ohne_zuordnung'\n\t\t\t].includes(item.type)) || null;\n\t\t},\n\t\tstudents() {\n\t\t\tconst students = this.res.list.filter(item => [\n\t\t\t\t\t'student',\n\t\t\t\t\t'prestudent',\n\t\t\t\t\t'studentcis',\n\t\t\t\t\t'studentStv'\n\t\t\t\t].includes(item.type))\n\t\t\t\t.filter((item, idx, arr) => {\n\t\t\t\t\tif (item.type === 'prestudent') {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet prestudentwithsameuidexists = arr.some(tmpitem => {\n\t\t\t\t\t\treturn tmpitem.uid === item.uid && tmpitem.type === 'prestudent';\n\t\t\t\t\t});\n\n\t\t\t\t\tif (prestudentwithsameuidexists) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}).sort((a, b) => (a.sort || 0) - (b.sort || 0));\n\t\t\treturn students.length ? students : null;\n\t\t},\n\t\temails() {\n\t\t\t// Remove duplicates\n\t\t\treturn new Set(this.person.email);\n\t\t},\n\t\ttelurl() {\n\t\t\treturn 'tel:' + this.employee?.phone;\n\t\t},\n\t\tinaktiv() {\n\t\t\treturn this.res.list.some(item => item?.aktiv === false);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-mergedperson\"\n\t\t:class=\"(inaktiv) ? 'searchbar_inaktiv' : ''\"\n\t\t:res=\"person\"\n\t\t:actions=\"actions\"\n\t\t:title=\"person.name\"\n\t\t:image=\"person.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ person.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<template v-if=\"employee\">\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell\">\n\t\t\t\t\t\t<template-action\n\t\t\t\t\t\t\t:res=\"employee\"\n\t\t\t\t\t\t\t:action=\"actions.defaultactionemployee || actions.defaultaction\"\n\t\t\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ $p.t('search/result_employee') }}\n\t\t\t\t\t\t</template-action>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_stdkst') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"employee.standardkostenstelle.length > 0\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for=\"(stdkst, idx) in employee.standardkostenstelle\"\n\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ stdkst }}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_stdkst_none') }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('lehre/organisationseinheit') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"employee.organisationunit_name.length > 0\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for=\"(oe, idx) in employee.organisationunit_name\"\n\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ oe }}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_oe_none') }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('person/telefon') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<a :href=\"telurl\">\n\t\t\t\t\t\t\t{{ employee.phone }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"students\">\n\t\t\t\t<template v-for=\"student in students\">\n\t\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell\">\n\t\t\t\t\t\t\t<template-action\n\t\t\t\t\t\t\t\tv-if=\"actions.defaultaction\"\n\t\t\t\t\t\t\t\t:res=\"student\"\n\t\t\t\t\t\t\t\t:action=\"actions.defaultactionstudent || actions.defaultaction\"\n\t\t\t\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-if=\"mode == 'simple'\">\n\t\t\t\t\t\t\t\t\t{{ student.studiengang_kz }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else-if=\"student.status && student.stg_kuerzel\">\n\t\t\t\t\t\t\t\t\t{{ student.status }} ({{ student.stg_kuerzel }})\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t{{ $p.t('person/student') }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template-action>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.bezeichnung\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('lehre/studiengang') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.bezeichnung }} {{ student.orgform ? '(' + student.orgform + ')' : '' }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.prestudent_id\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_prestudent_id') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.prestudent_id }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.uid\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.uid }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.matrikelnr\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.matrikelnr }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t</template-frame>`\n};","import person from \"./result/person.js\";\nimport room from \"./result/room.js\";\nimport employee from \"./result/employee.js\";\nimport organisationunit from \"./result/organisationunit.js\";\nimport student from \"./result/student.js\";\nimport prestudent from \"./result/prestudent.js\";\nimport dms from \"./result/dms.js\";\nimport cms from \"./result/cms.js\";\nimport mergedStudent from \"./result/mergedstudent.js\";\nimport mergedPerson from \"./result/mergedperson.js\";\n\nexport default {\n\tname: \"FhcSearchbar\",\n\tcomponents: {\n\t\tperson,\n\t\troom,\n\t\temployee,\n\t\torganisationunit,\n\t\tstudent,\n\t\tprestudent,\n\t\tdms,\n\t\tcms,\n\t\tmergedStudent,\n\t\tmergedPerson\n\t},\n    props: {\n    \tsearchoptions: {\n    \t\ttype: Object,\n    \t\trequired: true\n    \t},\n    \tsearchfunction: {\n    \t\ttype: Function,\n    \t\trequired: true\n    \t},\n    \tshowBtnSubmit: Boolean\n    },\n    provide() {\n        return {\n            query: Vue.computed(() => this.lastQuery)\n        };\n    },\n    data: function() {\n      return {\n        searchtimer: null,\n        hidetimer: null,\n        searchsettings: {\n            searchstr: this.getSearchStr(),\n            types: this.getInitiallySelectedTypes(),\n        },\n        searchresult: [],\n        searchmode: '',\n        showresult: false,  \n        searching: false,\n        error: null,\n            abortController: null,\n\t\t\tsettingsDropdown: null,\n            lastQuery: ''\n      };\n    },\n\tcomputed: {\n\t\tsearchTypesPlaceholder() {\n\t\t\tif (!this.searchsettings.types.length) {\n\t\t\t\treturn Object.values(this.typeLabels).join(' / ');\n\t\t\t}\n\t\t\treturn this.searchsettings.types.map(type => this.typeLabels[type]).join(' / ');\n\t\t},\n\t\ttypes() {\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn [];\n\t\t\tif (Array.isArray(this.searchoptions.types))\n\t\t\t\treturn this.searchoptions.types;\n\t\t\treturn Object.keys(this.searchoptions.types);\n\t\t},\n\t\ttypeLabels() {\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn {};\n\t\t\tif (Array.isArray(this.searchoptions.types)) {\n\t\t\t\treturn this.searchoptions.types.reduce((res, type) => {\n\t\t\t\t\tres[type] = type;\n\t\t\t\t\treturn res\n\t\t\t\t}, {});\n\t\t\t}\n\t\t\treturn this.searchoptions.types;\n\t\t}\n\t},\n\ttemplate: /*html*/`\n\t\t<form\n\t\t\tref=\"searchform\"\n\t\t\tclass=\"d-flex me-3\"\n\t\t\t:class=\"searchoptions.cssclass\"\n\t\t\taction=\"javascript:void(0);\"\n\t\t\t@focusin=\"searchfocusin\"\n\t\t\t@focusout=\"searchfocusout\"\n\t\t>\n\t\t\t<div\n\t\t\t\tref=\"searchbox\"\n\t\t\t\tclass=\"h-100 input-group me-2 searchbar_searchbox\"\n\t\t\t\t:class=\"showresult ? 'open' : 'closed'\"\n\t\t\t>\n\t\t\t\t<span class=\"input-group-text\">\n\t\t\t\t\t<i class=\"fa-solid fa-magnifying-glass\"></i>\n\t\t\t\t</span>\n                <input\n                \tref=\"input\"\n                    @keyup=\"search\"\n                    @focus=\"showsearchresult\"\n                    v-model=\"searchsettings.searchstr\"\n                    class=\"form-control searchbar_input\"\n                    type=\"search\"\n                    :placeholder=\"$p.t('search/input_search_label', { types: searchTypesPlaceholder })\"\n                    :aria-label=\"$p.t('search/input_search_label', { types: searchTypesPlaceholder })\"\n                >\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"searchsettings.searchstr\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"searchbar_input_clear btn btn-outline-secondary\"\n\t\t\t\t\t@click=\"clearInput\"\n\t\t\t\t\t@focusin.stop\n\t\t\t\t>\n\t\t\t\t\t<i class=\"fas fa-close\"></i>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"showBtnSubmit\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t:title=\"$p.t('search/submit')\"\n\t\t\t\t\t:aria-label=\"$p.t('search/submit')\"\n\t\t\t\t>\n\t\t\t\t\t<i class=\"fas fa-search\"></i>\n\t\t\t\t</button>\n                <button\n                    data-bs-toggle=\"collapse\"\n                    data-bs-target=\"#searchSettings\"\n                    aria-expanded=\"false\"\n                    aria-controls=\"searchSettings\"\n                    ref=\"settingsbutton\"\n                    class=\"searchbar_setting_btn btn btn-secondary\"\n                    type=\"button\"\n                    :title=\"$p.t('search/button_filter_label')\"\n                    :aria-label=\"$p.t('search/button_filter_label')\"\n                >\n                    <i class=\"fas fa-cog\"></i>\n                </button>\n            </div>\n\n            <div v-show=\"showresult\"\n                 class=\"searchbar_results\" tabindex=\"-1\">\n              <div class=\"searchbar_results_scroller\" ref=\"result\">\n                <div class=\"searchbar_results_wrapper\" ref=\"results\">\n                  <div v-if=\"searching\">\n                    <i class=\"fas fa-spinner fa-spin fa-2x\"></i>\n                  </div>\n                  <div v-else-if=\"this.error !== null\">{{ error }}</div>\n                  <div v-else-if=\"searchresult.length < 1\">{{  $p.t('search/error_no_results') }}</div>\n                  <template v-else v-for=\"res in searchresult\">\n                    <component\n                        v-if=\"isValidRenderer(res.renderer)\"\n                        :is=\"res.renderer\"\n                        :mode=\"searchmode\"\n                        :res=\"res\"\n                        :actions=\"getActions(res)\"\n                        @actionexecuted=\"hideresult\"\n                    ></component>\n                    <div v-else class=\"searchbar-result text-danger fw-bold\">{{ $p.t('search/error_unknown_type', res) }}</div>\n                  </template>\n                </div>\n              </div>\n            </div>\n\n\t\t\t<div\n\t\t\t\tid=\"searchSettings\"\n\t\t\t\tref=\"settings\"\n\t\t\t\t@[\\`shown.bs.collapse\\`]=\"handleShowSettings\"\n\t\t\t\t@[\\`hide.bs.collapse\\`]=\"handleHideSettings\"\n\t\t\t\tclass=\"top-100 end-0 searchbar_settings text-white collapse\"\n\t\t\t\ttabindex=\"-1\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"types.length > 0\"\n\t\t\t\t\tclass=\"d-flex flex-column m-3\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"fw-light mb-2\">\n\t\t\t\t\t\t{{ $p.t('search/applyfilter_label') }}\n\t\t\t\t\t</span>\n\t\t\t\t\t<template\n\t\t\t\t\t\tv-for=\"(label, value) in typeLabels\"\n\t\t\t\t\t\t:key=\"value\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"form-check form-switch\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"fhc-switches form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\trole=\"switch\"\n\t\t\t\t\t\t\t\t:id=\"$.uid + 'search_type_' + value\"\n\t\t\t\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t\t\t\tv-model=\"searchsettings.types\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tclass=\"ps-2 form-check-label non-selectable\"\n\t\t\t\t\t\t\t\t:for=\"$.uid + 'search_type_' + value\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ label }}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n            </div>\n\t\t</form>\n    `,\n    watch:{\n\t\t'searchsettings.searchstr': function (newSearchValue) {\n\t\t\tif(this.searchoptions.origin){\n\t\t\t\tsessionStorage.setItem(`${this.searchoptions.origin}_searchstr`,newSearchValue);\n\t\t\t}\n\t\t},\n\t\t'searchsettings.types'(newValue) {\n\t\t\tif (Array.isArray(newValue) && newValue.length === 0) {\n\t\t\t\tthis.searchsettings.types = [...this.types];\n\t\t\t}\n\t\t\t// stores the search types in the localstorage, only if the newValue is also an array\n\t\t\tif (Array.isArray(newValue) && this.searchoptions.origin) {\n\t\t\t\tlocalStorage.setItem(`${this.searchoptions.origin}_searchtypes`, JSON.stringify(newValue));\n\t\t\t}\n\t\t\tthis.search();\n\t\t}\n    },\n\tmounted(){\n\t\tthis.settingsDropdown = new bootstrap.Collapse(this.$refs.settings, {\n\t\t\ttoggle: false\n\t\t});\n\n\t\tif (!this.searchoptions.origin){\n\t\t\tconsole.warn(\"No origin defined in the searchoptions for the searchbar, please define the origin property in the searchbaroptions to allow reliable storage of searchstr and searchtypes accross applications.\");\n\t\t}\n\t},\n\tupdated() {\n\t\tif(this.showresult) {\n\t\t\tVue.nextTick(() => {\n\t\t\t\tthis.calcSearchResultHeight();\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\tclearInput() {\n\t\t\tthis.searchsettings.searchstr = \"\";\n\t\t\tthis.hideresult();\n\t\t\tthis.$refs.input.focus();\n\t\t},\n\t\tgetInitiallySelectedTypes() {\n\t\t\tlet result = false;\n\t\t\tif (this.searchoptions.origin) {\n\t\t\t\tlet localStorageValue = localStorage.getItem(`${this.searchoptions.origin}_searchtypes`);\n\t\t\t\tif (localStorageValue) {\n\t\t\t\t\tresult = JSON.parse(localStorageValue);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (result)\n\t\t\t\treturn result;\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn [];\n\t\t\tif (Array.isArray(this.searchoptions.types))\n\t\t\t\treturn [...this.searchoptions.types];\n\t\t\treturn Object.keys(this.searchoptions.types);\n\t\t},\n\t\tgetSearchStr: function(){\n\t\t\tif (!this.searchoptions.origin)\n\t\t\t\treturn '';\n\t\t\treturn sessionStorage.getItem(`${this.searchoptions.origin}_searchstr`) ?? '';\n\t\t},\n\t\tcheckSettingsVisibility: function(event) {\n\t\t\t// hides the settings collapsible if the user clicks somewhere else\n\t\t\tif (!this.$refs.settings.contains(event.target))\n\t\t\t{\n\t\t\t\tthis.settingsDropdown.hide();\n\t\t\t}\n\t\t},\n\t\thandleShowSettings: function() {\n\t\t\t// adds the event listener checkSettingsVisibility only when the collapsible is shown\n\t\t\tdocument.addEventListener(\"click\", this.checkSettingsVisibility);\n\t\t},\n\t\thandleHideSettings: function () {\n\t\t\t// removes the event listener checkSettingsVisibility when the collapsible is hidden\n\t\t\tdocument.removeEventListener(\"click\", this.checkSettingsVisibility);\n\t\t},\n\t\tcalcSearchResultHeight: function() {\n\t\t\tconst rect = this.$refs.results.getBoundingClientRect();\n\t\t\tif( rect.height > 0 && rect.height < (window.innerHeight * 0.8) ) {\n\t\t\t\tthis.$refs.result.style.height = Math.ceil(rect.height + 16) + 'px';\n\t\t\t} else {\n\t\t\t\tthis.$refs.result.style.height = Math.floor(window.innerHeight * 0.8) + 'px';\n\t\t\t}\n\t\t},\n        calcSearchResultExtent: function() {\n\t\t\tif(!this.showresult) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.searchoptions?.calcheightonly === undefined \n\t\t\t\t|| this.searchoptions.calcheightonly === false) {\n\t\t\t\tvar rect = this.$refs.searchbox.getBoundingClientRect();\n\t\t\t\tthis.$refs.result.style.top = Math.floor(rect.bottom + 3) + 'px';\n\t\t\t\tthis.$refs.result.style.right = Math.floor(rect.right) + 'px';\n\t\t\t\tthis.$refs.result.style.width = Math.floor(rect.width) + 'px';\n\t\t\t}\n            this.calcSearchResultHeight();\n        },\n        search: function() {\n            if(this.searchoptions?.nolivesearch === true) return;\n\n            this.abort();\n            if( this.searchsettings.searchstr.length >= 2 ) {\n                this.calcSearchResultExtent();\n                this.searchtimer = setTimeout(\n                    this.callsearchapi,\n                    500\n                );\n            } else {                \n                this.showresult = false;\n            }\n        },\n        abort() {\n            if (this.searchtimer !== null) {\n                clearTimeout(this.searchtimer);\n            }\n            if (this.abortController) {\n                this.abortController.abort();\n                this.abortController = null;\n            }\n            this.searchresult = [];\n        },\n        callsearchapi: function() {\n            this.error = null;\n            this.searchresult.splice(0, this.searchresult.length);\n            this.searching = true;\n            this.showsearchresult();\n            if(this.searchsettings.types.length === 0) {\n                this.error = this.$p.t('search/error_missing_type');\n                this.searching = false;\n                return;\n            }\n\n            if (this.abortController)\n                this.abortController.abort();\n            this.abortController = new AbortController();\n\n            this.searchfunction(this.searchsettings, { timeout: 50000, signal: this.abortController.signal })\n            .then(response=>{\n                if (!response.data) {\n                    this.error = this.$p.t('search/error_general');\n                } else {\n                    let res = response.data.map(el => el.data ? {...el, ...JSON.parse(el.data)} : el);\n                    this.lastQuery = response.meta.searchstring;\n                    if (this.searchoptions.mergeResults) {\n                        let counter = 0;\n                        let mergeTypes = [];\n                        let mergedType = 'merged-';\n                        let mergeKey = '';\n\n                        switch (this.searchoptions.mergeResults) {\n                        case 'student':\n                            mergeTypes = ['student', 'prestudent'];\n                            mergedType += this.searchoptions.mergeResults;\n                            mergeKey = 'uid';\n                            break;\n                        case 'person':\n                            mergeTypes = ['person', 'employee', 'student', 'prestudent'];\n                            mergedType += this.searchoptions.mergeResults;\n                            mergeKey = 'person_id';\n                            break;\n                        }\n\n                        if (mergeTypes.length) {\n                            res = Object.values(res.reduce((a, c) => {\n                                if (!mergeTypes.includes(c.renderer)) {\n                                    a['nomerge' + counter++] = c;\n                                } else if (c[mergeKey] === null) {\n                                    a['nomerge' + counter++] = c;\n                                } else if (a[c[mergeKey]] === undefined) {\n                                    a[c[mergeKey]] = {\n                                        rank: c.rank,\n                                        renderer: mergedType,\n                                        type: mergedType,\n                                        list: [c]\n                                    };\n                                } else {\n                                    a[c[mergeKey]].list.push(c);\n                                    if (c.rank > a[c[mergeKey]].rank)\n                                        a[c[mergeKey]].rank = c.rank;\n                                }\n                                return a;\n                            }, {})).sort((a, b) => b.rank - a.rank);\n                        }\n                    }\n                    this.searchresult = res;\n                    this.searchmode = response.meta.mode;\n                }\n                this.searching = false;\n                this.retry = 0;\n            })\n            .catch(error=> {\n                if (error.code == \"ERR_CANCELED\") {\n                    return this.retry = 0;\n                }\n                if (error.code == \"ECONNABORTED\" && this.retry) {\n                    this.retry--;\n                    return this.callsearchapi();\n                }\n\n                this.error = this.$p.t('search/error_general', error);\n                this.searching = false;\n                this.retry = 0;\n            });\n        },\n        refreshsearch: function() {\n          this.search();\n          this.togglesettings();\n        },\n        hideresult: function() {\n            this.showresult = false;\n            window.removeEventListener('resize', this.calcSearchResultExtent);\n        },\n        showsearchresult: function() {\n            if(this.searchoptions?.nolivesearch === true) return;\n\n            if( this.searchsettings.searchstr.length >= 2 ) {\n                this.showresult = true;\n                window.addEventListener('resize', this.calcSearchResultExtent);\n\t\t\t\tthis.calcSearchResultExtent();\n            }\n        },\n        searchfocusin: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            if( this.hidetimer !== null ) {\n                clearTimeout(this.hidetimer);\n            }\n\t\t\tif (this.searchsettings.searchstr.length >= 2\n\t\t\t\t&& this.searchresult.length === 0) {\n\t\t\t\tthis.search();\n\t\t\t}\n        },\n        searchfocusout: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.hidetimer = setTimeout(\n                this.hideresult,\n                100\n            );\n        },\n        dash2camelCase(string) {\n            return string.replace(/-([a-z])/g, g => g[1].toUpperCase());\n        },\n        isValidRenderer(renderer) {\n            const camelCaseRenderer = this.dash2camelCase(renderer);\n            return Object.keys(this.$.components).includes(camelCaseRenderer);\n        },\n\t\tgetActions(res) {\n\t\t\tlet actions = this.searchoptions.actions[this.dash2camelCase(res.renderer)];\n\t\t\tif (actions) {\n\t\t\t\treturn actions;\n\t\t\t}\n\t\t\treturn this.searchoptions.actions[res.type];\n\t\t}\n    }\n};\n","export default {\n    name: 'VerticalSplit',\n    data: function() {\n      return {          \n          availHeight: 0,\n          topheight: 0,\n          bottomheight: 0,\n          mousePosY: 0, \n          resize: false,\n          vsplitter: null,\n          vsplitterOffset: 0,\n          selfOffsetTop: 0\n      };  \n    },\n    template: `\n    <div ref=\"verticalsplit\">\n        <div ref=\"toppanel\" class=\"verticalsplitted\" \n             :style=\"{height: this.topheightcss}\">\n            <slot name=\"top\">\n                <p>Top Panel</p>\n            </slot>\n        </div>\n        <div ref=\"vsplitter\" class=\"verticalsplitter\" \n             :class=\"this.topOrBottomClass\" @mousedown=\"this.dragStart\">\n            <div class=\"splitactions\" :class=\"this.topOrBottomClass\">\n                <span @click=\"this.collapseTop\" class=\"splitaction\">\n                    <i class=\"fas fa-angle-up text-muted\"></i>\n                </span>\n                <span @dblclick=\"this.showBoth\" class=\"splitaction resize\">\n                    <i class=\"fas fa-grip-lines text-muted\"></i>\n                </span>\n                <span @click=\"this.collapseBottom\" class=\"splitaction\">\n                    <i class=\"fas fa-angle-down text-muted\"></i>\n                </span>\n            </div>\n        </div>\n        <div ref=\"bottompanel\" class=\"verticalsplitted\"\n             :style=\"{height: this.bottomheightcss}\">\n            <slot name=\"bottom\">\n                <p/>\n            </slot>\n        </div>\n    </div>\n    `,\n    mounted: function() {\n        this.calcHeights();\n        this.trackVerticalSplitterOffsetTop();\n        window.addEventListener('resize', this.calcHeights);\n    },\n    updated: function() {\n        this.trackVerticalSplitterOffsetTop();\n    },\n    methods: {\n        calcHeights: function() {\n            var windowheight = window.innerHeight;\n            var oldavailHeight = this.availHeight;\n            this.selfOffsetTop = this.$refs.verticalsplit.offsetTop;\n            this.availHeight = windowheight - this.selfOffsetTop - this.$refs.vsplitter.offsetHeight;\n            if( (this.topheight === 0 && this.bottomheight === 0) || oldavailHeight === 0 ) {\n                this.topheight = Math.floor(this.availHeight/2);\n            } else {\n                this.topheight = Math.floor( ((((this.topheight * 100) / oldavailHeight) / 100) * this.availHeight) );\n            }\n            this.bottomheight = this.availHeight - this.topheight;\n        },\n        collapseTop: function() {\n            this.calcHeights();\n            this.topheight = 0;\n            this.bottomheight = this.availHeight;\n        },\n        collapseBottom: function() {\n            this.calcHeights();\n            this.topheight = this.availHeight;\n            this.bottomheight = 0;\n        },\n        showBoth: function() {\n            this.topheight = Math.floor(this.availHeight/2);\n            this.bottomheight = Math.floor(this.availHeight/2);\n        },\n        isCollapsed: function() {\n            if( this.topheight === 0 ) {\n                return 'top';\n            } else if ( this.bottomheight === 0 ) {\n                return 'bottom';\n            } else {\n                return false;\n            }\n        },\n        dragStart: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            window.addEventListener('mouseup', this.dragEnd);\n            window.addEventListener('mousemove', this.drag);\n            this.resize = true;\n            this.mousePosY = e.clientY;\n        },\n        drag: function(e) {\n            if( !this.resize ) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            var offsetY = e.clientY - this.mousePosY;\n            this.topheight = this.topheight + offsetY;\n            if( this.topheight < 0 ) {\n                this.topheight = 0;\n            }\n            if( this.topheight > this.availHeight ) {\n                this.topheight = this.availHeight;\n            }\n            this.bottomheight = this.availHeight - this.topheight;\n            this.mousePosY = e.clientY;\n        },\n        dragEnd: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            window.removeEventListener('mousemove', this.drag);\n            window.removeEventListener('mouseup', this.dragEnd);\n            this.resize = false;\n            this.mousePosY = e.clientY;\n        },\n        trackVerticalSplitterOffsetTop: function() {\n            this.vsplitterOffset = this.$refs.vsplitter.offsetTop;\n        }\n    },\n    computed: {\n        topOrBottomClass: function() {\n            return ((this.vsplitterOffset - this.selfOffsetTop) <= Math.floor(this.availHeight/2))\n                        ? 'top'\n                        : 'bottom';\n        },\n        topheightcss: function() {\n            return this.topheight + 'px';\n        },\n        bottomheightcss: function() {\n            return this.bottomheight + 'px';\n        }\n    }\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/header',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t},\n\tgetMenu(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/menu',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport ApiNavigation from '../api/factory/navigation.js';\n\nexport default {\n\tname: 'AppMenu',\n\tprops: {\n\t\tappIdentifier: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tnavigationPage: {\n\t\t\ttype: String,\n\t\t\tdefault: 'apps'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: []\n\t\t};\n\t},\n\twatch: {\n\t\tnavigationPage() {\n\t\t\tthis.getItems();\n\t\t}\n\t},\n\tmethods: {\n\t\tgetItems() {\n\t\t\tthis.$api\n\t\t\t\t.call(ApiNavigation.getMenu(this.navigationPage))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.items = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.getItems();\n\t},\n\ttemplate: /* html */`\n\t<ul class=\"fhc-app-menu\">\n\t\t<li v-for=\"(menu, key) in items\" :key=\"key\">\n\t\t\t<a\n\t\t\t\t:href=\"menu.link\"\n\t\t\t\t@click=\"menu.onClickCall\"\n\t\t\t\t:class=\"{ active: key === appIdentifier }\"\n\t\t\t>\n\t\t\t\t<i v-if=\"menu.icon\" class=\"fa fa-fw\" :class=\"'fa-'+ menu.icon\" />\n\t\t\t\t{{ menu.description }}\n\t\t\t</a>\n\t\t</li>\n\t\t<slot />\n\t</ul>`\n};\n","/**\n * TODO(chris): This is only a prototype!!!\n */\n\nconst TYPE_DEFINITION = {\n\tlehreinheit: {\n\t\tid: \"lehreinheit_id\",\n\t\tdragIcon: \"fa-solid fa-chalkboard-user\",\n\t\textras: [\n\t\t\t\"stundenblockung\"\n\t\t]\n\t},\n\tvevent: {\n\t\tid: \"uid\",\n\t\tdragIcon: \"fa-solid fa-calendar\",\n\t\textras: [\n\t\t\t\"dtstart\",\n\t\t\t\"dtend\",\n\t\t\t\"summary\"\n\t\t]\n\t},\n\tperson: {\n\t\tid: \"person_id\",\n\t\tdragIcon: \"fa-solid fa-user\"\n\t},\n\tstudent: {\n\t\tid: \"student_uid\",\n\t\tdragIcon: \"fa-solid fa-user-graduate\"\n\t},\n\tprestudent: {\n\t\tid: \"prestudent_id\",\n\t\tdragIcon: \"fa-solid fa-user-graduate text-muted\"\n\t}\n\t// TODO: IMPLEMENT OTHER TYPES\n};\n\nconst VALID_TYPES = Object.keys(TYPE_DEFINITION);\n\nconst TYPE_CONSTANTS = Object.keys(TYPE_DEFINITION).reduce((res, type) => {\n\tres['TYPE_' + type.toUpperCase()] = type;\n\treturn res;\n}, {});\n\nfunction isValidDragObject(value) {\n\tif (!value)\n\t\treturn false;\n\tif (Array.isArray(value))\n\t\treturn value.every(isValidDragObject);\n\tif (!value.type)\n\t\treturn false;\n\n\tif (value.type.substr(-11) == '-collection') {\n\t\tif (!Object.prototype.hasOwnProperty.call(value, 'values'))\n\t\t\treturn false;\n\n\t\tif (!VALID_TYPES.includes(value.type.substr(0, value.type.length-11)))\n\t\t\treturn false;\n\t} else {\n\t\tif (!Object.prototype.hasOwnProperty.call(value, 'id'))\n\t\t\treturn false;\n\n\t\tif (!VALID_TYPES.includes(value.type))\n\t\t\treturn false;\n\n\t\tif (TYPE_DEFINITION[value.type].extras) {\n\t\t\tif (!TYPE_DEFINITION[value.type].extras.every(extra => Object.prototype.hasOwnProperty.call(value, extra)))\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction getValidTransferData(event, allowedTypes, strict) {\n\tlet obj = null;\n\n\ttry {\n\t\tobj = getTransferData(event, strict);\n\t\tif (!obj)\n\t\t\treturn null;\n\n\t\tif (!strict && Array.isArray(obj)) {\n\t\t\tobj = obj.filter(isValidDragObject);\n\t\t\tif (!obj.length)\n\t\t\t\treturn null;\n\t\t} else if (!isValidDragObject(obj))\n\t\t\treturn null;\n\n\t\tif (allowedTypes && allowedTypes.length) {\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tif (strict && !obj.every(v => allowedTypes.includes(v.type))) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else if (!strict) {\n\t\t\t\t\tobj = obj.filter(v => allowedTypes.includes(v.type));\n\t\t\t\t\tif (!obj.length)\n\t\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else if (!allowedTypes.includes(obj.type)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t} catch(_error) {\n\t\treturn null;\n\t}\n\n\tif (Array.isArray(obj) && obj.length == 1)\n\t\treturn obj.find(Boolean);\n\n\treturn obj;\n}\n\nfunction isValidTransferData(event, allowedTypes, strict) {\n\treturn getValidTransferData(event, allowedTypes, strict) ? true : false;\n}\n\nfunction getTransferData(event, strict) {\n\tconst result = [];\n\n\tfor (const type of event.dataTransfer.types) {\n\t\tif (type.substr(0, 16) != 'application/fhc-') {\n\t\t\tif (strict)\n\t\t\t\treturn null;\n\t\t\tcontinue;\n\t\t}\n\t\tlet base_type = type.substr(16);\n\t\tlet collection = false;\n\t\tif (base_type.substr(-11) == '-collection') {\n\t\t\tbase_type = base_type.substr(0, base_type.length-11);\n\t\t\tcollection = true;\n\t\t}\n\t\tif (!VALID_TYPES.includes(base_type)) {\n\t\t\tif (strict)\n\t\t\t\treturn null;\n\t\t\tcontinue;\n\t\t}\n\t\tlet data = JSON.parse(event.dataTransfer.getData(type));\n\t\tif (collection)\n\t\t\tresult.push(...data.values);\n\t\telse\n\t\t\tresult.push(data);\n\t}\n\n\tif (!result.length)\n\t\treturn null;\n\n\tif (result.length == 1)\n\t\treturn result[0];\n\n\treturn result;\n}\n\nfunction convertToValidDragObject(data, strict) {\n\tif (Array.isArray(data)) {\n\t\tconst converted = data.map(convertToValidDragObject).filter(Boolean);\n\t\tif (!converted.length)\n\t\t\treturn undefined;\n\t\tif (strict && converted.length != data.length)\n\t\t\treturn undefined;\n\n\t\tconst sorted = converted.reduce((res, item) => {\n\t\t\tif (!res[item.type])\n\t\t\t\tres[item.type] = [];\n\t\t\tres[item.type].push(item);\n\t\t\treturn res;\n\t\t}, {});\n\n\t\treturn Object.entries(sorted).map(([type, values]) => {\n\t\t\tif (values.length > 1) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: type + '-collection',\n\t\t\t\t\tvalues\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn values[0];\n\t\t});\n\t}\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'type') && isValidDragObject(data)) {\n\t\treturn data;\n\t}\n\n\tconst found = Object.entries(TYPE_DEFINITION).find(([ , typedef ]) => {\n\t\tif (!Object.prototype.hasOwnProperty.call(data, typedef.id))\n\t\t\treturn false;\n\t\tif (typedef.extras) {\n\t\t\tif (!typedef.extras.every(extra => Object.prototype.hasOwnProperty.call(data, extra)))\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\tif (!found) {\n\t\treturn undefined;\n\t}\n\n\tconst [ type, typedef ] = found;\n\n\tconst newData = {};\n\tnewData.type = type;\n\tnewData.id = data[typedef.id];\n\tif (typedef.extras)\n\t\ttypedef.extras.forEach(extra => newData[extra] = data[extra]);\n\n\treturn newData;\n}\n\nfunction setTransferData(event, validDragObject, setDragImage = false) {\n\tif (setDragImage) {\n\t\tconst dragItems = Array.isArray(validDragObject) ? validDragObject : [ validDragObject ];\n\t\tconst dragElements = dragItems.map(item => {\n\t\t\tconst icon = document.createElement('i');\n\t\t\tconst label = document.createElement('span');\n\t\t\tconst iconContainer = document.createElement('span');\n\n\t\t\ticonContainer.className = 'btn btn-outline-dark bg-light';\n\t\t\tlabel.className = 'small';\n\n\t\t\tif (TYPE_DEFINITION[item.type]) {\n\t\t\t\ticon.className = TYPE_DEFINITION[item.type].dragIcon || 'fa-solid fa-question';\n\t\t\t\tlabel.textContent = item.id;\n\t\t\t} else if (item.type.substr(-11) == '-collection' && TYPE_DEFINITION[item.type.substr(0, item.type.length-11)]) {\n\t\t\t\ticonContainer.style.boxShadow = '3px 3px var(--bs-btn-border-color)';\n\t\t\t\ticon.className = TYPE_DEFINITION[item.type.substr(0, item.type.length-11)].dragIcon || 'fa-solid fa-question';\n\t\t\t\tlabel.textContent = 'x' + item.values.length;\n\t\t\t} else {\n\t\t\t\ticon.className = 'fa-solid fa-question';\n\t\t\t\tlabel.textContent = item.id || '';\n\t\t\t}\n\t\t\t\n\t\t\ticonContainer.append(icon);\n\n\t\t\tconst itemContainer = document.createElement('div');\n\t\t\titemContainer.className = 'd-flex flex-column align-items-center gap-2 small';\n\t\t\titemContainer.append(iconContainer, label);\n\t\t\treturn itemContainer;\n\t\t});\n\n\t\tconst container = document.createElement('div');\n\t\tcontainer.className = 'd-flex flex-row gap-2 small';\n\t\tcontainer.append(...dragElements);\n\n\t\tdocument.body.append(container);\n\t\tevent.dataTransfer.setDragImage(container, -25, 0);\n\t\trequestAnimationFrame(() => {\n\t\t\tdocument.body.removeChild(container);\n\t\t});\n\t}\n\tif (Array.isArray(validDragObject)) {\n\t\treturn validDragObject.forEach(data => setTransferData(event, data));\n\t}\n\t\n\tevent.dataTransfer.setData('application/fhc-' + validDragObject.type, JSON.stringify(validDragObject));\n}\n\n/**\n * check if the dataTransfer types are in the allowed types array\n * if strict is disabled at least one type must be the allowed array\n * otherwise all types have to be in the allowed array\n *\n * @param Event\t\tevent\n * @param Array\t\tallowedTypes\n * @param Boolean\tstrict\n */\nfunction eventHasTypes(event, allowedTypes, strict) {\n\tif (!allowedTypes || !allowedTypes.length)\n\t\tallowedTypes = VALID_TYPES;\n\tallowedTypes = allowedTypes.map(type => 'application/fhc-' + type);\n\n\tconst dataTypes = [...event.dataTransfer.types];\n\t\n\t// NOTE(chris): if dragging across browsers the dataTransfer object is\n\t// set to a default one without data. Since we do not support dragging\n\t// across browsers (yet) we return false which will disallow dropping.\n\tif (!dataTypes.length)\n\t\treturn false;\n\t\n\tif (!strict)\n\t\treturn allowedTypes.some(type => [...event.dataTransfer.types].includes(type));\n\t\n\treturn [...event.dataTransfer.types].every(type => allowedTypes.includes(type));\n}\n\nfunction bindDragEnterLeave(el, onEnter, onLeave) {\n\t// NOTE(chris): add save dragenter and dragleave events\n\t// that won't fire when hovering over child elements\n\n\tlet skipLeave = false;\n\tlet skipLeaveParent = true;\n\n\tfunction init(evt) {\n\t\tskipLeave = false;\n\t\tskipLeaveParent = true;\n\t\t// add global listeners\n\t\twindow.addEventListener('dragenter', globalDragenter, true);\n\t\twindow.addEventListener('dragleave', globalDragleave, true);\n\t\twindow.addEventListener('drop', globalDrop, true);\n\t\t// call enter\n\t\tonEnter(evt);\n\t\t// remove self\n\t\tel.removeEventListener('dragenter', init);\n\t}\n\n\tfunction cleanup(evt, wasDropped) {\n\t\t// remove global listeners\n\t\twindow.removeEventListener('dragenter', globalDragenter, true);\n\t\twindow.removeEventListener('dragleave', globalDragleave, true);\n\t\twindow.removeEventListener('drop', globalDrop, true);\n\t\t// call leave\n\t\tonLeave(evt, wasDropped);\n\t\t// add init\n\t\tel.addEventListener('dragenter', init);\n\t}\n\n\tfunction globalDragenter(evt) {\n\t\tskipLeaveParent = false;\n\t\tif (el != evt.target && !el.contains(evt.target)) {\n\t\t\tcleanup(evt);\n\t\t} else {\n\t\t\tskipLeave = true;\n\t\t}\n\t}\n\tfunction globalDragleave(evt) {\n\t\tif (el != evt.target && !el.contains(evt.target)) {\n\t\t\tif (skipLeaveParent) {\n\t\t\t\tskipLeaveParent = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (skipLeave) {\n\t\t\t\tskipLeave = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tcleanup(evt);\n\t}\n\tfunction globalDrop(evt) {\n\t\tcleanup(evt, true);\n\t}\n\n\tel.addEventListener('dragenter', init);\n\n\treturn () => {\n\t\t// cleanup\n\t\tel.removeEventListener('dragenter', init);\n\t}\n}\n\nexport {\n\tisValidDragObject,\n\tgetValidTransferData,\n\tisValidTransferData,\n\tgetTransferData,\n\tconvertToValidDragObject,\n\tsetTransferData,\n\teventHasTypes,\n\tbindDragEnterLeave\n};\nexport default {\n\t...TYPE_CONSTANTS,\n\tisValidDragObject,\n\tgetValidTransferData,\n\tisValidTransferData,\n\tgetTransferData,\n\tconvertToValidDragObject,\n\tsetTransferData,\n\teventHasTypes,\n\tbindDragEnterLeave\n};\n","import { getValidTransferData, eventHasTypes, bindDragEnterLeave } from '../helpers/DragAndDrop.js';\n\nconst EFFECTS = [\n\t'move',\n\t'copy',\n\t'link',\n\t'none'\n];\n\nexport default {\n\tmounted(el, binding) {\n\t\tconst allowedTypes = Object.keys(binding.modifiers);\n\t\tallowedTypes.forEach(type => {\n\t\t\tif (type.substr(-11) == '-collection') {\n\t\t\t\tconst singleType = type.substr(0, type.length-11);\n\t\t\t\tif (!allowedTypes.includes(singleType))\n\t\t\t\t\tallowedTypes.push(singleType);\n\t\t\t}\n\t\t});\n\n\t\tconst strict = binding.arg.match(/(strict-|-strict)/);\n\t\tconst arg = binding.arg.replace(/(strict-|-strict)/, '');\n\t\tconst effect = EFFECTS.includes(arg) ? arg : null;\n\n\t\tconst bcc = new BroadcastChannel('fhc-dnd');\n\t\tlet allowed = false;\n\n\t\tfunction onEnter(evt) {\n\t\t\tallowed = eventHasTypes(evt, allowedTypes, strict);\n\t\t\tif (allowed) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tbcc.postMessage('block');\n\t\t\t}\n\t\t}\n\t\tfunction onLeave(evt, wasDropped) {\n\t\t\tif (allowed && !wasDropped) {\n\t\t\t\tbcc.postMessage('release');\n\t\t\t}\n\t\t}\n\t\tfunction onOver(evt) {\n\t\t\tif (allowed) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tif (effect)\n\t\t\t\t\tevt.dataTransfer.dropEffect = effect;\n\t\t\t}\n\t\t}\n\t\tfunction onDrop(evt) {\n\t\t\tlet result = getValidTransferData(evt, allowedTypes, strict);\n\t\t\tif (!Array.isArray(result) && !binding.modifiers[result.type] && allowedTypes.includes(result.type + '-collection'))\n\t\t\t\tresult = [result];\n\n\t\t\tconst res = binding.value(evt, result);\n\t\t\t\n\t\t\tif (res instanceof Promise) {\n\t\t\t\tres.then(r => {\n\t\t\t\t\tbcc.postMessage('release');\n\t\t\t\t\treturn r;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbcc.postMessage('release');\n\t\t\t}\n\t\t}\n\n\t\tconst cleanupEnterLeave = bindDragEnterLeave(el, onEnter, onLeave);\n\t\tel.addEventListener('dragover', onOver);\n\t\tel.addEventListener('drop', onDrop);\n\t\tel.fhcDropCleanup = () => {\n\t\t\tcleanupEnterLeave();\n\t\t\tel.removeEventListener('dragover', onOver);\n\t\t\tel.removeEventListener('drop', onDrop);\n\t\t};\n\t},\n\tbeforeUnmount(el) {\n\t\tel.fhcDropCleanup();\n\t\tdelete el.fhcDropCleanup;\n\t}\n}\n","import { bindDragEnterLeave } from '../helpers/DragAndDrop.js';\n\nexport default {\n\tmounted(el, binding) {\n\t\tconst delay = parseInt(binding.arg) || 300;\n\n\t\tlet timeout = null;\n\t\tfunction startCountdown() {\n\t\t\ttimeout = window.setTimeout(binding.value, delay);\n\t\t}\n\t\tfunction stopCountdown() {\n\t\t\tif (timeout)\n\t\t\t\twindow.clearTimeout(timeout);\n\t\t\ttimeout = null;\n\t\t}\n\n\t\tlet lastTarget;\n\t\tlet lastX;\n\t\tlet lastY;\n\n\t\tfunction onDragOver(evt) {\n\t\t\tif (lastX != evt.offsetX || lastY != evt.offsetY || lastTarget != evt.target) {\n\t\t\t\t// moved\n\t\t\t\tlastTarget = evt.target;\n\t\t\t\tlastX = evt.offsetX;\n\t\t\t\tlastY = evt.offsetY;\n\n\t\t\t\tstopCountdown();\n\t\t\t\tstartCountdown();\n\t\t\t}\n\t\t}\n\n\t\tfunction onEnter(evt) {\n\t\t\tlastTarget = evt.target;\n\t\t\tlastX = evt.offsetX;\n\t\t\tlastY = evt.offsetY;\n\n\t\t\tel.addEventListener('dragover', onDragOver);\n\n\t\t\tstartCountdown();\n\t\t}\n\t\tfunction onLeave() {\n\t\t\tstopCountdown();\n\t\t\tel.removeEventListener('dragover', onDragOver);\n\t\t}\n\n\t\tel.fhcDragClickCleanup = bindDragEnterLeave(el, onEnter, onLeave);\n\t},\n\tbeforeUnmount(el) {\n\t\tel.fhcDragClickCleanup();\n\t\tdelete el.fhcDragClickCleanup;\n\t}\n}\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tadd(uid, gruppe_kurzbz, studiensemester_kurzbz) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/gruppen/add/',\n\t\t\tparams: {\n\t\t\t\tuid,\n\t\t\t\tgruppe_kurzbz,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t}\n\t\t};\n\t},\n\tsearch(query, studiengang_kz) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/gruppen/search/',\n\t\t\tparams: {\n\t\t\t\tquery,\n\t\t\t\tstudiengang_kz\n\t\t\t}\n\t\t};\n\t},\n\tgetGruppen(id) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/Gruppen/getGruppen/' + id\n\t\t};\n\t},\n\tdeleteGroup(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/Gruppen/deleteGruppe/',\n\t\t\tparams\n\t\t};\n\t}\n}\n\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/student/get/'\n\t\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t\t+ '/'\n\t\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t};\n\t},\n\tsave(prestudent_id, studiensemester_kurzbz, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/student/save/'\n\t\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t\t+ '/'\n\t\t\t\t+ encodeURIComponent(studiensemester_kurzbz),\n\t\t\tparams\n\t\t};\n\t},\n\tsaveStudent(student_uid, studiensemester_kurzbz, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/student/saveStudent/'\n\t\t\t\t+ encodeURIComponent(student_uid)\n\t\t\t\t+ '/'\n\t\t\t\t+ encodeURIComponent(studiensemester_kurzbz),\n\t\t\tparams\n\t\t};\n\t}\n};","import drop from '../../../directives/drop.js';\nimport dragClick from '../../../directives/dragClick.js';\n\nimport ApiStvGroups from '../../../api/factory/stv/group.js';\nimport ApiStvDetails from '../../../api/factory/stv/details.js';\n\nexport default {\n\tcomponents: {\n\t\tPvTreetable: primevue.treetable,\n\t\tPvColumn: primevue.column\n\t},\n\tdirectives: {\n\t\tdrop,\n\t\tdragClick\n\t},\n\tinject: {\n\t\t$reloadList: {\n\t\t\tfrom: '$reloadList',\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcurrentSemester: {\n\t\t\tfrom: 'currentSemester',\n\t\t\trequired: true\n\t\t},\n\t\tappConfig: {\n\t\t\tfrom: 'appConfig',\n\t\t\tdefault: {\n\t\t\t\tnumber_displayed_past_studiensemester: 5\n\t\t\t}\n\t\t}\n\t},\n\temits: [\n\t\t'selectVerband'\n\t],\n\tprops: {\n\t\tendpoint: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tpreselectedKey: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\tnodes: [],\n\t\t\tselectedKey: [],\n\t\t\texpandedKeys: {},\n\t\t\tfilters: {}, // TODO(chris): filter only 1st level?\n\t\t\tfavorites: {on: false, list: []}\n\t\t}\n\t},\n\tcomputed: {\n\t\tfilteredNodes() {\n\t\t\tif (this.favorites.on)\n\t\t\t\treturn this.nodes.filter(node => this.favorites.list.includes(node.key));\n\t\t\t\n\t\t\treturn this.nodes;\n\t\t},\n\t\tnoSemReloadNodes() {\n\t\t\treturn this.nodes.reduce(this.mapNodesToNoSemReloadNodes, []);\n\t\t}\n\t},\n\twatch: {\n\t\t'preselectedKey': function (newVal, oldVal) {\n\t\t\tif (newVal !== oldVal) {\n\t\t\t\tthis.setPreselection();\n\t\t\t}\n\t\t},\n\t\t'appConfig.number_displayed_past_studiensemester'(newVal, oldVal) {\n\t\t\tif (oldVal !== undefined) {\n\t\t\t\tthis.noSemReloadNodes.forEach(node => {\n\t\t\t\t\tdelete node.children;\n\t\t\t\t\tthis.onExpandTreeNode(node);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tfindNodeByKey(key, arr) {\n\t\t\tif (!arr)\n\t\t\t\tarr = this.nodes;\n\t\t\tlet res = arr.filter(n => n.key == key);\n\t\t\tif (res.length)\n\t\t\t\treturn res.pop();\n\t\t\tres = arr.map(n => n.children ? this.findNodeByKey(key, n.children) : null).filter(a => a);\n\t\t\tif (res.length)\n\t\t\t\treturn res.pop();\n\t\t\treturn null;\n\t\t},\n\t\tasync onExpandTreeNode(node) {\n\t\t\tif (!node.children) {\n\t\t\t\tif (node.data.link) {\n\t\t\t\t\tlet activeEl = null;\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\tactiveEl = document.activeElement;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tthis.loading = true;\n\t\t\t\t\t\n\t\t\t\t\treturn this.$api\n\t\t\t\t\t\t.call(this.endpoint.get(node.data.link))\n\t\t\t\t\t\t.then(result => result.data)\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst subNodes = result.map(this.mapResultToTreeData);\n\t\t\t\t\t\t\tconst realNode = this.findNodeByKey(node.key);\n\t\t\t\t\t\t\tif (realNode)\n\t\t\t\t\t\t\t\trealNode.children = subNodes;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tnode.children = subNodes; // NOTE(chris): fallback should never be the case\n\n\t\t\t\t\t\t\tlet treeitem = this.$refs.tree.$el.querySelector('[data-tree-item-key=\"' + node.key + '\"]');\n\t\t\t\t\t\t\ttreeitem = treeitem.closest('[role=\"row\"]');\n\n\t\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\t\tif (activeEl == document.activeElement)\n\t\t\t\t\t\t\t\t\ttreeitem.dispatchEvent(new KeyboardEvent('keydown', {\n\t\t\t\t\t\t\t\t\t\tcode: 'ArrowDown',\n\t\t\t\t\t\t\t\t\t\tkey: 'ArrowDown'\n\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSelectTreeNode(node) {\n\t\t\tif (node.data.link)\n\t\t\t\tthis.$emit('selectVerband', {link: node.data.link, studiengang_kz: node.data.stg_kz, semester: node.data.semester, orgform_kurzbz: node.data.orgform_kurzbz});\n\t\t},\n\t\tmapNodesToNoSemReloadNodes(result, node) {\n\t\t\tif (node.data.no_sem_reload)\n\t\t\t\tresult.push(node);\n\t\t\tif (node.children)\n\t\t\t\tresult = node.children.reduce(this.mapNodesToNoSemReloadNodes, result);\n\t\t\treturn result;\n\t\t},\n\t\tmapResultToTreeData(el) {\n\t\t\tconst cp = {\n\t\t\t\tkey: (\"\" + el.link).replace('/', '-'),\n\t\t\t\tdata: el,\n\t\t\t\tlabel: el.name\n\t\t\t};\n\n\t\t\tif (el.children)\n\t\t\t\tcp.children = el.children.map(this.mapResultToTreeData);\n\t\t\telse\n\t\t\t\tcp.leaf = el.leaf || false;\n\n\t\t\treturn cp;\n\t\t},\n\t\tfilterFav() {\n\t\t\tthis.favorites.on = !this.favorites.on;\n\t\t\tthis.$api\n\t\t\t\t.call(this.endpoint.favorites.set(\n\t\t\t\t\tJSON.stringify(this.favorites)\n\t\t\t\t));\n\t\t},\n\t\tmarkFav(key) {\n\t\t\tlet index = this.favorites.list.indexOf(key.data.link + '');\n\n\t\t\tif (index != -1) {\n\t\t\t\tthis.favorites.list.splice(index, 1);\n\t\t\t} else {\n\t\t\t\tthis.favorites.list.push(key.data.link + '');\n\t\t\t}\n\n\t\t\tthis.$api\n\t\t\t\t.call(this.endpoint.favorites.set(\n\t\t\t\t\tJSON.stringify(this.favorites)\n\t\t\t\t));\n\t\t},\n\t\tunsetFavFocus(e) {\n\t\t\tif (e.target.dataset?.linkFavAdd !== undefined) {\n\t\t\t\te.target.tabIndex = -1;\n\t\t\t} else {\n\t\t\t\tlet items = e.target.querySelectorAll('[data-link-fav-add]:not([tabindex=\"-1\"])');\n\t\t\t\titems.forEach(el => el.tabIndex = document.activeElement == el ? 0 : -1);\n\t\t\t}\n\t\t},\n\t\tsetFavFocus(e) {\n\t\t\tif (e.target.dataset?.linkFavAdd !== undefined) {\n\t\t\t\te.target.tabIndex = 0;\n\t\t\t} else {\n\t\t\t\tlet items = e.target.querySelectorAll('[data-link-fav-add][tabindex=\"-1\"]');\n\t\t\t\titems.forEach(el => el.tabIndex = 0);\n\t\t\t}\n\t\t},\n\t\tasync setPreselection()\n\t\t{\n\t\t\tif (!this.preselectedKey)\n\t\t\t{\n\t\t\t\tthis.selectedKey = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet rawKey = this.preselectedKey\n\n\t\t\tif (!rawKey || typeof rawKey !== 'string')\n\t\t\t\treturn;\n\n\t\t\tconst parts = this.preselectedKey.split('/');\n\t\t\tlet currentKey = parts[0];\n\t\t\tlet currentNode = this.findNodeByKey(currentKey);\n\n\t\t\tif (!currentNode)\n\t\t\t\treturn;\n\n\t\t\tif(this.selectedKey)\n\t\t\t{\n\t\t\t\tconst currentSelectedKey = Object.keys(this.selectedKey).find(Boolean);\n\t\t\t\tif (currentSelectedKey) {\n\t\t\t\t\tif (currentSelectedKey == currentKey)\n\t\t\t\t\t\treturn;\n\t\t\t\t\t/**\n\t\t\t\t\t * Do not select a new entry if the current is a child of the new one.\n\t\t\t\t\t * This happens if a child entry of a new stg is selected and the router\n\t\t\t\t\t * tries to select the stg root entry (because subtrees do not have\n\t\t\t\t\t * routes yet)\n\t\t\t\t\t */\n\t\t\t\t\tconst isChild = this.findNodeByKey(\n\t\t\t\t\t\tcurrentSelectedKey,\n\t\t\t\t\t\tcurrentNode.children || []\n\t\t\t\t\t);\n\t\t\t\t\tif (isChild)\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = 1; i < parts.length; i++)\n\t\t\t{\n\t\t\t\tthis.expandedKeys[currentNode.key] = true;\n\n\t\t\t\tawait this.onExpandTreeNode(currentNode);\n\n\t\t\t\tcurrentKey += '-' + parts[i];\n\t\t\t\tcurrentNode = this.findNodeByKey(currentKey);\n\n\t\t\t\tif (!currentNode)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.selectedKey = {[currentNode.key]: true};\n\t\t\tthis.onSelectTreeNode(currentNode);\n\t\t},\n\t\tasync toggleTreeNode(node) {\n\t\t\tif (this.expandedKeys[node.key]) {\n\t\t\t\tdelete this.expandedKeys[node.key];\n\t\t\t} else if (!node.leaf) {\n\t\t\t\tawait this.onExpandTreeNode(node);\n\t\t\t\tthis.expandedKeys[node.key] = true;\n\t\t\t}\n\t\t},\n\t\tgetStudentAjaxId(student) {\n\t\t\tlet res = student.id;\n\t\t\tif (student.vorname && student.nachname)\n\t\t\t\tres += ' (' + student.vorname + ' ' + student.nachname + ')';\n\t\t\treturn res;\n\t\t},\n\t\tdropStudents(node, students) {\n\t\t\tconst data = node.data;\n\t\t\t\n\t\t\tlet endpoint;\n\t\t\tif (data.gruppe_kurzbz) {\n\t\t\t\tendpoint = students.map(student => [\n\t\t\t\t\tthis.getStudentAjaxId(student),\n\t\t\t\t\tApiStvGroups.add(\n\t\t\t\t\t\tstudent.id,\n\t\t\t\t\t\tdata.gruppe_kurzbz,\n\t\t\t\t\t\tthis.currentSemester\n\t\t\t\t\t)\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tconst { semester, verband, gruppe } = data;\n\t\t\t\tconst params = { semester, verband, gruppe };\n\t\t\t\tendpoint = students.map(student => [\n\t\t\t\t\tthis.getStudentAjaxId(student),\n\t\t\t\t\tApiStvDetails.saveStudent(\n\t\t\t\t\t\tstudent.id,\n\t\t\t\t\t\tthis.currentSemester,\n\t\t\t\t\t\tparams\n\t\t\t\t\t)\n\t\t\t\t]);\n\t\t\t}\n\n\t\t\treturn this.$api\n\t\t\t\t.call(endpoint)\n\t\t\t\t.then(this.$reloadList)\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$api\n\t\t\t.call(this.endpoint.get())\n\t\t\t.then(result => {\n\t\t\t\tthis.nodes = result.data.map(el => {\n\t\t\t\t\tel.root = true;\n\t\t\t\t\treturn this.mapResultToTreeData(el);\n\t\t\t\t});\n\t\t\t\tthis.setPreselection();\n\t\t\t\tthis.loading = false;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(this.endpoint.favorites.get())\n\t\t\t.then(result => {\n\t\t\t\tif (result.data) {\n\t\t\t\t\tthis.favorites = JSON.parse(result.data);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\ttemplate: /* html */`\n\t<div class=\"overflow-auto\" tabindex=\"-1\">\n\t\t<pv-treetable\n\t\t\tref=\"tree\"\n\t\t\tclass=\"stv-verband p-treetable-sm\"\n\t\t\t:value=\"filteredNodes\"\n\t\t\t@node-expand=\"onExpandTreeNode\"\n\t\t\tselection-mode=\"single\"\n\t\t\tv-model:expanded-keys=\"expandedKeys\"\n\t\t\tv-model:selection-keys=\"selectedKey\"\n\t\t\t@node-select=\"onSelectTreeNode\"\n\t\t\tscrollable\n\t\t\tscroll-height=\"flex\"\n\t\t\t@focusin=\"setFavFocus\"\n\t\t\t@focusout=\"unsetFavFocus\"\n\t\t\t:filters=\"filters\"\n\t\t>\n\t\t\t<pv-column\n\t\t\t\tfield=\"name\"\n\t\t\t\texpander\n\t\t\t\tclass=\"text-break\"\n\t\t\t>\n\t\t\t\t<template #header>\n\t\t\t\t\t<div class=\"text-right\">\n\t\t\t\t\t\t<div class=\"p-input-icon-left\">\n\t\t\t\t\t\t\t<i class=\"pi pi-search\"></i>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tv-model=\"filters['global']\"\n\t\t\t\t\t\t\t\tclass=\"form-control ps-5\"\n\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template #body=\"{ node }\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tv-if=\"['semester', 'verband', 'gruppe', 'gruppe_kurzbz'].some(key => node.data.hasOwnProperty(key))\"\n\t\t\t\t\t\t:data-tree-item-key=\"node.key\"\n\t\t\t\t\t\t:title=\"node.data.studiengang_kz\"\n\t\t\t\t\t\tv-drag-click=\"() => toggleTreeNode(node)\"\n\t\t\t\t\t\tv-drop:link-strict.student-collection=\"(evt, students) => dropStudents(node, students)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ node.data.name }}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\t:data-tree-item-key=\"node.key\"\n\t\t\t\t\t\t:title=\"node.data.studiengang_kz\"\n\t\t\t\t\t\tv-drag-click=\"() => toggleTreeNode(node)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ node.data.name }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</pv-column>\n\t\t\t<pv-column\n\t\t\t\tfield=\"fav\"\n\t\t\t\tclass=\"flex-shrink-0 flex-grow-0\"\n\t\t\t\theader-class=\"flex-shrink-0 flex-grow-0\"\n\t\t\t>\n\t\t\t\t<template #header>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"favorites.on || favorites.list.length\"\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t@click.prevent=\"filterFav\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t:class=\"favorites.on ? 'fa-solid' : 'fa-regular'\"\n\t\t\t\t\t\t\tclass=\"fa-star\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t</a>\n\t\t\t\t</template>\n\t\t\t\t<template #body=\"{ node }\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"node.data.root\"\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\ttabindex=\"-1\"\n\t\t\t\t\t\tdata-link-fav-add\n\t\t\t\t\t\t@click.prevent=\"markFav(node)\"\n\t\t\t\t\t\t@keydown.enter.stop.prevent=\"markFav(node)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t:class=\"favorites.list.includes(node.data.link + '') ? 'fa-solid' : 'fa-regular'\"\n\t\t\t\t\t\t\tclass=\"fa-star\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t</a>\n\t\t\t\t</template>\n\t\t\t</pv-column>\n\t\t\t<pv-column field=\"studiengang_kz\" class=\"d-none\"></pv-column>\n\t\t</pv-treetable>\n\t</div>`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n//--------------------------------------------------------------------------------------------------------------------\n// Configs\n\n// To see debug messages into the browser console set this parameter as true\nconst CORE_REST_CLIENT_DEBUG = false;\n\n// Default timeout (milliseconds)\nconst CORE_REST_CLIENT_TIMEOUT = 5000;\n\n//--------------------------------------------------------------------------------------------------------------------\n// Constants\n\n// Success\nconst CORE_REST_CLIENT_SUCCESS = 0;\n\n// Properties present in a response\nconst CORE_REST_CLIENT_ERROR = \"error\";\nconst CORE_REST_CLIENT_RETVAL = \"retval\";\n\n// HTTP method parameters\nconst CRC_HTTP_GET_METHOD = \"get\";\nconst CRC_HTTP_POST_METHOD = \"post\";\n\n/**\n * Definition and initialization of the object CoreRESTClient\n */\nexport const CoreRESTClient = {\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Public methods\n\n\t/**\n\t * Performs a call using the HTTP GET method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tget: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_GET_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Performs a call using the HTTP POST method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tpost: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_POST_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Checks if the response is a success\n\t */\n\tisSuccess: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR)\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL) && response.error == CORE_REST_CLIENT_SUCCESS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Checks if the response is an error\n\t */\n\tisError: function(response) {\n\t\treturn !CoreRESTClient.isSuccess(response);\n\t},\n\n\t/**\n\t * Checks if the response has data\n\t */\n\thasData: function(response) {\n\n\t\tif (CoreRESTClient.isSuccess(response))\n\t\t{\n\t\t\tif ((typeof response[CORE_REST_CLIENT_RETVAL] === \"object\" && Object.keys(response[CORE_REST_CLIENT_RETVAL]).length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"array\" && response[CORE_REST_CLIENT_RETVAL].length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"string\" && response[CORE_REST_CLIENT_RETVAL].trim() != \"\")\n\t\t\t\t|| typeof response[CORE_REST_CLIENT_RETVAL] === \"number\")\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Retrives data from response object\n\t */\n\tgetData: function(response) {\n\n\t\tif (CoreRESTClient.hasData(response))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Retrives error message from response object\n\t */\n\tgetError: function(response) {\n\n\t\tif (typeof response === \"object\"\n\t\t\t&& Object.keys(response).length > 0\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn \"Generic error\";\n\t},\n\n\t/**\n\t * Retrives code from response object\n\t */\n\tgetErrorCode: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_ERROR];\n\t\t}\n\n\t\treturn 1; // Generic error\n\t},\n\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Private methods\n\n\t/**\n\t * Generate the router URI using the connection parameters\n\t */\n\t_generateRouterURI: function(wsURL) {\n\t\tvar uri = null;\n\n\t\t// Checks if global JS object FHC_JS_DATA_STORAGE_OBJECT exists\n\t\tif (typeof FHC_JS_DATA_STORAGE_OBJECT !== \"undefined\")\n\t\t{\n\t\t\turi = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\" + wsURL;\n\t\t}\n\n\t\treturn uri;\n\t},\n\n\t/**\n\t * Method to print debug info after a controller has been called\n\t */\n\t_printDebug: function(parameters, response, errorThrown) {\n\n\t\tif (CORE_REST_CLIENT_DEBUG === true) // If global const CORE_REST_CLIENT_DEBUG is true, but really true!\n\t\t{\n\t\t\t// Print info about called controller\n\t\t\tconsole.log(\"Called controller: \" + parameters.remoteController);\n\t\t\tconsole.log(\"Call parameters:\"); // parameters given to this call\n\t\t\tconsole.log(parameters);\n\n\t\t\tif (response != null) // if there is a response...\n\t\t\t{\n\t\t\t\tconsole.log(\"Controller Response:\");\n\t\t\t\tconsole.log(response); // ...print it\n\t\t\t}\n\t\t\tif (errorThrown != null) // if there is a jQuery error...\n\t\t\t{\n\t\t\t\tconsole.log(\"jQuery error:\");\n\t\t\t\tconsole.log(errorThrown); // ...print it\n\t\t\t}\n\t\t\tconsole.log(\"--------------------------------------------------------------------------------------------\");\n\t\t}\n\t},\n\n\t/**\n\t * Performs a call to the server were the CI PHP layer is running\n\t * - wsURL: alias of the core controller to call\n\t * - wsParameters: parameters to give to the called controller\n\t * - type: POST or GET HTTP method\n\t * - axiosParameters: an object to configure the axios call\n\t */\n\t_axiosCall: function(wsURL, wsParameters, type, axiosParameters) {\n\n\t\t// Axios config object\n\t\tlet axiosCallObj = {\n\t\t\tmethod: type,\n\t\t\turl: CoreRESTClient._generateRouterURI(wsURL),\n\t\t\ttimeout: CORE_REST_CLIENT_TIMEOUT // default time out\n\t\t};\n\n\t\t// The ajax call is HTTP GET\n\t\tif (type == CRC_HTTP_GET_METHOD)\n\t\t{\n\t\t\taxiosCallObj.params = wsParameters;\n\t\t}\n\t\t// The ajax call is HTTP POST\n\t\telse\n\t\t{\n\t\t\taxiosCallObj.data = wsParameters;\n\t\t}\n\n\t\t// Check if axiosParameters is an object\n\t\tif (typeof axiosParameters === \"object\")\n\t\t{\n\t\t\t// And then copies the its properties into axiosCallObj\n\t\t\tfor (var prop in axiosParameters) axiosCallObj[prop] = axiosParameters[prop];\n\t\t}\n\n\t\t// Perform the ajax call via axios\n\t\treturn axios(axiosCallObj);\n\t}\n};\n\n","import {CoreRESTClient} from '../../../RESTClient.js';\n\nexport default {\n\temits: [\n\t\t'update:studiensemesterKurzbz'\n\t],\n\tprops: {\n\t\tstudiensemesterKurzbz: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrent: 0,\n\t\t\tloading: true,\n\t\t\tlist: [],\n\t\t\ttoday: -1\n\t\t};\n\t},\n\tmethods: {\n\t\tset(n) {\n\t\t\tthis.loading = true;\n\t\t\tlet fallback = this.current;\n\t\t\tthis.current = n;\n\t\t\tthis.save(fallback);\n\t\t},\n\t\tnext() {\n\t\t\tthis.loading = true;\n\t\t\tlet fallback = this.current;\n\t\t\tif (this.current++ >= this.list.length)\n\t\t\t\tthis.current = this.list.length - 1;\n\t\t\tthis.save(fallback);\n\t\t},\n\t\tprev() {\n\t\t\tthis.loading = true;\n\t\t\tlet fallback = this.current;\n\t\t\tif (this.current-- < 0)\n\t\t\t\tthis.current = 0;\n\t\t\tthis.save(fallback);\n\t\t},\n\t\tsetToToday() {\n\t\t\tif (this.today > 0) {\n\t\t\t\tif (this.today == this.current)\n\t\t\t\t\treturn;\n\t\t\t\treturn this.set(this.today);\n\t\t\t}\n\n\t\t\tthis.loading = true;\n\t\t\tCoreRESTClient\n\t\t\t\t.get('components/stv/studiensemester/now')\n\t\t\t\t.then(result => CoreRESTClient.getData(result.data))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.today = this.list.indexOf(result);\n\t\t\t\t\tif (this.today >= 0) {\n\t\t\t\t\t\tif (this.today != this.current)\n\t\t\t\t\t\t\tthis.set(this.today);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// TODO(chris): handle error (list might not be loaded yet)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tsave(fallback) {\n\t\t\tCoreRESTClient\n\t\t\t\t.post('components/stv/studiensemester/set', {\n\t\t\t\t\tstudiensemester: this.list[this.current]\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.$emit('update:studiensemesterKurzbz', this.list[this.current]);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.current = fallback;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.$fhcAlert.handleFormValidation(error);\n\t\t\t\t});\n\t\t}\n\t},\n\twatch: {\n\t\t'studiensemesterKurzbz': function () {\n\t\t\tthis.current = this.list.indexOf(this.studiensemesterKurzbz);\n\t\t}\n\t},\n\tcreated() {\n\t\tCoreRESTClient\n\t\t\t.get('components/stv/studiensemester')\n\t\t\t.then(result => CoreRESTClient.getData(result.data) || [])\n\t\t\t.then(result => {\n\t\t\t\tthis.list = result.map(el => el.studiensemester_kurzbz);\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.current = this.list.indexOf(this.studiensemesterKurzbz);\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\ttemplate: `\n\t<div class=\"stv-studiensemester\">\n\t\t<div class=\"btn-toolbar w-100 dropup\" role=\"toolbar\" aria-label=\"Studiensemester\">\n\t\t\t<div class=\"btn-group flex-grow-1 position-static\" role=\"group\" aria-label=\"Studiensemester einstellen\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary flex-grow-0\" @click=\"prev\"><i class=\"fa-solid fa-caret-left\"></i></button>\n\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-toggle=\"dropdown\" data-bs-display=\"static\" data-bs-offset=\"0,0\" aria-expanded=\"false\">\n\t\t\t\t\t{{list[current]}}\n\t\t\t\t\t<i v-if=\"loading\" class=\"fa-solid fa-spinner fa-spin\"></i>\n\t\t\t\t</button>\n\t\t\t\t<ul class=\"dropdown-menu dropdown-menu-dark overflow-auto w-100\" style=\"max-height:60vh\">\n\t\t\t\t\t<li v-for=\"(item, index) in list\" :key=\"index\">\n\t\t\t\t\t\t<a class=\"dropdown-item\" :class=\"{active: index == current}\" :aria-current=\"index == current ? 'true' : 'false'\" href=\"#\" @click=\"set(index)\">{{item}}</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary flex-grow-0\" @click=\"next\"><i class=\"fa-solid fa-caret-right\"></i></button>\n\t\t\t</div>\n\t\t\t<div class=\"btn-group flex-grow-0\" role=\"group\" aria-label=\"aktuelles Studiensemester\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"setToToday\"><i class=\"fa-solid fa-bullseye\"></i></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n}","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport const CoreFetchCmpt = {\n\temits: ['dataFetched'], // this component can emit the event dataFetched that it is catched by this component itself\n\tprops: {\n\t\trefresh: { // to refresh this component\n\t\t\ttype: Boolean\n\t\t},\n\t\tapiFunction: { // the function to call, must return a Promise\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\t\tapiFunctionParameters: {} // parameters for the apiFunction, type mixed, optional\n\t},\n\twatch: {\n\t\t/**\n\t\t * If the refresh property is changed then call fetchData\n\t\t */\n\t\trefresh: function (newValue, oldValue) {\n\t\t\tthis.fetchData();\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloading: false, // if in loading or not\n\t\t\terror: false, // if an error occurred while loading data\n\t\t\terrorMessage: null // the error message\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.fetchData();\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchData: function() {\n\t\t\tthis.loading = true; // loader started\n\t\t\tthis.error = false;\n\t\t\tthis.errorMessage = null;\n\n\t\t\t// Checks if the apifunction is a callable function\n\t\t\tif (typeof this.apiFunction == \"function\")\n\t\t\t{\n\t\t\t\t// Call the function stored in apiFunction\n\t        \t\tlet apiFunctionResult = this.apiFunction(this.apiFunctionParameters);\n\n\t\t\t\t// It is expected that the function returns a Promise\n\t\t\t\tif (apiFunctionResult instanceof Promise)\n\t\t\t\t{\n\t\t\t\t\tapiFunctionResult\n\t\t\t\t\t\t.then(this.successHandler) // on success\n\t\t\t\t\t\t.catch(this.errorHandler) // on error\n\t\t\t\t\t\t.finally(this.finallyHandler); // finally in any case\n\t\t\t\t}\n\t\t\t\telse // otherwise display an error\n\t\t\t\t{\n\t\t\t\t\tthis.setError(\"The called apiFunction does not return a Promise\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // otherwise display an error\n\t\t\t{\n\t\t\t\tthis.setError(\"Property apiFunction is not a function\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsetError: function(errorMessage) {\n\t\t\tthis.loading = false; // loading ended\n\t\t\tthis.error = true; // error occurred\n\t\t\tthis.errorMessage = errorMessage; // save the error message\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsuccessHandler: function(response) {\n\t\t\tthis.$emit('dataFetched', response ? response.data : undefined); // trigger the event dataFetched\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\terrorHandler: function(error) {\n\t\t\tif (error.response?.data?.retval)\n\t\t\t\tthis.setError(error.response.data.retval);\n\t\t\telse if (error.data?.message)\n\t\t\t\tthis.setError(error.data.message);\n\t\t\telse\n\t\t\t\tthis.setError(error.message);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfinallyHandler: function() {\n\t\t\tthis.loading = false; // loading ended\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot v-if=\"loading\" name=\"loading\">\n\t\t\t<div class=\"fetch-loader\">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if=\"error\" name=\"error\" :error-message=\"errorMessage\">\n\t\t\t<div class=\"fetch-error\">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\temits: {\n\t\tswitchFilter: ['filterId'],\n\t\tapplyFilterConfig: ['filterFields'],\n\t\tsaveCustomFilter: ['customFilterName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentFields: []\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypes() {\n\t\t\treturn this.columns.reduce((a,c) => {\n\t\t\t\tlet type = c.type.toLowerCase();\n\t\t\t\tif (type.indexOf('int') >= 0)\n\t\t\t\t\ta[c.name] = 'Numeric';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('varchar') >= 0 || \n\t\t\t\t\ttype.indexOf('text') >= 0 || \n\t\t\t\t\ttype.indexOf('bpchar') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Text';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('timestamp') >= 0 || \n\t\t\t\t\ttype.indexOf('date') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Date';\n\t\t\t\telse\n\t\t\t\t\ta[c.name] = '';\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t}\n\t},\n\twatch: {\n\t\tfields(n) {\n\t\t\tthis.currentFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\tswitchFilter(evt) {\n\t\t\tthis.$emit('switchFilter', evt.currentTarget.value);\n\t\t},\n\t\tapplyFilterConfig() {\n\t\t\tconst filteredFields = this.currentFields.filter(el => el.name != FILTER_COMPONENT_NEW_FILTER);\n\t\t\tif (filteredFields.filter(el => el.condition == \"\").length)\n\t\t\t\talert(\"Please fill all the filter options\");\n\t\t\telse\n\t\t\t\tthis.$emit('applyFilterConfig', filteredFields);\n\t\t},\n\t\taddField(evt) {\n\t\t\tthis.currentFields.push({\n\t\t\t\tname: FILTER_COMPONENT_NEW_FILTER\n\t\t\t});\n\t\t},\n\t\tremoveField(index) {\n\t\t\tthis.currentFields.splice(index, 1);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-config\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div v-if=\"filters.length\" class=\"mb-4\">\n\t\t\t\t\t<select class=\"form-select\" @change=\"switchFilter\">\n\t\t\t\t\t\t<option value=\"\">Bitte auswhlen...</option>\n\t\t\t\t\t\t<option v-for=\"filter in filters\" :value=\"filter.id\">\n\t\t\t\t\t\t\t{{ filter.description }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=addField>\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span> Neuer Filter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter-config-fields my-3\">\n\t\t\t\t\t<div v-for=\"(filterField, index) in currentFields\" class=\"filter-config-field row\">\n\n\t\t\t\t\t\t<div class=\"col-5\">\n\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">Filter {{ index + 1 }}</span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\t\t\t\tv-model=\"filterField.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Feld zum Filter hinzufgen...</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"col in columns\" :value=\"col.name\">\n\t\t\t\t\t\t\t\t\t\t{{ col.title }}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Numeric -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Numeric'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Grer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Text'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"contains\">Enthlt</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ncontains\">Enthlt nicht</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Timestamp and date -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Date'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Grer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"set\">Eingestellt ist</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nset\">Eingestellt nicht ist</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-1\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.option\">\n\t\t\t\t\t\t\t\t\t<option value=\"minutes\">Minuten</option>\n\t\t\t\t\t\t\t\t\t<option value=\"hours\">Stunden</option>\n\t\t\t\t\t\t\t\t\t<option value=\"days\">Tage</option>\n\t\t\t\t\t\t\t\t\t<option value=\"months\">Monate</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"col text-end\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-dark\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"removeField(index)\"\n\t\t\t\t\t\t\t\ttitle=\"Filter entfernen\"\n\t\t\t\t\t\t\t\taria-title=\"Filter entfernen\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fa-solid fa-minus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Filter save options -->\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-7\">\n\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t<input ref=\"filterName\" type=\"text\" class=\"form-control\" placeholder=\"Filternamen eingeben...\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"$emit('saveCustomFilter', $refs.filterName.value)\">Filter speichern</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" @click=\"applyFilterConfig\">Filter anwenden</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfields: Array,\n\t\tselected: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tnames: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t}\n\t},\n\temits: {\n\t\thide: ['fieldName'],\n\t\tshow: ['fieldName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tselectedFields: []\n\t\t};\n\t},\n\twatch: {\n\t\tselected(n) {\n\t\t\tthis.selectedFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle(field) {\n\t\t\tif (this.selectedFields.indexOf(field) != -1)\n\t\t\t{\n\t\t\t\tthis.selectedFields.splice(this.selectedFields.indexOf(field), 1);\n\t\t\t\tthis.$emit('hide', field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedFields.push(field);\n\t\t\t\tthis.$emit('show', field);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-columns\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"d-flex flex-wrap gap-2 p-3 justify-content-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"fieldToDisplay in fields\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:class=\"selectedFields.indexOf(fieldToDisplay) != -1 ? 'btn-dark' : 'btn-outline-dark' \"\n\t\t\t\t\t@click=\"toggle(fieldToDisplay)\"\n\t\t\t\t>\n\t\t\t\t\t{{ names[fieldToDisplay] || fieldToDisplay }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst DEFAULT_ICONS = {\n\tjsonLines: 'fa-file-lines',\n\txlsx: 'fa-file-excel',\n\tpdf: 'fa-file-pdf',\n\thtml: 'fa-file-code',\n\tjson: 'fa-file',\n\tcsv: 'fa-file-csv'\n};\nconst DEFAULT_LABELS = {\n\tjsonLines: 'Download as JSONLINES',\n\txlsx: 'Download as XLSX',\n\tpdf: 'Download as PDF',\n\thtml: 'Download as HTML',\n\tjson: 'Download as JSON',\n\tcsv: 'Download as CSV '\n};\n\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\ttabulator: Object,\n\t\tconfig: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\ticonClass: [String, Array, Object]\n\t},\n\tcomputed: {\n\t\tcurrentConfig() {\n\t\t\tif (!this.config)\n\t\t\t\treturn false;\n\n\t\t\tlet config = this.config;\n\n\t\t\tif (config instanceof Function)\n\t\t\t\treturn [config];\n\n\t\t\tif (config === null)\n\t\t\t\treturn [];\n\n\t\t\tif (this.config === true)\n\t\t\t\tconfig = ['csv'];\n\n\t\t\tif (Object.prototype.toString.call(config) === \"[object String]\")\n\t\t\t\tconfig = config.split(',');\n\n\t\t\tif (typeof config === 'object' && !Array.isArray(config)) {\n\t\t\t\tlet newConfig = [];\n\t\t\t\tfor (var k in config) {\n\t\t\t\t\tvar v = config[k], type;\n\t\t\t\t\t\n\t\t\t\t\tif (!v)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\n\t\t\t\t\tif (Object.prototype.toString.call(v) === \"[object String]\") {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(v);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: v === k ? DEFAULT_LABELS[type] : k,\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\t\tif(type !== null) {\n\t\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\t\tlabel: v,\n\t\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('neither ' + k + ' nor ' + v + ' are supported download file types');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof v === 'object' && !Array.isArray(v)) {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tif (v.formatter === undefined)\n\t\t\t\t\t\t\t\tv.formatter = type;\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = DEFAULT_LABELS[type];\n\t\t\t\t\t\t\tif (v.icon === undefined)\n\t\t\t\t\t\t\t\tv.icon = DEFAULT_ICONS[type];\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = k;\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[type],\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(k + ' is not a supported download file type');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconfig = newConfig;\n\t\t\t}\n\n\t\t\tif (Array.isArray(config))\n\t\t\t{\n\t\t\t\tconfig = config.map(el => {\n\t\t\t\t\tif (Object.prototype.toString.call(el) === \"[object String]\") {\n\t\t\t\t\t\tlet formatter = this.stringToFileFormatter(el);\n\t\t\t\t\t\tif (formatter === null)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[formatter],\n\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[formatter],\n\t\t\t\t\t\t\tformatter\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (el instanceof Function)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tformatter: el\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (typeof el === 'object' && !Array.isArray(el) && el !== null) {\n\t\t\t\t\t\tif (el.formatter instanceof Function)\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\tif (this.validateFileFormatter(el.formatter))\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(el => el !== null);\n\n\t\t\t\tif (config.length < 2)\n\t\t\t\t\treturn config;\n\n\t\t\t\tif (config.filter(el => el.label || el.icon).length == config.length)\n\t\t\t\t\treturn config;\n\n\t\t\t\talert('Config not valid');\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n\tmethods: {\n\t\tstringToFileFormatter(input) {\n\t\t\tlet lcInput = input.toLowerCase();\n\t\t\t\n\t\t\tif (lcInput == 'jsonlines')\n\t\t\t\treturn 'jsonLines';\n\t\t\t\n\t\t\tif (['xlsx', 'pdf', 'html', 'json', 'csv'].includes(lcInput))\n\t\t\t\treturn lcInput;\n\n\t\t\treturn null;\n\t\t},\n\t\tvalidateFileFormatter(input) {\n\t\t\tlet formatter = this.stringToFileFormatter(input);\n\t\t\tif (!formatter) {\n\t\t\t\talert(input + ' is not a supported file formatter');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (formatter == 'xlsx') {\n\t\t\t\tif (!window.XLSX) {\n\t\t\t\t\talert('XLSX Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (formatter == 'pdf') {\n\t\t\t\tif (!window.jspdf) {\n\t\t\t\t\talert('jsPDF Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar doc = new jspdf.jsPDF({});\n\t\t\t\tif (!doc.autoTable) {\n\t\t\t\t\talert('jsPDF-AutoTable Plugin not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdownload(config) {\n\t\t\tthis.tabulator.download(config.formatter, config.file, config.options)\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"currentConfig\">\n\t\t<template v-if=\"currentConfig.length == 1\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\t@click.prevent=\"download(currentConfig[0])\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t</template>\n\t\t<div v-else class=\"dropdown d-inline\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\trole=\"button\"\n\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t\t<li v-for=\"(conf, i) in currentConfig\" :key=\"i\">\n\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" @click.prevent=\"download(conf)\">\n\t\t\t\t\t\t<span v-if=\"conf.icon\" :class=\"conf.icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{conf.label}}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</template>\n\t`\n};\n\n","const elementDataMap = new WeakMap();\n\nexport default {\n\tmounted(el, binding) {\n\t\tlet open = false;\n\t\telementDataMap.set(el, evt => {\n\t\t\tif (!open)\n\t\t\t\treturn;\n\n\t\t\tif (el.contains(evt.target))\n\t\t\t\treturn;\n\n\t\t\tconst collapse = bootstrap.Collapse.getInstance(el)\n\t\t\tif (collapse)\n\t\t\t\tcollapse.hide();\n\t\t});\n\t\tel.addEventListener('shown.bs.collapse', () => {\n\t\t\topen = true;\n\t\t});\n\t\tel.addEventListener('hide.bs.collapse', () => {\n\t\t\topen = false;\n\t\t});\n\t\tdocument.addEventListener('click', elementDataMap.get(el), true);\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tdocument.removeEventListener('click', elementDataMap.get(el));\n\t\tdelete el.collapsibleAutoHideFunc;\n\t}\n}","/**\n * This may need changes if Tabulator gets updated!\n *\n * Current working Version: 5.5.2\n * \n * This is a copy of the fitDataStretch function. The only difference\n * is the check for frozen columns on line 22.\n */\n\nexport default window.Tabulator?.extendModule(\"layout\", \"modes\", {\n\tfitDataStretchFrozen(columns, forced) {\n\t\tvar colsWidth = 0,\n\t\ttableWidth = this.table.rowManager.element.clientWidth,\n\t\tgap = 0,\n\t\tlastCol = false;\n\n\t\tcolumns.forEach((column, i) => {\n\t\t\tif (!column.widthFixed) {\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible && !column.definition.frozen) {\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol){\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tlastCol.setWidth(0);\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/saveCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t};\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/applyFilterFields',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t};\n\t},\n\taddFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/addFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tgetFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport FilterConfig from './Filter/Config.js';\nimport FilterColumns from './Filter/Columns.js';\nimport TableDownload from './Table/Download.js';\nimport collapseAutoClose from '../../directives/collapseAutoClose.js';\n\nimport moduleLayoutFitDataStretchFrozen from '../../tabulator/layouts/fitDataStretchFrozen.js';\n\nimport ApiFilter from '../../api/factory/filter.js';\n\n//\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\nconst FILTER_COMPONENT_NEW_FILTER_TYPE = 'Filter Component New Filter Type';\n\nvar _uuid = 0;\n\n/**\n *\n */\nexport const CoreFilterCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt,\n\t\tFilterConfig,\n\t\tFilterColumns,\n\t\tTableDownload\n\t},\n\tdirectives: {\n\t\tcollapseAutoClose\n\t},\n\temits: [\n\t\t'nwNewEntry',\n\t\t'click:new',\n\t\t'tableBuilt',\n\t\t'uuidDefined'\n\t],\n\tprops: {\n\t\tonNwNewEntry: Function, // NOTE(chris): Hack to get the nwNewEntry listener into $props\n\t\ttitle: String,\n\t\tdescription: String,\n\t\tsideMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tfilterType: {\n\t\t\ttype: String\n\t\t},\n\t\ttabulatorOptions: Object,\n\t\ttabulatorEvents: Array,\n\t\ttableOnly: Boolean,\n\t\tnoColumnFilter:Boolean,\n\t\treload: Boolean,\n\t\treloadBtnInfotext: String,\n\t\tdownload: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\tnewBtnShow: Boolean,\n\t\tnewBtnClass: [String, Array, Object],\n\t\tnewBtnDisabled: Boolean,\n\t\tnewBtnLabel: String,\n\t\tuniqueId: String,\n\n\t\tidField: String,\n\t\tparentIdField: String,\n\t\tcountOnly: Boolean,\n\t\tuseSelectionSpan: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tuuid: 0,\n\t\t\t// FilterCmpt properties\n\t\t\tfilterName: null,\n\t\t\tfilterActive: false,\n\t\t\tfields: null,\n\t\t\tdataset: null,\n\t\t\tdatasetMetadata: null,\n\t\t\tselectedFields: null,\n\t\t\tfilterFields: null,\n\n\t\t\tavailableFilters: null,\n\t\t\tselectedFilter: null,\n\n\t\t\t// FetchCmpt binded properties\n\t\t\tfetchCmptRefresh: false,\n\t\t\tfetchCmptApiFunction: null,\n\t\t\tfetchCmptApiFunctionParams: null,\n\t\t\tfetchCmptDataFetched: null,\n\n\t\t\tfetchResult: null,\n\n\t\t\ttabulator: null,\n\t\t\ttableBuilt: false,\n\t\t\ttabulatorHasSelector: false,\n\t\t\tselectedData: [],\n\t\t\tpersistence: {\n\t\t\t\tsort: true,\n\t\t\t\tcolumns: true,\n\t\t\t\tfilter: false,\n\t\t\t\theaderFilter: false,\n\t\t\t\tgroup: false,\n\t\t\t\tpage: false,\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotSelectedFields() {\n\t\t\tif (!this.fields || !this.selectedFields)\n\t\t\t\treturn null;\n\t\t\treturn this.fields.filter(x => this.selectedFields.indexOf(x) === -1)\n\t\t},\n\t\tfilteredData() {\n\t\t\tif (!this.dataset)\n\t\t\t\treturn [];\n\t\t\treturn JSON.parse(JSON.stringify(this.dataset));\n\t\t},\n\t\tfilteredColumns() {\n\t\t\tlet fields = JSON.parse(JSON.stringify(this.fields)) || [];\n\t\t\tlet selectedFields = JSON.parse(JSON.stringify(this.selectedFields)) || [];\n\n\t\t\tlet columns = null;\n\n\t\t\t// If the tabulator options has been provided and it contains the property columns\n\t\t\tif (this.tabulatorOptions && this.tabulatorOptions.hasOwnProperty('columns'))\n\t\t\t\tcolumns = this.tabulatorOptions.columns;\n\n\t\t\t// If columns is not an array or it is an array with less elements then the array fields\n\t\t\tif (!Array.isArray(columns) || (Array.isArray(columns) && columns.length < fields.length))\n\t\t\t{\n\t\t\t\tcolumns = []; // set it as an empty array\n\n\t\t\t\t// Loop throught all the retrieved columns from database\n\t\t\t\tfor (let field of fields)\n\t\t\t\t{\n\t\t\t\t\t// Create a new column having the title equal to the field name\n\t\t\t\t\tlet column = {\n\t\t\t\t\t\ttitle: field,\n\t\t\t\t\t\tfield: field\n\t\t\t\t\t};\n\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\tcolumn.visible = selectedFields.indexOf(field) >= 0;\n\n\t\t\t\t\t// Add the new column to the list of columns\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // the property columns has been provided in the tabulator options\n\t\t\t{\n\t\t\t\t// Loop throught the property columns of the tabulator options\n\t\t\t\tfor (let col of columns)\n\t\t\t\t{\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\t/* fields.indexOf(col.field) == -1; ensures displaying formatter colums\n\t\t\t\t\te.g. column with rowSelection checkboxes or with custom formatted action buttons */\n\t\t\t\t\tcol.visible = selectedFields.indexOf(col.field) >= 0 || fields.indexOf(col.field) == -1;\n\n\t\t\t\t\tif (col.hasOwnProperty('resizable'))\n\t\t\t\t\t\tcol.resizable = col.visible;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn columns;\n\t\t},\n\t\tfieldIdsForVisibilty() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn [];\n\t\t\treturn this.tabulator.getColumns().filter(col => {\n\t\t\t\tlet def = col.getDefinition();\n\t\t\t\treturn !def.frozen && def.title && def.formatter != \"responsiveCollapse\";\n\t\t\t}).map(col => col.getField());\n\t\t},\n\t\tfieldNames() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn {};\n\t\t\treturn this.tabulator.getColumns().reduce((res, col) => {\n\t\t\t\tres[col.getField()] = col.getDefinition().title;\n\t\t\t\treturn res;\n\t\t\t}, {});\n\t\t},\n\t\tidExtra() {\n\t\t\tif (!this.uuid)\n\t\t\t\treturn '';\n\t\t\treturn '-' + this.uuid;\n\t\t},\n\t\tcolumnsForFilter() {\n\t\t\tif (!this.filteredColumns || !this.datasetMetadata)\n\t\t\t\treturn [];\n\t\t\tconst filterTitles = this.filteredColumns.reduce((a,c) => {\n\t\t\t\ta[c.field] = c.title;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\treturn this.datasetMetadata.map(el => ({...el, ...{title: filterTitles[el.name]}}));\n\t\t}\n\t},\n\tmethods: {\n\t\treloadTable() {\n\t\t\tif (this.tableOnly)\n\t\t\t\tthis.tabulator.setData();\n\t\t\telse\n\t\t\t\tthis.getFilter();\n\t\t},\n\t\tasync initTabulator() {\n\t\t\tlet placeholder = '< Phrasen Plugin not loaded! >';\n\t\t\tif (this.$p) {\n\t\t\t\tawait this.$p.loadCategory('ui');\n\t\t\t\tplaceholder = this.$p.t('ui/keineDatenVorhanden');\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\t// prefetch data to get fields & selectedFields for filteredColumns & filteredData\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tconst filterId = window.location.hash ? window.location.hash.slice(1) : null;\n\n\t\t\t\t\tconst resolvePromiseFunc = data => {\n\t\t\t\t\t\tthis.setRenderData(data);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\t\t\t\t\t// get the filter data\n\t\t\t\t\tif (filterId === null)\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t\t\t{ filterId },\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Define a default tabulator options in case it was not provided\n\t\t\tlet tabulatorOptions = {...{\n\t\t\t\t\tlayout: \"fitDataStretchFrozen\",\n\t\t\t\t\tmovableColumns: true,\n\t\t\t\t\tcolumnDefaults:{\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tpersistence: this.persistence,\n\t\t\t\t}, ...(this.tabulatorOptions || {})};\n\n\t\t\t// set default height if no height property is set\n\t\t\tif (tabulatorOptions.height === undefined &&\n\t\t\t\ttabulatorOptions.minHeight === undefined &&\n\t\t\t\ttabulatorOptions.maxHeight === undefined) {\n\t\t\t\ttabulatorOptions.height = 500;\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\ttabulatorOptions.data = this.filteredData;\n\t\t\t\ttabulatorOptions.columns = this.filteredColumns;\n\t\t\t} else {\n\t\t\t\ttabulatorOptions.columns.forEach(col => {\n\t\t\t\t\tif (col.visible === undefined)\n\t\t\t\t\t\tcol.visible = true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tabulatorOptions.selectable || (tabulatorOptions.columns && tabulatorOptions.columns.filter(el => el.formatter == 'rowSelection').length))\n\t\t\t\tthis.tabulatorHasSelector = true;\n\n\t\t\tif (this.idField) {\n\t\t\t\t// enable nested tabulator if parent Id given\n\t\t\t\tif (this.parentIdField) tabulatorOptions.dataTree = true;\n\t\t\t\t// set tabulator index\n\t\t\t\ttabulatorOptions.index = this.idField;\n\t\t\t}\n\n\t\t\t// Start the tabulator with the build options\n\t\t\tthis.tabulator = new Tabulator(\n\t\t\t\tthis.$refs.table,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n\t\t\t// If event handlers have been provided\n\t\t\tif (Array.isArray(this.tabulatorEvents) && this.tabulatorEvents.length > 0)\n\t\t\t{\n\t\t\t\t// Attach all the provided event handlers to the started tabulator\n\t\t\t\tfor (let evt of this.tabulatorEvents)\n\t\t\t\t\tthis.tabulator.on(evt.event, evt.handler);\n\t\t\t}\n\t\t\tthis.tabulator.on('tableBuilt', () => {this.tableBuilt = true; this.$emit('tableBuilt');});\n\t\t\tthis.tabulator.on(\"rowSelectionChanged\", data => {\n\t\t\t\tthis.selectedData = data;\n\t\t\t});\n\n\t\t\t// if nested tabulator, restructure data\n\t\t\tif (this.parentIdField && this.idField) {\n\t\t\t\tthis.tabulator.on(\"dataLoading\", data => {\n\t\t\t\t\tlet toDelete = [];\n\n\t\t\t\t\t// loop through all data\n\t\t\t\t\tfor (let childIdx = 0; childIdx < data.length; childIdx++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet child = data[childIdx];\n\n\t\t\t\t\t\t// if it has parent id, it is a child\n\t\t\t\t\t\tif (child[this.parentIdField])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// append the child on the right place. If parent found, mark original sw child on 0 level for deleting\n\t\t\t\t\t\t\tif (this.appendChild(data, child)) toDelete.push(childIdx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete the marked children from 0 level\n\t\t\t\t\tfor (let counter = 0; counter < toDelete.length; counter++)\n\t\t\t\t\t{\n\t\t\t\t\t\t// decrease index by counter as index of data array changes after every deletion\n\t\t\t\t\t\tdata.splice(toDelete[counter] - counter, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.tableOnly) {\n\t\t\t\tthis.tabulator.on('tableBuilt', () => {\n\t\t\t\t\tconst cols = this.tabulator.getColumns();\n\t\t\t\t\tthis.fields = cols.map(col => col.getField());\n\t\t\t\t\tthis.selectedFields = cols.filter(col => col.isVisible()).map(col => col.getField());\n\t\t\t\t\tif (this.tabulator.options.persistence.headerFilter)\n\t\t\t\t\t\tthis._setHeaderFilter();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.tabulator.on(\"dataFiltered\", filters => {\n\t\t\t\tthis.filterActive = filters.length > 0;\n\t\t\t});\n\t\t},\n\t\tupdateTabulator() {\n\t\t\tif (this.tabulator) {\n\t\t\t\tif (this.tableBuilt)\n\t\t\t\t\tthis._updateTabulator();\n\t\t\t\telse\n\t\t\t\t\tthis.tabulator.on('tableBuilt', this._updateTabulator);\n\t\t\t}\n\t\t},\n\t\t_updateTabulator() {\n\t\t\tthis.tabulatorHasSelector = this.tabulatorOptions.selectable || this.filteredColumns.filter(el => el.formatter == 'rowSelection').length;\n\t\t\tthis.tabulator.setColumns(this.filteredColumns);\n\t\t\tthis.tabulator.setData(this.filteredData);\n\t\t\tthis._setHeaderFilter()\n\t\t},\n\t\tclearFilters()\n\t\t{\n\t\t\tlet existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, \"\");\n\t\t\t});\n\t\t\tthis.tabulator.clearFilter();\n\t\t\tthis.filterActive = false;\n\t\t},\n\t\t_setHeaderFilter()\n\t\t{\n\t\t\tconst existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, filter.value);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetFilter() {\n\t\t\tif (this.selectedFilter === null)\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t{\n\t\t\t\t\t\tfilterId: this.selectedFilter\n\t\t\t\t\t},\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t},\n\t\tsetRenderData(data) {\n\t\t\tthis.fetchResult = data;\n\t\t\tthis.filterName = data.filterName;\n\t\t\tthis.dataset = data.dataset;\n\t\t\tthis.datasetMetadata = data.datasetMetadata;\n\n\t\t\tthis.fields = data.fields;\n\t\t\tthis.selectedFields = data.selectedFields;\n\t\t\tthis.filterFields = [];\n\n\t\t\tfor (let i = 0; i < data.datasetMetadata.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < data.filters.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (data.datasetMetadata[i].name == data.filters[j].name)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet filter = data.filters[j];\n\t\t\t\t\t\tfilter.type = data.datasetMetadata[i].type;\n\n\t\t\t\t\t\tthis.filterFields.push(filter);\n\t\t\t\t\t\t//break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\trender(response) {\n\t\t\tlet data = response;\n\n\t\t\tthis.setRenderData(data);\n\n\t\t\t// If the side menu is active\n\t\t\tif (this.sideMenu === true)\n\t\t\t{\n\t\t\t\tthis.setSideMenu(data);\n\t\t\t}\n\t\t\telse // otherwise use the dropdown in the filter options\n\t\t\t{\n\t\t\t\tthis.setDropDownMenu(data);\n\t\t\t}\n\t\t\tthis.updateTabulator();\n\t\t},\n\t\t/**\n\t\t * Set the menu\n\t\t */\n\t\tsetSideMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc,\n\t\t\t\t\tsubscriptDescription: personalFilters[filtersCount].subscriptDescription,\n\t\t\t\t\tsubscriptLinkClass: personalFilters[filtersCount].subscriptLinkClass,\n\t\t\t\t\tsubscriptLinkValue: personalFilters[filtersCount].subscriptLinkValue,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById,\n\t\t\t\t\tonClickSubscriptCall: this.handlerRemoveCustomFilter\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\n\t\t\tthis.$emit(\n\t\t\t\t'nwNewEntry',\n\t\t\t\t{\n\t\t\t\t\tlink: \"#\",\n\t\t\t\t\tdescription: \"Filters\",\n\t\t\t\t\ticon: \"filter\",\n\t\t\t\t\tchildren: filtersArray\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Set the drop down menu\n\t\t */\n\t\tsetDropDownMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\toption: filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\toption: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\t\t},\n\t\t/**\n\t\t * Used to start/refresh the FetchCmpt\n\t\t */\n\t\tstartFetchCmpt(apiFunction, apiFunctionParameters, dataFetchedCallback) {\n\t\t\t// Assign the function api of the FetchCmpt binded property\n\t\t\tthis.fetchCmptApiFunction = apiFunction;\n\n\t\t\t// In case a null value is provided set the parameters as an empty object\n\t\t\tif (apiFunctionParameters == null) apiFunctionParameters = {};\n\n\t\t\t// Always needed parameters\n\t\t\tapiFunctionParameters.filterUniqueId = FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t\tapiFunctionParameters.filterType = this.filterType;\n\n\t\t\tif (this.uniqueId)\n\t\t\t\tapiFunctionParameters.filterUniqueId += '_' + this.uniqueId;\n\n\t\t\t// Assign parameters to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptApiFunctionParams = apiFunctionParameters;\n\t\t\t// Assign data fetch callback to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptDataFetched = dataFetchedCallback;\n\t\t\t// Set the FetchCmpt binded property refresh to have the component to refresh\n\t\t\t// NOTE: this should be the last one to be called because it triggers the FetchCmpt to start to refresh\n\t\t\tthis.fetchCmptRefresh === true ? this.fetchCmptRefresh = false : this.fetchCmptRefresh = true;\n\t\t},\n\n\t\t// ------------------------------------------------------------------------------------------------------------------\n\t\t// Event handlers\n\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerSaveCustomFilter(customFilterName) {\n\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.saveCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tcustomFilterName\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerRemoveCustomFilter(event) {\n\t\t\tlet filterId = event.currentTarget.getAttribute(\"href\").substring(1);\n\t\t\tif (filterId === this.selectedFilter)\n\t\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.removeCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterId: filterId\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t/*\n\t\t *\n\t\t */\n\t\thandlerGetFilterById: function(event) {\n\n\t\t\tlet filterId = null;\n\n\t\t\t// Get the attribute href if side menu is rendered\n\t\t\tlet attr = event.currentTarget.getAttribute(\"href\");\n\n\t\t\t// Otherwise get the value of the drop down menu\n\t\t\tif (attr == null)\n\t\t\t{\n\t\t\t\tfilterId = event.currentTarget.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfilterId = attr.substring(1);\n\t\t\t}\n\n\t\t\tthis.switchFilter(filterId);\n\t\t},\n\t\tswitchFilter(filterId) {\n\t\t\tthis.selectedFilter = filterId;\n\t\t\tthis.getFilter();\n\t\t},\n\t\tapplyFilterConfig(filterFields) {\n\t\t\tthis.selectedFilter = null;\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.applyFilterFields(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterFields\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t// append child to it's parent\n\t\tappendChild(data, child) {\n\t\t\t// get parent id\n\t\t\tlet parentId = child[this.parentIdField];\n\n\t\t\t// loop thorugh all data\n\t\t\tfor (let parentIdx = 0; parentIdx < data.length; parentIdx++)\n\t\t\t{\n\t\t\t\tlet parent = data[parentIdx];\n\n\t\t\t\t// if it's the parent\n\t\t\t\tif (parent[this.idField] == parentId)\n\t\t\t\t{\n\t\t\t\t\t// create children array if not done yet\n\t\t\t\t\tif (!parent._children) parent._children = [];\n\n\t\t\t\t\t// if child is not included in children array, append the child\n\t\t\t\t\tif (!parent._children.includes(child)) parent._children.push(child);\n\n\t\t\t\t\t// parent found\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// search children for parents\n\t\t\t\telse if (parent._children) this.appendChild(parent._children, child);\n\t\t\t}\n\n\t\t\t// parent not found\n\t\t\treturn false;\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tif (!this.tableOnly == !this.filterType)\n\t\t\talert('You can not have a filter-type in table-only mode!');\n\t},\n\tcreated() {\n\t\tif (this.sideMenu && (!this.$props.onNwNewEntry || !(this.$props.onNwNewEntry instanceof Function)))\n\t\t\talert('\"nwNewEntry\" listener is mandatory when sideMenu is true');\n\t\tthis.uuid = _uuid++;\n\t\tthis.$emit('uuidDefined', this.uuid)\n\t},\n\tmounted() {\n\t\tthis.initTabulator().then(() => {\n\t\t\tif (!this.tableOnly) {\n\t\t\t\tthis.selectedFilter = window.location.hash ? window.location.hash.slice(1) : null;\n\t\t\t\tthis.render(this.fetchResult);\n\t\t\t}\n\t\t});\n\n\t},\n\ttemplate: `\n\t\t<!-- Load filter data -->\n\t\t<core-fetch-cmpt\n\t\t\tv-if=\"!tableOnly && fetchCmptApiFunction\"\n\t\t\tv-bind:api-function=\"fetchCmptApiFunction\"\n\t\t\tv-bind:api-function-parameters=\"fetchCmptApiFunctionParams\"\n\t\t\tv-bind:refresh=\"fetchCmptRefresh\"\n\t\t\t@data-fetched=\"fetchCmptDataFetched\">\n\t\t</core-fetch-cmpt>\n\n\t\t<div class=\"row\" v-if=\"title != null && title != ''\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<h3 class=\"page-header mt-1 mb-4\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"'filterCollapsables' + idExtra\">\n\n\t\t\t<div class=\"d-flex flex-row justify-content-between flex-wrap\">\n\t\t\t\t<div v-if=\"newBtnShow || reload || $slots.search || $slots.actions\" class=\"d-flex gap-2 align-items-baseline flex-wrap\">\n\t\t\t\t\t<button v-if=\"newBtnShow\" class=\"btn btn-primary\" :class=\"newBtnClass\" :title=\"newBtnLabel ? undefined : 'New'\" :aria-label=\"newBtnLabel ? undefined : 'New'\" @click=\"$emit('click:new', $event)\" :disabled=\"newBtnDisabled\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{ newBtnLabel }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"reload\" class=\"btn btn-outline-secondary\" aria-label=\"Reload\" @click=\"reloadTable\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-rotate-right\" aria-hidden=\"true\"  :title=\"reloadBtnInfotext ? reloadBtnInfotext : 'Reload'\" ></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span v-if=\"$slots.actions && tabulatorHasSelector && useSelectionSpan\">\n\t\t\t\t\t\t<span v-if=\"countOnly\">{{ selectedData.length }} ausgewhlt</span>\n\t\t\t\t\t\t<span v-else id=\"selected-info-text\"> Mit {{ selectedData.length }} ausgewhlten:</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<slot name=\"actions\" v-bind=\"{selected: tabulatorHasSelector ? selectedData : []}\"></slot>\n\t\t\t\t\t<slot name=\"search\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-1 align-items-baseline flex-grow-1 justify-content-end\">\n\t\t\t\t\t<span v-if=\"!tableOnly\">[ {{ filterName }} ]</span>\n\t\t\t\t\t<span v-else-if=\"description\" v-html=\"description\"></span>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"!tableOnly || $slots.filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseFilters' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"filterActive\"  class=\"btn btn-link px-0 fhc-text\" :title=\"$p.t('ui','filterdelete')\" @click=\"clearFilters\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter-circle-xmark\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseColumns' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-table-columns\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<table-download class=\"btn btn-link px-0 fhc-text\" :tabulator=\"tabulator\" :config=\"download\"></table-download>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<filter-columns\n\t\t\t\t:id=\"'collapseColumns' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:fields=\"fieldIdsForVisibilty\"\n\t\t\t\t:selected=\"selectedFields\"\n\t\t\t\t:names=\"fieldNames\"\n\t\t\t\t@hide=\"tabulator.hideColumn($event)\"\n\t\t\t\t@show=\"tabulator.showColumn($event)\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-columns>\n\n\t\t\t<filter-config\n\t\t\t\tv-if=\"!tableOnly\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:filters=\"!sideMenu ? (availableFilters || []) : []\"\n\t\t\t\t:columns=\"columnsForFilter\"\n\t\t\t\t:fields=\"filterFields || []\"\n\t\t\t\t@switch-filter=\"switchFilter\"\n\t\t\t\t@apply-filter-config=\"applyFilterConfig\"\n\t\t\t\t@save-custom-filter=\"handlerSaveCustomFilter\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-config>\n\t\t\t<div\n\t\t\t\tv-else-if=\"$slots.filter\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t\t>\n\t\t\t\t<slot name=\"filter\"></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tabulator -->\n\t\t<div ref=\"table\" :id=\"'filterTableDataset' + idExtra\" class=\"filter-table-dataset\"></div>\n\t`\n};\n","//import Phrasen from '../../plugin/Phrasen.js';\n\nexport default {\n\tname: 'BootstrapModal',\n\tdata: () => ({\n\t\tmodal: null,\n\t\tfullscreen: false\n\t}),\n\tprops: {\n\t\tbackdrop: {\n\t\t\ttype: [Boolean,String],\n\t\t\tdefault: true,\n\t\t\tvalidator(value) {\n\t\t\t\treturn ['static', true, false].includes(value);\n\t\t\t}\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tkeyboard: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tnoCloseBtn: Boolean,\n\t\tdialogClass: [String,Array,Object],\n\t\theaderClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tbodyClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: 'px-4 py-5'\n\t\t},\n\t\tfooterClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tallowFullscreenExpand: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\temits: [\n\t\t\"hideBsModal\",\n\t\t\"hiddenBsModal\",\n\t\t\"hidePreventedBsModal\",\n\t\t\"showBsModal\",\n\t\t\"shownBsModal\"\n\t],\n\tmethods: {\n\t\tdispose() {\n\t\t\treturn this.modal.dispose();\n\t\t},\n\t\thandleUpdate() {\n\t\t\treturn this.modal.handleUpdate();\n\t\t},\n\t\thide() {\n\t\t\treturn this.modal.hide();\n\t\t},\n\t\tshow(relatedTarget) {\n\t\t\treturn this.modal.show(relatedTarget);\n\t\t},\n\t\ttoggle() {\n\t\t\treturn this.modal.toggle();\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tthis.fullscreen = !this.fullscreen\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.$refs.modal)\n\t\t\tthis.modal = new bootstrap.Modal(this.$refs.modal, {\n\t\t\t\tbackdrop: this.backdrop,\n\t\t\t\tfocus: this.focus,\n\t\t\t\tkeyboard: this.keyboard\n\t\t\t});\n\t},\n\tpopup(body, options, title, footer) {\n\t\tconst BsModal = this,\n\t\t\tslots = {};\n\t\tif (body !== undefined)\n\t\t\tslots.default = () => body;\n\t\tif (title !== undefined)\n\t\t\tslots.title = () => title;\n\t\tif (footer !== undefined)\n\t\t\tslots.footer = () => footer;\n\n\t\t// little hack to check whether primevue is included in the app or not\n\t\tlet includedPrimevue = false;\n\t\tif(typeof primevue !== 'undefined'){\n\t\t\tincludedPrimevue = true;\n\t\t}\n\n\t\treturn new Promise((resolve,reject) => {\n\t\t\tconst instance = Vue.createApp({\n\t\t\t\tname: 'ModalTmpApp',\n\t\t\t\tsetup() {\n\t\t\t\t\treturn () => Vue.h(BsModal, {...{\n\t\t\t\t\t\tclass: 'fade'\n\t\t\t\t\t},...options, ...{\n\t\t\t\t\t\tref: 'modal',\n\t\t\t\t\t\t'onHidden.bs.modal': instance.unmount\n\t\t\t\t\t}}, slots);\n\t\t\t\t},\n\t\t\t\tmounted() {\n\t\t\t\t\tthis.$refs.modal.show();\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tbeforeUnmount() {\n\t\t\t\t\tif (this.$refs.modal)\n\t\t\t\t\t\tthis.$refs.modal.result !== false ? resolve(this.$refs.modal.result) : reject();\n\t\t\t\t},\n\t\t\t\tunmounted() {\n\t\t\t\t\twrapper.parentElement.removeChild(wrapper);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst wrapper = document.createElement(\"div\");\n\t\t\t\n\t\t\t// if(primevue) --> won't work because primevue is not defined in this scope and promise would be rejected\n\t\t\tif (includedPrimevue){\n\t\t\t\tinstance.use(primevue.config.default, {zIndex: {overlay: 9999}})\n\t\t\t}\n\t\t\t\t \n\t\t\t//instance.use(Phrasen); // TODO(chris): find a more dynamic way\n\t\t\timport('../../plugins/Phrasen.js').then((Phrasen) => {\n\t\t\t\tinstance.use(Phrasen.default);\n\t\t\t\tinstance.mount(wrapper);\n\t\t\t\tdocument.body.appendChild(wrapper);\n\t\t\t});\n\t\t});\n\t},\n\ttemplate: `<div ref=\"modal\" class=\"bootstrap-modal modal\" tabindex=\"-1\" @[\\`hide.bs.modal\\`]=\"$emit('hideBsModal')\" @[\\`hidden.bs.modal\\`]=\"$emit('hiddenBsModal')\" @[\\`hidePrevented.bs.modal\\`]=\"$emit('hidePreventedBsModal')\" @[\\`show.bs.modal\\`]=\"$emit('showBsModal')\" @[\\`shown.bs.modal\\`]=\"$emit('shownBsModal')\">\n\t\t<div class=\"modal-dialog\" :class=\"fullscreen ? 'modal-fullscreen' : dialogClass\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<div v-if=\"$slots.title\" class=\"modal-header\" :class=\"headerClass\">\n\t\t\t\t\t<h5 class=\"modal-title\"><slot name=\"title\"/></h5>\n\t\t\t\t\t<div class=\"d-flex align-items-center ms-auto\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn ms-auto\" style=\"filter: invert(1)\" v-if=\"allowFullscreenExpand\" @click=\"toggleFullscreen\">\n\t\t\t\t\t\t  <i v-if=\"!fullscreen\" class=\"fa-solid fa-expand\"></i>\n\t\t\t\t\t\t  <i v-else class=\"fa-solid fa-compress\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button v-if=\"!noCloseBtn\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<slot name=\"modal-header-content\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-body\" :class=\"bodyClass\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"$slots.footer\" class=\"modal-footer\" :class=\"footerClass\">\n\t\t\t\t\t<slot name=\"footer\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n}\n","export default {\n\trender() {\n\t\treturn (this.$slots && this.$slots.default) ? this.$slots.default() : null;\n\t}\n};","import FhcFragment from \"../Fragment.js\";\n\nexport default {\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\t$registerToForm: component => {\n\t\t\t\tif (this.inputs.indexOf(component) < 0)\n\t\t\t\t\tthis.inputs.push(component);\n\t\t\t},\n\t\t\t$clearValidationForName: this.clearValidationForName\n\t\t};\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'form'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinputs: []\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedInputs() {\n\t\t\treturn this.inputs.reduce((a,c) => {\n\t\t\t\tlet name = c.name || '_default';\n\t\t\t\tif (!a[name])\n\t\t\t\t\ta[name] = [];\n\t\t\t\ta[name].push(c);\n\n\t\t\t\tif (c.lcType == 'checkbox' && name.substr(-1) == ']' && name.indexOf('[')) {\n\t\t\t\t\tname = name.substr(0, name.lastIndexOf('['));\n\t\t\t\t\tif (!a[name])\n\t\t\t\t\t\ta[name] = [];\n\t\t\t\t\ta[name].push(c);\n\t\t\t\t}\n\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t},\n\t\t/* Deprecated Code start */\n\t\tfactory() {\n\t\t\tconsole.warn('<form>.factory is deprecated! Use <form>.call() instead.');\n\t\t\tconst factory = Object.create(Object.getPrototypeOf(this.$fhcApi.factory), Object.getOwnPropertyDescriptors(this.$fhcApi.factory));\n\t\t\tfactory.$fhcApi = {\n\t\t\t\tget: this.get,\n\t\t\t\tpost: this.post,\n\t\t\t\t_defaultErrorHandlers: this.$fhcApi._defaultErrorHandlers\n\t\t\t};\n\t\t\treturn factory;\n\t\t}\n\t\t/* Deprecated Code end */\n\t},\n\tmethods: {\n\t\tget(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.get(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.get(...args);\n\t\t},\n\t\tpost(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.post(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.post(...args);\n\t\t},\n\t\tcall(factory, overwriteconfig) {\n\t\t\treturn this.$api.call(factory, overwriteconfig, this);\n\t\t},\n\t\t_sendFeedbackToInput(inputs, feedback, valid) {\n\t\t\tif (inputs.length) {\n\t\t\t\tinputs.forEach(input => input.setFeedback(valid, feedback));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.$fhcAlert) {\n\t\t\t\tthis.$fhcAlert[valid ? 'alertSuccess' : 'alertError'](feedback);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (Array.isArray(feedback)) {\n\t\t\t\tlet remaining = feedback.filter(fb => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? remaining : null;\n\t\t\t}\n\t\t\tif (typeof feedback === 'object') {\n\t\t\t\tlet remaining = Object.entries(feedback).filter(([name, fb]) => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? Object.fromEntries(remaining) : null;\n\t\t\t}\n\n\t\t\tlet remaining = this._sendFeedbackToInput(\n\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\tfeedback,\n\t\t\t\tvalid\n\t\t\t);\n\t\t\treturn remaining ? feedback : null;\n\t\t},\n\t\tclearValidation() {\n\t\t\tthis.inputs.forEach(input => input.clearValidation());\n\t\t},\n\t\tsend(promise) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tpromise.then(result => {\n\t\t\t\t\tif (result?.status == 200 && result.data) {\n\t\t\t\t\t\tif (typeof result.data !== 'object' || !result.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tif (result.data.error)\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tconst data = result.data.retval;\n\t\t\t\t\t\t// TODO(chris): check for something better/add new standardized return value\n\t\t\t\t\t\tif (result.data.code == 1)\n\t\t\t\t\t\t\tthis.setFeedback(true, data);\n\t\t\t\t\t\treturn resolve(data);\n\t\t\t\t\t}\n\t\t\t\t\t// TODO(chris): IMPLEMENT! Wrong result object\n\t\t\t\t\treject(result);\n\t\t\t\t}).catch(result => {\n\t\t\t\t\tif (result?.response?.status == 400 && result.response.data) {\n\t\t\t\t\t\tif (typeof result.response.data !== 'object' || !result.response.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tthis.clearValidation();\n\t\t\t\t\t\tconst remaining = this.setFeedback(\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tresult.response.data.retval\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (remaining) {\n\t\t\t\t\t\t\tresult.response.data.retval = remaining;\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (result?.response?.status == 500) {\n\t\t\t\t\t\tif (this.$fhcAlert)\n\t\t\t\t\t\t\tthis.$fhcAlert.handleSystemError(result);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tclearValidationForName(name) {\n\t\t\t(this.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [])\n\t\t\t\t.forEach(input => input.clearValidation());\n\t\t}\n\t},\n\ttemplate: `\n\t<component :is=\"tag || 'FhcFragment'\" v-bind=\"$attrs\">\n\t\t<slot></slot>\n\t</component>`\n}\n","import FhcFragment from \"../Fragment.js\";\n\nlet _uuid = {};\n\nexport default {\n\tname: \"FormInput\",\n\tinheritAttrs: false,\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tinject: {\n\t\tregisterToForm: {\n\t\t\tfrom: '$registerToForm',\n\t\t\tdefault: null\n\t\t},\n\t\tclearValidationForName: {\n\t\t\tfrom: '$clearValidationForName',\n\t\t\tdefault: null\n\t\t}\n\t},\n\tprops: {\n\t\tbsFeedback: Boolean,\n\t\tnoAutoClass: Boolean,\n\t\tnoFeedback: Boolean,\n\t\tinputGroup: Boolean,\n\t\ttype: String,\n\t\tname: String,\n\t\tcontainerClass: [String, Array, Object],\n\t\tlabel: String,\n\t\t// NOTE(chris): remove these from $attrs array to prevent doubled event listeners\n\t\tonInput: [Array, Function],\n\t\t'onUpdate:modelValue': [Array, Function]\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvalid: undefined,\n\t\t\tfeedback: [],\n\t\t\tmodelValueDummy: undefined\n\t\t}\n\t},\n\tcomputed: {\n\t\thasContainer() {\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn true;\n\t\t\tif (this.containerClass)\n\t\t\t\treturn true;\n\t\t\tfor (const prop in this.autoContainerClass)\n\t\t\t\tif (Object.hasOwn(this.autoContainerClass, prop))\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t},\n\t\tacc() {\n\t\t\tif (!this.containerClass)\n\t\t\t\treturn {};\n\t\t\tif (typeof this.containerClass === 'string' || this.containerClass instanceof String)\n\t\t\t\treturn this.containerClass.split(' ').reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\tif (Array.isArray(this.containerClass))\n\t\t\t\treturn this.containerClass.reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\treturn this.containerClass;\n\t\t},\n\t\tautoContainerClass() {\n\t\t\tif (this.noAutoClass)\n\t\t\t\treturn this.acc;\n\t\t\t\n\t\t\tconst acc = {...this.acc};\n\t\t\t\n\t\t\tif (this.inputGroup)\n\t\t\t\tacc['input-group-item'] = true;\n\n\t\t\tif (this.lcType == 'radio' || this.lcType == 'checkbox')\n\t\t\t\tacc['form-check'] = true;\n\t\t\t\n\t\t\tif (this.inputGroup && acc['form-check']) {\n\t\t\t\tacc['input-group-item'] = false;\n\t\t\t\tacc['form-check'] = false;\n\t\t\t\tacc['input-group-text'] = true;\n\t\t\t}\n\t\t\treturn acc;\n\t\t},\n\t\tlcType() {\n\t\t\tif (!this.type)\n\t\t\t\treturn 'text';\n\t\t\treturn this.type.toLowerCase();\n\t\t},\n\t\ttag() {\n\t\t\tswitch (this.lcType) {\n\t\t\t\tcase 'textarea':\n\t\t\t\tcase 'select':\n\t\t\t\t\treturn this.lcType;\n\t\t\t\tcase 'datepicker':\n\t\t\t\t\treturn 'VueDatePicker';\n\t\t\t\tcase 'autocomplete':\n\t\t\t\t\treturn 'PvAutocomplete';\n\t\t\t\tcase 'uploadimage':\n\t\t\t\t\treturn 'UploadImage';\n\t\t\t\tcase 'uploadfile':\n\t\t\t\tcase 'uploaddms':\n\t\t\t\t\treturn 'UploadDms';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'input';\n\t\t\t}\n\t\t},\n\t\tvalidationClass() {\n\t\t\tconst classes = [];\n\t\t\tif (this.valid)\n\t\t\t\tclasses.push('is-valid');\n\t\t\telse if (this.valid === false)\n\t\t\t\tclasses.push('is-invalid');\n\t\t\t\n\t\t\tif (!this.noAutoClass) {\n\t\t\t\tlet c = this.$attrs.class ? this.$attrs.class.split(' ') : [];\n\t\t\t\tswitch (this.lcType) {\n\t\t\t\t\t// TODO(chris): complete list!\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tif (!c.includes('form-select'))\n\t\t\t\t\t\t\tclasses.push('form-select');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'range':\n\t\t\t\t\t\tif (!c.includes('form-range'))\n\t\t\t\t\t\t\tclasses.push('form-range');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t// TODO(chris): maybe different handling?\n\t\t\t\t\t\tif (!c.includes('form-check-input') && !c.includes('btn-check'))\n\t\t\t\t\t\t\tclasses.push('form-check-input');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tif (!c.includes('form-control-color'))\n\t\t\t\t\t\t\tclasses.push('form-control-color');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'autocomplete':\n\t\t\t\t\tcase 'datepicker':\n\t\t\t\t\t\tclasses.push('p-0');\n\t\t\t\t\t\tclasses.push('border-0');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'number':\n\t\t\t\t\tcase 'password':\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tfeedbackClass() {\n\t\t\tif (!this.feedback || this.feedback === true)\n\t\t\t\treturn '';\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn {\n\t\t\t\t\t'valid-tooltip': this.valid === true,\n\t\t\t\t\t'invalid-tooltip': this.valid === false\n\t\t\t\t};\n\t\t\treturn {\n\t\t\t\t'valid-feedback': this.valid === true,\n\t\t\t\t'invalid-feedback': this.valid === false\n\t\t\t};\n\t\t},\n\t\tmodelValueCmp: {\n\t\t\tget() {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\treturn this.modelValueDummy;\n\t\t\t\treturn this.$attrs.modelValue;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\tthis.modelValueDummy = v;\n\t\t\t\tthis.$emit('update:modelValue', v);\n\t\t\t}\n\t\t},\n\t\tidCmp() {\n\t\t\tlet uuid = this.$attrs.id;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = this.$attrs.uid;\n\t\t\tif (!uuid && this.label)\n\t\t\t\tuuid = 'fhc-form-input';\n\t\t\tif (!uuid)\n\t\t\t\treturn undefined;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = 'dp-input-' + uuid;\n\t\t\tif (_uuid[uuid] === undefined)\n\t\t\t\t_uuid[uuid] = 0;\n\t\t\treturn uuid + '-' + (_uuid[uuid]++);\n\t\t}\n\t},\n\tmethods: {\n\t\tclearValidation() {\n\t\t\tthis.valid = undefined;\n\t\t\tthis.feedback = [];\n\t\t},\n\t\tclearValidationForThisName() {\n\t\t\tif (this.valid === undefined)\n\t\t\t\treturn;\n\t\t\tif (this.clearValidationForName && this.name)\n\t\t\t\tthis.clearValidationForName(this.name);\n\t\t\telse\n\t\t\t\tthis.clearValidation();\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (!feedback)\n\t\t\t\tfeedback = [];\n\t\t\tif (!Array.isArray(feedback))\n\t\t\t\tfeedback = [feedback];\n\t\t\tthis.valid = valid;\n\t\t\t// NOTE(chris): On a list of radios/checkboxes only add the feedback message to the last item\n\t\t\tif (this.name && (this.lcType == 'radio' || this.lcType == 'checkbox')) {\n\t\t\t\tconst selector = 'input[type=\"' + this.lcType + '\"][name=\"' + this.name + '\"]';\n\t\t\t\tif ([...this.$el.parentNode.querySelectorAll(selector)].pop() != this.$refs.input)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.feedback = feedback;\n\t\t},\n\t\t_loadComponents() {\n\t\t\tif (this.tag == 'VueDatePicker' && !this._.components.VueDatePicker) {\n\t\t\t\tthis._.components.VueDatePicker = Vue.defineAsyncComponent(() => import(\"../vueDatepicker.js.php\"));\n\t\t\t} else if (this.tag == 'PvAutocomplete' && !this._.components.PvAutocomplete) {\n\t\t\t\tthis._.components.PvAutocomplete = primevue.autocomplete;\n\t\t\t} else if (this.tag == 'UploadImage' && !this._.components.UploadImage) {\n\t\t\t\tthis._.components.UploadImage = Vue.defineAsyncComponent(() => import(\"./Upload/Image.js\"));\n\t\t\t} else if (this.tag == 'UploadDms' && !this._.components.UploadDms) {\n\t\t\t\tthis._.components.UploadDms = Vue.defineAsyncComponent(() => import(\"./Upload/Dms.js\"));\n\t\t\t}\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis._loadComponents();\n\t},\n\tbeforeUpdate() {\n\t\tthis._loadComponents();\n\t},\n\tmounted() {\n\t\tif (this.registerToForm)\n\t\t\tthis.registerToForm(this);\n\t},\n\ttemplate: `\n\t<component :is=\"!hasContainer ? 'FhcFragment' : 'div'\" class=\"position-relative\" :class=\"autoContainerClass\">\n\t\t<label v-if=\"label && lcType != 'radio' && lcType != 'checkbox'\" :class=\"!noAutoClass && 'form-label'\" :for=\"idCmp\">{{label}}</label>\n\t\t<input v-if=\"tag == 'input'\" :type=\"lcType\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t<textarea v-else-if=\"tag == 'textarea'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\"></textarea>\n\t\t<select v-else-if=\"tag == 'select'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t\t<slot></slot>\n\t\t</select>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'VueDatePicker'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:uid=\"idCmp ? idCmp.substr(9) : idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class-name=\n\t\t\t\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class-name'] ? $attrs['input-class-name'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'PvAutocomplete'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:input-props=\"{name}\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class'] ? $attrs['input-class'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t\t<template #chip=\"data\"><slot name=\"chip\" v-bind=\"data\"></slot></template>\n\t\t\t<template #header=\"data\"><slot name=\"header\" v-bind=\"data\"></slot></template>\n\t\t\t<template #footer=\"data\"><slot name=\"footer\" v-bind=\"data\"></slot></template>\n\t\t\t<template #option=\"data\"><slot name=\"option\" v-bind=\"data\"></slot></template>\n\t\t\t<template #optiongroup=\"data\"><slot name=\"optiongroup\" v-bind=\"data\"></slot></template>\n\t\t\t<template #content=\"data\"><slot name=\"content\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loader=\"data\"><slot name=\"loader\" v-bind=\"data\"></slot></template>\n\t\t\t<template #empty=\"data\"><slot name=\"empty\" v-bind=\"data\"></slot></template>\n\t\t\t<template #dropdownicon=\"data\"><slot name=\"dropdownicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #removetokenicon=\"data\"><slot name=\"removetokenicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loadingicon=\"data\"><slot name=\"loadingicon\" v-bind=\"data\"></slot></template>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'UploadDms'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"validationClass\"\n\t\t\t:no-list=\"inputGroup\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<label v-if=\"label && (lcType == 'radio' || lcType == 'checkbox')\" :for=\"idCmp\" :class=\"!noAutoClass && 'form-check-label'\" v-html=\"label\"></label>\n\t\t<div v-if=\"valid !== undefined && feedback.length && !noFeedback\" :class=\"feedbackClass\">\n\t\t\t<template v-for=\"(msg, i) in feedback\" :key=\"i\">\n\t\t\t\t<hr v-if=\"i\" class=\"m-0\">\n\t\t\t\t{{msg}}\n\t\t\t</template>\n\t\t</div>\n\t</component>\n\t`\n}\n","import CoreForm from '../../Form/Form.js';\nimport FormInput from '../../Form/Input.js';\n\nexport default {\n\tname: \"LVDetailsForm\",\n\tcomponents: {\n\t\tFormInput,\n\t\tCoreForm\n\t},\n\tprops: {\n\t\tdata: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\tinject: {\n\t\tdropdowns: {\n\t\t\tfrom: 'dropdowns'\n\t\t},\n\t\tshowLVID: {\n\t\t\tfrom: 'permissionLehrveranstaltung',\n\t\t\tdefault: false\n\t\t},\n\t\tshowGewichtung: {\n\t\t\tfrom: 'configShowGewichtung',\n\t\t\tdefault: true\n\t\t}\n\t},\n\ttemplate: `\n\t<div>\n\t\t<div class=\"row mb-3\">\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'lehrfach')\"\n\t\t\t\ttype=\"select\"\n\t\t\t\tcontainer-class=\"col-3\"\n\t\t\t\tv-model=\"data.lehrfach_id\"\n\t\t\t\tname=\"lehrfach_id\"\n\t\t\t>\n\t\t\t\t<option\n\t\t\t\t\tv-for=\"lehrfach in data.lehrfaecher\"\n\t\t\t\t\t:value=\"lehrfach.lehrveranstaltung_id\"\n\t\t\t\t\t:key=\"lehrfach.lehrfach\"\n\t\t\t\t>\n\t\t\t\t\t{{ lehrfach.lehrfach }}\n\t\t\t\t</option>\n\t\t\t</form-input>\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'lehrform')\"\n\t\t\t\ttype=\"select\"\n\t\t\t\tcontainer-class=\"col-3\"\n\t\t\t\tv-model=\"data.lehrform_kurzbz\"\n\t\t\t\tname=\"lehrform_kurzbz\"\n\t\t\t>\n\t\t\t\t<option\n\t\t\t\tv-for=\"lehrform in dropdowns.lehrform_array\"\n\t\t\t\t:value=\"lehrform.lehrform_kurzbz\"\n\t\t\t\t:key=\"lehrform.lehrform_kurzbz\"\n\t\t\t\t>\n\t\t\t\t{{ lehrform.bez_kurz }} {{ lehrform.bez }}\n\t\t\t\t</option>\n\t\t\t</form-input>\n\t\t\t\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'detailanmerkung')\"\n\t\t\t\ttype=\"textarea\"\n\t\t\t\tcontainer-class=\"col-3\"\n\t\t\t\tv-model=\"data.anmerkung\"\n\t\t\t\tname=\"anmerkung\"\n\t\t\t\tid=\"anmerkung\"\n\t\t\t\trows=\"10\"\n\t\t\t/>\n\t\t</div>\n\t\n\t\t<div class=\"row mb-3\">\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'raumtyp')\"\n\t\t\t\ttype=\"select\"\n\t\t\t\tcontainer-class=\"col-3\"\n\t\t\t\tv-model=\"data.raumtyp\"\n\t\t\t\tname=\"raumtyp\"\n\t\t\t>\n\t\t\t\t<option\n\t\t\t\tv-for=\"raumtyp in dropdowns.raumtyp_array\"\n\t\t\t\t:value=\"raumtyp.raumtyp_kurzbz\"\n\t\t\t\t:key=\"raumtyp.raumtyp_kurzbz\"\n\t\t\t\t>\n\t\t\t\t{{ raumtyp.raumtyp_kurzbz }} {{ raumtyp.beschreibung }}\n\t\t\t\t</option>\n\t\t\t</form-input>\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'raumtypalternativ')\"\n\t\t\t\ttype=\"select\"\n\t\t\t\tcontainer-class=\"col-3\"\n\t\t\t\tv-model=\"data.raumtypalternativ\"\n\t\t\t\tname=\"raumtypalternativ\"\n\t\t\t>\n\t\t\t\t<option\n\t\t\t\tv-for=\"raumtyp in dropdowns.raumtyp_array\"\n\t\t\t\t:value=\"raumtyp.raumtyp_kurzbz\"\n\t\t\t\t:key=\"raumtyp.raumtyp_kurzbz + '-alt'\"\n\t\t\t\t>\n\t\t\t\t{{ raumtyp.raumtyp_kurzbz }} {{ raumtyp.beschreibung }}\n\t\t\t\t</option>\n\t\t\t</form-input>\n\t\t\t\n\t\t\t\n\t\t</div>\n\t\n\t\n\t\t<div class=\"row mb-3\">\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('global', 'sprache')\"\n\t\t\t\ttype=\"select\"\n\t\t\t\tcontainer-class=\"col-3\"\n\t\t\t\tv-model=\"data.sprache\"\n\t\t\t\tname=\"sprache\"\n\t\t\t>\n\t\t\t\t<option\n\t\t\t\tv-for=\"sprache in dropdowns.sprachen_array\"\n\t\t\t\t:key=\"sprache.sprache\"\n\t\t\t\t:value=\"sprache.sprache\"\n\t\t\t\t>\n\t\t\t\t{{ sprache.sprache }}\n\t\t\t\t</option>\n\t\t\t</form-input>\n\t\t\t\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'studiensemester')\"\n\t\t\t\ttype=\"select\"\n\t\t\t\tcontainer-class=\"col-3\"\n\t\t\t\tv-model=\"data.studiensemester_kurzbz\"\n\t\t\t\tname=\"studiensemester_kurzbz\"\n\t\t\t>\n\t\t\t\t<option\n\t\t\t\tv-for=\"semester in dropdowns.studiensemester_array\"\n\t\t\t\t:key=\"semester.studiensemester_kurzbz\"\n\t\t\t\t:value=\"semester.studiensemester_kurzbz\"\n\t\t\t\t>\n\t\t\t\t{{ semester.studiensemester_kurzbz }}\n\t\t\t\t</option>\n\t\t\t</form-input>\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t</div>\n\t\n\t\t<div class=\"row mb-3\">\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'startkw')\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tmin=\"0\"\n\t\t\t\tcontainer-class=\"col-1\"\n\t\t\t\tv-model=\"data.start_kw\"\n\t\t\t\tname=\"start_kw\"\n\t\t\t/>\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'stundenblockung')\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tmin=\"0\"\n\t\t\t\tcontainer-class=\"col-1\"\n\t\t\t\tv-model=\"data.stundenblockung\"\n\t\t\t\tname=\"stundenblockung\"\n\t\t\t/>\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'wochenrhythmus')\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tmin=\"0\"\n\t\t\t\tcontainer-class=\"col-1\"\n\t\t\t\tv-model=\"data.wochenrythmus\"\n\t\t\t\tname=\"wochenrythmus\"\n\t\t\t/>\n\t\t\t\n\t\t\t <div class=\"col-3 d-flex align-items-end\">\n\t\t\t\t<form-input\n\t\t\t\t\t:label=\"$p.t('lehre', 'lehre')\"\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tv-model=\"data.lehre\"\n\t\t\t\t\tname=\"lehre\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\n\t\t</div>\n\t\t\n\t\t<div class=\"row mb-3\">\n\t\t\t<form-input\n\t\t\t\tv-if=\"showLVID\"\n\t\t\t\t:label=\"$p.t('lehre', 'lehrveranstaltung_id')\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tcontainer-class=\"col-2\"\n\t\t\t\tv-model=\"data.lehrveranstaltung_id\"\n\t\t\t\tname=\"lehrveranstaltung_id\"\n\t\t\t />\n\t\t\t<form-input\n\t\t\t\t:label=\"$p.t('lehre', 'unr')\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tcontainer-class=\"col-1\"\n\t\t\t\tv-model=\"data.unr\"\n\t\t\t\tname=\"unr\"\n\t\t\t/>\n\t\t\t<form-input\n\t\t\t\tv-if=\"showGewichtung\"\n\t\t\t\t:label=\"$p.t('lehre', 'gewicht')\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tcontainer-class=\"col-1\"\n\t\t\t\tv-model=\"data.gewicht\"\n\t\t\t\tname=\"gewicht\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n`\n};","import CoreForm from '../Form/Form.js';\nimport FormInput from \"../Form/Input.js\";\nimport BsModal from '../Bootstrap/Modal.js';\n\nexport default {\n\tcomponents: {\n\t\tCoreForm,\n\t\tFormInput,\n\t\tBsModal,\n\t},\n\temits: [\n\t\t'added',\n\t\t'updated',\n\t\t'deleted',\n\t],\n\tprops: {\n\t\tendpoint: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tzuordnung_typ: String,\n\t\tsavepoint: {},\n\t\tvalues: {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tconfirmLimit: {\n\t\t\ttype: Number,\n\t\t\tdefault: 20\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowList: false,\n\t\t\tselectedTagId: null,\n\t\t\ttagData: {\n\t\t\t\tbeschreibung: \"\",\n\t\t\t\ttag_typ_kurzbz: \"\",\n\t\t\t\tnotiz: \"\",\n\t\t\t\tstyle: \"\",\n\t\t\t\tzuordnung_typ: \"\",\n\t\t\t\tid: \"\",\n\t\t\t\tinsertamum: \"\",\n\t\t\t\tinsertvon: \"\",\n\t\t\t\tupdateamum: \"\",\n\t\t\t\tupdatevon: \"\",\n\t\t\t\tresponse: \"\"\n\t\t\t},\n\t\t\tmode: \"create\"\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.init();\n\t},\n\tmounted() {},\n\tmethods: {\n\t\tinit() {\n\t\t\tif (!this.endpoint)\n\t\t\t\treturn;\n\t\t\tthis.$api.call(this.endpoint.getTags())\n\t\t\t\t.then(response => response.data)\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.tags = response\n\t\t\t\t})\n\t\t},\n\t\thideList() {\n\t\t\tthis.showList = false;\n\t\t},\n\t\tasync editTag(tag_id) {\n\t\t\tlet getData = {\n\t\t\t\t'id': tag_id\n\t\t\t};\n\n\t\t\tthis.$api.call(this.endpoint.getTag(getData))\n\t\t\t\t.then(result => result.data)\n\t\t\t\t.then(result => this.openModal(result))\n\t\t},\n\t\topenModal(item = null)\n\t\t{\n\t\t\tthis.tagData.beschreibung = item.bezeichnung;\n\t\t\tthis.tagData.tag_typ_kurzbz = item.tag_typ_kurzbz;\n\t\t\tthis.tagData.style = item.style;\n\t\t\tthis.tagData.zuordnung_typ = this.zuordnung_typ;\n\t\t\tthis.tagData.done = item.done;\n\t\t\tthis.tagData.insertamum = this.formatDateTime(item.insertamum)\n\t\t\tthis.tagData.updateamum = this.formatDateTime(item.updateamum)\n\t\t\tthis.tagData.bearbeiter = item.bearbeiter;\n\t\t\tthis.tagData.verfasser = item.verfasser;\n\t\t\tthis.tagData.readonly = item.readonly;\n\n\t\t\tif (item && item.notiz_id)\n\t\t\t{\n\t\t\t\tthis.selectedTagId = item.notiz_id;\n\t\t\t\tthis.tagData.notiz = item.text;\n\t\t\t\tthis.mode = \"edit\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedTagId = null;\n\t\t\t\tthis.tagData.notiz = \"\";\n\t\t\t\tthis.mode = \"create\";\n\t\t\t}\n\n\t\t\tif (this.mode === \"create\" && item.tag)\n\t\t\t\tthis.saveTag()\n\t\t\telse\n\t\t\t\tthis.$refs.tagModal.show();\n\t\t},\n\t\tasync saveTag()\n\t\t{\n\t\t\tlet postData = {\n\t\t\t\ttag_typ_kurzbz: this.tagData.tag_typ_kurzbz,\n\t\t\t\tnotiz: this.tagData.notiz,\n\t\t\t\tzuordnung_typ: this.tagData.zuordnung_typ,\n\t\t\t\tvalues: this.values\n\t\t\t}\n\n\t\t\tif (this.mode === \"edit\")\n\t\t\t{\n\t\t\t\tpostData.id = this.selectedTagId;\n\t\t\t\tthis.tagData.id = this.selectedTagId;\n\t\t\t\tthis.$api.call(this.endpoint.updateTag(postData));\n\t\t\t\tthis.$emit(\"updated\", this.tagData);\n\t\t\t\tthis.$refs.tagModal.hide();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.$fhcAlert && postData.values.length >= this.confirmLimit)\n\t\t\t\t{\n\t\t\t\t\tif (await this.$fhcAlert.confirm({message: `Der Tag wird fr ${postData.values.length} Eintrge gesetzt. Sind Sie sicher?`}) === false)\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.$api.call(this.endpoint.addTag(postData))\n\t\t\t\t\t.then(response => response.data)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tif (typeof response === 'number') {\n\t\t\t\t\t\t\tthis.tagData.id = response;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.tagData.response = response;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.$emit(\"added\", this.tagData);\n\t\t\t\t\t})\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.$refs.tagModal.hide();\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tasync doneTag()\n\t\t{\n\t\t\tthis.tagData.id = this.selectedTagId;\n\t\t\tthis.tagData.done = !this.tagData.done;\n\n\t\t\tlet postData = {\n\t\t\t\tid: this.selectedTagId,\n\t\t\t\tdone: !this.tagData.done,\n\t\t\t\tnotiz: this.tagData.notiz,\n\t\t\t}\n\t\t\tthis.$api.call(this.endpoint.doneTag(postData))\n\t\t\tthis.$emit(\"updated\", this.tagData);\n\t\t\tthis.$refs.tagModal.hide();\n\t\t},\n\t\tasync deleteTag()\n\t\t{\n\t\t\tlet postData = {\n\t\t\t\tid: this.selectedTagId\n\t\t\t}\n\t\t\tthis.$api.call(this.endpoint.deleteTag(postData))\n\t\t\tthis.$emit(\"deleted\", this.selectedTagId)\n\t\t\tthis.$refs.tagModal.hide();\n\t\t},\n\t\treset() {\n\t\t\tthis.tagData = {\n\t\t\t\tbeschreibung: \"\",\n\t\t\t\ttag_typ_kurzbz: \"\",\n\t\t\t\tnotiz: \"\",\n\t\t\t\tstyle: \"\",\n\t\t\t\tzuordnung_typ: \"\",\n\t\t\t\tid: \"\",\n\t\t\t\tdone: false,\n\t\t\t\tinsertamum: \"\",\n\t\t\t\tverfasser: \"\",\n\t\t\t\tupdateamum: \"\",\n\t\t\t\tbearbeiter: \"\",\n\t\t\t\tresponse: \"\",\n\t\t\t\treadonly: false\n\t\t\t};\n\t\t\tthis.selectedTagId = null;\n\t\t\tthis.mode = \"create\";\n\t\t},\n\t\tformatDateTime: (dateString) => {\n\t\t\tif (!dateString) return null;\n\t\t\treturn new Date(dateString).toLocaleString('de-AT', {\n\t\t\t\tyear: \"numeric\",\n\t\t\t\tmonth: \"2-digit\",\n\t\t\t\tday: \"2-digit\",\n\t\t\t\thour: \"2-digit\",\n\t\t\t\tminute: \"2-digit\",\n\t\t\t\tsecond: \"2-digit\"\n\t\t\t});\n\t\t},\n\t\tasync copy (){\n\t\t\tawait navigator.clipboard.writeText(this.tagData.notiz);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"plus_button_container\" @mouseleave=\"hideList\">\n\t\t\t<span :title=\"values.length === 0 ? 'Bitte Zeilen markieren' : ''\">\n\t\t\t<button @mouseover=\"showList = true\" \n\t\t\t\t\t:disabled=\"!values || values.length === 0\"\n\t\t\t\t\tclass=\"btn btn-sm\">\n\t\t\t\t<i class=\"fa-solid fa-tag fa-xl\"></i>\n\t\t\t</button>\n\t\t\t</span>\n\t\t\t<ul v-if=\"showList\" class=\"dropdown_list\">\n\t\t\t\t<li v-for=\"(item, index) in tags\" :key=\"index\" @click=\"openModal(item)\" :title=\"item.bezeichnung\">\n\t\t\t\t\t{{ item.bezeichnung }}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t\n\t\t<bs-modal\n\t\t\tref=\"tagModal\"\n\t\t\tclass=\"fade text-center\"\n\t\t\tdialog-class=\"modal-dialog-centered\"\n\t\t\t@hidden-bs-modal=\"reset\"\n\t\t>\n\t\t\t<template #title>\n\t\t\t\t<span :class=\"['tag', tagData.style]\">{{ tagData.beschreibung }}</span>\n\t\t\t</template>\n\t\t\t<template #default>\n\t\t\t\t<div class=\"col\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\tv-model=\"tagData.notiz\"\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\tfield=\"notiz\"\n\t\t\t\t\t\t:readonly=\"tagData.readonly\"\n\t\t\t\t\t\tplaceholder=\"Notiz...\"\n\t\t\t\t\t></form-input>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\" \n\t\t\t\t\t\tclass=\"btn btn-outline-secondary btn-sm copy-btn\" \n\t\t\t\t\t\t@click=\"copy\" \n\t\t\t\t\t\tv-if=\"mode === 'edit'\" \n\t\t\t\t\t\t:disabled=\"!tagData.notiz || tagData.notiz.trim() === ''\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i class=\"fa-solid fa-copy\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class=\"modificationdate\">\n\t\t\t\t\t\t<span v-if=\"tagData.verfasser\">\n\t\t\t\t\t\t\t{{ $p.t('notiz', 'tag_verfasser', { 0: tagData.verfasser, 1: tagData.insertamum }) }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<span v-if=\"tagData.bearbeiter && tagData.insertamum !== tagData.updateamum\">\n\t\t\t\t\t\t\t{{ $p.t('notiz', 'tag_bearbeiter', { 0: tagData.bearbeiter, 1: tagData.updateamum }) }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template #footer v-if=\"!tagData.readonly\">\n\t\t\t\t<div class=\"d-flex justify-content-between w-100\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tv-if=\"mode === 'edit'\" \n\t\t\t\t\t\t\tclass=\"btn btn-success me-2\" \n\t\t\t\t\t\t\t@click=\"doneTag\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ tagData.done ? $p.t('notiz', 'tag_rueckgaengig') : $p.t('notiz', 'tag_erledigt') }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button v-if=\"mode === 'edit'\" class=\"btn btn-danger\" @click=\"deleteTag\">{{ $p.t('global', 'loeschen' )}}</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" @click=\"saveTag\">\n\t\t\t\t\t\t{{ mode === \"edit\" ? $p.t('global', 'speichern') : $p.t('global', 'create') }}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</bs-modal>`,\n}","function parseFilterExpression(expression)\n{\n\tconst collections = [];\n\n\ttry {\n\t\tconst orParts = expression.split('||').map(part => part.trim());\n\n\t\torParts.forEach(part => {\n\n\t\t\tconst andParts = part.split('&&').map(p => p.trim());\n\n\t\t\tconst collection = { positives: [], negatives: [] };\n\n\t\t\tandParts.forEach(term => {\n\n\t\t\t\tconst comparisonMatch = term.match(/^(<=|>=|<|>|=|!=)\\s*(-?\\d+(?:[.,]\\d+)?)$/);\n\n\t\t\t\tif (comparisonMatch)\n\t\t\t\t{\n\t\t\t\t\tconst operator = comparisonMatch[1];\n\t\t\t\t\tconst numberStr = comparisonMatch[2].replace(',', '.');\n\t\t\t\t\tconst number = parseFloat(numberStr);\n\t\t\t\t\tcollection.positives.push({ type: 'comparison', operator, number });\n\t\t\t\t}\n\t\t\t\telse if (term.startsWith('!'))\n\t\t\t\t{\n\t\t\t\t\tconst excludeTerm = term.substring(1).trim().replace(/\\*/g, '.*');\n\t\t\t\t\tcollection.negatives.push({ type: 'regex', regex: new RegExp(excludeTerm, 'i') });\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconst includeTerm = term.replace(/\\*/g, '.*');\n\t\t\t\t\tcollection.positives.push({ type: 'regex', regex: new RegExp(includeTerm, 'i') });\n\t\t\t\t}\n\t\t\t});\n\t\t\tcollections.push(collection);\n\t\t});\n\t} catch (e) {}\n\treturn collections;\n}\n\nexport function extendedHeaderFilter(headerValue, rowValue, rowData, filterParams)\n{\n\tconst fields = Array.isArray(filterParams?.field)\n\t\t? filterParams.field\n\t\t: [filterParams?.field];\n\n\tif (fields.length > 1 && rowData)\n\t{\n\t\trowValue = fields\n\t\t\t.map(f => rowData[f] ?? '')\n\t\t\t.filter(Boolean)\n\t\t\t.join(' ');\n\t}\n\tif (typeof headerValue === 'boolean')\n\t{\n\t\treturn rowValue === headerValue;\n\t}\n\n\tconst collections = parseFilterExpression(headerValue);\n\n\tfunction matchValue(value)\n\t{\n\t\ttry {\n\t\t\treturn collections.some(collection => {\n\n\t\t\t\tlet positives = collection.positives.length === 0 || collection.positives.every(condition => {\n\n\t\t\t\t\tif (condition.type === 'comparison')\n\t\t\t\t\t{\n\t\t\t\t\t\tlet value = parseFloat(rowValue);\n\t\t\t\t\t\tif (isNaN(value)) return false;\n\n\t\t\t\t\t\tswitch (condition.operator) {\n\t\t\t\t\t\t\tcase '<':\n\t\t\t\t\t\t\t\treturn value < condition.number;\n\t\t\t\t\t\t\tcase '>':\n\t\t\t\t\t\t\t\treturn value > condition.number;\n\t\t\t\t\t\t\tcase '<=':\n\t\t\t\t\t\t\t\treturn value <= condition.number;\n\t\t\t\t\t\t\tcase '>=':\n\t\t\t\t\t\t\t\treturn value >= condition.number;\n\t\t\t\t\t\t\tcase '=':\n\t\t\t\t\t\t\t\treturn value === condition.number;\n\t\t\t\t\t\t\tcase '!=':\n\t\t\t\t\t\t\t\treturn value !== condition.number;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (condition.type === 'regex')\n\t\t\t\t\t{\n\t\t\t\t\t\treturn condition.regex.test(rowValue);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\tlet negatives = collection.negatives.every(condition => {\n\t\t\t\t\treturn !condition.regex.test(rowValue);\n\t\t\t\t});\n\n\t\t\t\treturn positives && negatives;\n\t\t\t});\n\t\t} catch (e) {\n\n\t\t}\n\t}\n\n\tif (matchValue(rowValue))\n\t\treturn true;\n\n\tif (rowData && filterParams)\n\t{\n\t\tconst childrenField = filterParams?.children || '_children';\n\t\tconst field = filterParams?.field;\n\n\t\tconst children = rowData[childrenField];\n\t\tif (Array.isArray(children))\n\t\t{\n\t\t\tfor (let child of children)\n\t\t\t{\n\t\t\t\tlet childValue = child[field];\n\t\t\t\tif (extendedHeaderFilter(headerValue, childValue, child, filterParams))\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n}\nexport function tagHeaderFilter(headerValue, rowValue, rowData, filterParams)\n{\n\n\tlet data;\n\n\ttry {\n\t\tdata = typeof rowValue === 'string' ? JSON.parse(rowValue) : rowValue;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\tlet combinedText;\n\n\tif (Array.isArray(data))\n\t{\n\t\tcombinedText = data\n\t\t\t.filter(item => item?.done === false)\n\t\t\t.map(item => `${item?.beschreibung} ${item?.notiz}`)\n\t\t\t.join(' ');\n\t}\n\telse if (typeof data === 'object' && data !== null)\n\t{\n\t\tcombinedText = data?.erledigt === false ? `${data?.beschreibung} ${data?.notiz}` : '';\n\t}\n\telse\n\t{\n\t\tcombinedText = String(data);\n\t}\n\n\treturn extendedHeaderFilter(headerValue, combinedText, rowData, filterParams)\n}","export default {\n\n\tgetByLV(lehrveranstaltung_id)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/Lehrveranstaltung/loadByLV/' + encodeURIComponent(lehrveranstaltung_id)\n\t\t};\n\t},\n\tgetByStg(studiensemester_kurzbz, studiengang_kz, semester = null)\n\t{\n\t\tlet path = \"/api/frontend/v1/Lehrveranstaltung/getByStg/\" + encodeURIComponent(studiensemester_kurzbz) + \"/\" + encodeURIComponent(studiengang_kz);\n\n\t\tif (semester)\n\t\t\tpath += \"/\" + encodeURIComponent(semester);\n\n\t\treturn path;\n\t},\n\tgetByEmp(studiensemester_kurzbz, mitarbeiter_uid, stg = null)\n\t{\n\t\tlet path = \"/api/frontend/v1/Lehrveranstaltung/getByEmp/\" + encodeURIComponent(studiensemester_kurzbz) + \"/\" + encodeURIComponent(mitarbeiter_uid);\n\n\t\tif (stg)\n\t\t\tpath += \"/\" + encodeURIComponent(stg);\n\n\t\treturn path;\n\t},\n\tgetTable(url)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: url\n\t\t};\n\t},\n\n}","export default {\n\n\tgetTag(data)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/lv/Tags/getTag',\n\t\t\tparams: data\n\t\t};\n\t},\n\n\tgetTags(data)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/lv/Tags/getTags'\n\t\t};\n\t},\n\n\taddTag(data)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/lv/Tags/addTag',\n\t\t\tparams: data\n\t\t};\n\t},\n\n\tupdateTag(data)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/lv/Tags/updateTag',\n\t\t\tparams: data\n\t\t};\n\t},\n\tdoneTag(data)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/lv/Tags/doneTag',\n\t\t\tparams: data\n\t\t};\n\t},\n\n\tdeleteTag(data)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/lv/Tags/deleteTag',\n\t\t\tparams: data\n\t\t};\n\t},\n};","export default {\n\tcopy(data)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/lv/lehreinheit/copy/',\n\t\t\tparams: data\n\t\t};\n\t},\n\tdelete(data)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/lv/lehreinheit/delete/',\n\t\t\tparams: data\n\t\t};\n\t},\n\tadd(newData)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/lv/lehreinheit/add/',\n\t\t\tparams: newData\n\t\t};\n\t},\n\tget(lehreinheit)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/lehreinheit/get/' + encodeURIComponent(lehreinheit)\n\t\t};\n\t},\n\tupdate(updatedData)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/lv/lehreinheit/update/',\n\t\t\tparams: updatedData\n\t\t};\n\t},\n}\n","import {CoreFilterCmpt} from \"../../filter/Filter.js\";\nimport BsModal from \"../../Bootstrap/Modal.js\";\nimport DetailsForm from \"../Details/Form.js\";\nimport CoreTag from '../../Tag/Tag.js';\nimport { tagHeaderFilter } from '../../../../js/tabulator/filters/extendedHeaderFilter.js';\nimport { extendedHeaderFilter } from \"../../../../js/tabulator/filters/extendedHeaderFilter.js\";\n\nimport ApiLv from \"../../../api/lehrveranstaltung.js\";\nimport ApiTag from \"../../../api/lehrveranstaltung/tag.js\";\nimport ApiLehreinheit from \"../../../api/lehrveranstaltung/lehreinheit.js\";\n\nexport default {\n\tname: \"LVVerwaltungTable\",\n\tcomponents: {\n\t\tCoreFilterCmpt,\n\t\tBsModal,\n\t\tDetailsForm,\n\t\tCoreTag\n\n\t},\n\tprops: {\n\t\tselected: Object,\n\t\tfilter: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t}\n\t},\n\tinject: {\n\t\tcurrentSemester: {\n\t\t\tfrom: 'currentSemester'\n\t\t},\n\t\tlehreinheitAnmerkungDefault: {\n\t\t\tfrom: 'lehreinheitAnmerkungDefault',\n\t\t\tdefault: ''\n\t\t},\n\t\tlehreinheitRaumtypDefault: {\n\t\t\tfrom: 'lehreinheitRaumtypDefault',\n\t\t\tdefault: ''\n\t\t},\n\t\tlehreinheitRaumtypAlternativeDefault: {\n\t\t\tfrom: 'lehreinheitRaumtypAlternativeDefault',\n\t\t\tdefault: ''\n\t\t}\n\t},\n\temits: [\n\t\t'update:selected',\n\t\t'row-clicked'\n\t],\n\twatch: {\n\t\tfilter: {\n\t\t\thandler() {\n\t\t\t\tif (this.$refs.table && this.$refs.table.tabulator)\n\t\t\t\t{\n\t\t\t\t\tthis.expanded = [];\n\t\t\t\t\tthis.reload();\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t\tcurrentSemester: {\n\t\t\thandler(newVal)\n\t\t\t{\n\t\t\t\tthis.lv_info_default.studiensemester_kurzbz = newVal\n\t\t\t\tthis.lv_info = false;\n\t\t\t}\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\texpanded: [],\n\t\t\tselectedColumnValues: [],\n\t\t\ttagEndpoint: ApiTag,\n\t\t\ttabulatorEvents: [\n\t\t\t\t{\n\t\t\t\t\tevent: 'rowSelectionChanged',\n\t\t\t\t\thandler: this.rowSelectionChanged\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tevent: 'dataProcessed',\n\t\t\t\t\thandler: (data) => {\n\t\t\t\t\t\tthis.reexpandRows()\n\t\t\t\t\t\tthis.$emit('update:selected', {})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tevent: 'dataTreeRowExpanded',\n\t\t\t\t\thandler: (data) => {\n\t\t\t\t\t\tthis.getExpandedRows()\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tevent: 'dataTreeRowCollapsed',\n\t\t\t\t\thandler: (data) => {\n\t\t\t\t\t\tthis.getExpandedRows()\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t],\n\t\t\tformData: {},\n\t\t\tlv_info: false,\n\t\t\tlv_info_default: {\n\t\t\t\tstundenblockung: 2,\n\t\t\t\twochenrythmus: 1,\n\t\t\t\tstudiensemester_kurzbz: this.currentSemester,\n\t\t\t\tlehrform_kurzbz: 'UE',\n\t\t\t\tanmerkung: this.lehreinheitAnmerkungDefault.replace(\"'\",\"\\'\"),\n\t\t\t\traumtyp: this.lehreinheitRaumtypDefault,\n\t\t\t\traumtypalternativ: this.lehreinheitRaumtypAlternativeDefault,\n\t\t\t\tlehrfach_id: ''\n\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\ttabulatorOptions() {\n\t\t\treturn {\n\t\t\t\tindex: 'uniqueindex',\n\t\t\t\tajaxURL: 'dummy',\n\t\t\t\tajaxRequestFunc: async (url, config, params) => {\n\t\t\t\t\tlet realUrl = this.buildApiUrl();\n\t\t\t\t\tif (realUrl)\n\t\t\t\t\t\treturn this.$api.call(ApiLv.getTable(this.buildApiUrl()));\n\t\t\t\t},\n\t\t\t\tajaxResponse: (url, params, response) => { return response?.data || [] },\n\t\t\t\tdataTree: true,\n\t\t\t\tinitialSort:[\n\t\t\t\t\t{column: 'lv_bezeichnung', dir: 'desc'},\n\t\t\t\t],\n\t\t\t\tdataTreeChildIndent: 20,\n\t\t\t\tdataTreeElementColumn: \"lv_kurzbz\",\n\t\t\t\tdataTreeStartExpanded: false,\n\t\t\t\tdataTreeCollapseElement: '<i class=\"fa-solid fa-caret-down\"></i>',\n\t\t\t\tdataTreeExpandElement: '<i class=\"fa-solid fa-caret-right\"></i>',\n\t\t\t\tcolumnDefaults: {\n\t\t\t\t\ttooltip: true,\n\t\t\t\t\theaderFilter: \"input\",\n\t\t\t\t\theaderFilterFunc: extendedHeaderFilter,\n\t\t\t\t},\n\t\t\t\tlayout: 'fitDataStretch',\n\t\t\t\tpersistenceID: 'lehrveranstaltungen_2025_07_31_v1',\n\t\t\t\tselectableRowsRangeMode: 'click',\n\t\t\t\tselectableRows: true,\n\t\t\t\trowContextMenu: (component, e) => {\n\n\t\t\t\t\tif (e.getData()?.lehreinheit_id === undefined)\n\t\t\t\t\t\treturn;\n\t\t\t\t\treturn [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"LV-Teil kopieren\",\n\t\t\t\t\t\t\tmenu: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Alles\",\n\t\t\t\t\t\t\t\t\taction: (e, row) =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.copyLehreinheit(row, \"alle\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Nur LV-Teil\",\n\t\t\t\t\t\t\t\t\taction: (e, row) =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.copyLehreinheit(row, \"lvteil\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Nur mit Gruppen\",\n\t\t\t\t\t\t\t\t\taction: (e, row) =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.copyLehreinheit(row, \"gruppen\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: \"Nur mit Lehrenden\",\n\t\t\t\t\t\t\t\t\taction: (e, row) =>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.copyLehreinheit(row, \"lektoren\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Entfernen\",\n\t\t\t\t\t\t\taction: (e, row)  => {\n\t\t\t\t\t\t\t\tthis.deleteLehreinheit(row)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t];\n\t\t\t\t},\n\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.$p.t('lehre', 'kurzbz'),\n\t\t\t\t\t\tfield: \"lv_kurzbz\",\n\t\t\t\t\t\theaderFilterFuncParams: {field: 'lv_kurzbz'},\n\t\t\t\t\t\theaderFilter: true,\n\t\t\t\t\t\tformatter: (cell, formatterParams) => {\n\t\t\t\t\t\t\tconst rowData = cell.getRow().getData();\n\t\t\t\t\t\t\tconst iconKey = (rowData.lehrtyp_kurzbz || '').toLowerCase();\n\t\t\t\t\t\t\tconst lvkurzbz = (cell.getValue()).toUpperCase();\n\n\t\t\t\t\t\t\tconst parentspan = document.createElement('span');\n\t\t\t\t\t\t\tconst span = document.createElement('span');\n\n\n\t\t\t\t\t\t\tspan.classList.add('lv_table_icon', `icon-${iconKey}`);\n\t\t\t\t\t\t\tspan.title = iconKey || 'LV-Teil';\n\n\t\t\t\t\t\t\tparentspan.appendChild(span);\n\t\t\t\t\t\t\tparentspan.appendChild(document.createTextNode(` ${lvkurzbz}`));\n\n\t\t\t\t\t\t\treturn parentspan\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tcellClick: (e, cell) => {\n\t\t\t\t\t\t\tcell.getRow().treeToggle();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Tags',\n\t\t\t\t\t\tfield: 'tags',\n\t\t\t\t\t\ttooltip: false,\n\t\t\t\t\t\theaderFilter: \"input\",\n\t\t\t\t\t\theaderFilterFunc: tagHeaderFilter,\n\t\t\t\t\t\theaderFilterFuncParams: {field: 'tags'},\n\t\t\t\t\t\tformatter: (cell) => {\n\t\t\t\t\t\t\tlet tags = cell.getValue();\n\t\t\t\t\t\t\tif (!tags) return;\n\n\t\t\t\t\t\t\tlet container = document.createElement('div');\n\t\t\t\t\t\t\tcontainer.className = \"d-flex gap-1\";\n\n\t\t\t\t\t\t\tlet parsedTags = JSON.parse(tags);\n\t\t\t\t\t\t\tlet maxVisibleTags = 2;\n\n\t\t\t\t\t\t\tconst rowData = cell.getRow().getData();\n\t\t\t\t\t\t\tif (rowData._tagExpanded === undefined) {\n\t\t\t\t\t\t\t\trowData._tagExpanded = false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst renderTags = () => {\n\t\t\t\t\t\t\t\tcontainer.innerHTML = '';\n\t\t\t\t\t\t\t\tparsedTags = parsedTags.filter(item => item !== null);\n\n\t\t\t\t\t\t\t\tparsedTags.sort((a, b) => {\n\t\t\t\t\t\t\t\t\tlet adone = a.done ? 1 : 0;\n\t\t\t\t\t\t\t\t\tlet bbone = b.done ? 1 : 0;\n\n\t\t\t\t\t\t\t\t\tif (adone !== bbone)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\treturn adone - bbone;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn b.id - a.id;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tconst tagsToShow = rowData._tagExpanded ? parsedTags : parsedTags.slice(0, maxVisibleTags);\n\n\t\t\t\t\t\t\t\ttagsToShow.forEach(tag => {\n\t\t\t\t\t\t\t\t\tif (!tag) return;\n\t\t\t\t\t\t\t\t\tlet tagElement = document.createElement('span');\n\t\t\t\t\t\t\t\t\ttagElement.innerText = tag.beschreibung;\n\t\t\t\t\t\t\t\t\ttagElement.title = tag.notiz;\n\t\t\t\t\t\t\t\t\ttagElement.className = \"tag \" + tag.style;\n\t\t\t\t\t\t\t\t\tif (tag.done) tagElement.className += \" tag_done\";\n\n\t\t\t\t\t\t\t\t\ttagElement.addEventListener('click', (event) => {\n\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\t\tthis.$refs.tagComponent.editTag(tag.id);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tcontainer.appendChild(tagElement);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (parsedTags.length > maxVisibleTags) {\n\t\t\t\t\t\t\t\t\tlet toggle = document.createElement('button');\n\t\t\t\t\t\t\t\t\ttoggle.innerText = (rowData._tagExpanded ? '- ' : '+ ') + (parsedTags.length - maxVisibleTags);\n\t\t\t\t\t\t\t\t\ttoggle.className = \"display_all\";\n\t\t\t\t\t\t\t\t\ttoggle.title = rowData._tagExpanded ? \"Tags ausblenden\" : \"Tags einblenden\";\n\n\t\t\t\t\t\t\t\t\ttoggle.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t\trowData._tagExpanded = !rowData._tagExpanded;\n\t\t\t\t\t\t\t\t\t\trenderTags();\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tcontainer.appendChild(toggle);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\trenderTags();\n\t\t\t\t\t\t\treturn container;\n\t\t\t\t\t\t},\n\t\t\t\t\t\twidth: 150,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.$p.t('lehre', 'lehrveranstaltung_id'),\n\t\t\t\t\t\tfield: \"lehrveranstaltung_id\",\n\t\t\t\t\t\theaderFilterFuncParams: {field: 'lehrveranstaltung_id'},\n\t\t\t\t\t\theaderFilter: true,\n\t\t\t\t\t\tvisible: false\n\t\t\t\t\t},\n\t\t\t\t\t{title: this.$p.t('ui', 'bezeichnung'), field: \"lv_bezeichnung\", headerFilter: true, headerFilterFuncParams: {field: 'lv_bezeichnung'}},\n\t\t\t\t\t{title: this.$p.t('lehre', 'bezeichnungeng'), field: \"lv_bezeichnung_english\", headerFilter: true, headerFilterFuncParams: {field: 'lv_bezeichnung_english'}, visible: false},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.$p.t('lehre', 'studiengangskennzahlLehre'),\n\t\t\t\t\t\tfield: \"lv_studiengang_kz\",\n\t\t\t\t\t\theaderFilter: true,\n\t\t\t\t\t\theaderFilterFuncParams: {field: 'lv_studiengang_kz'},\n\t\t\t\t\t\tvisible: false\n\t\t\t\t\t},\n\t\t\t\t\t{title: this.$p.t('lehre', 'studiengang'), field: \"studiengang\", headerFilter: true, headerFilterFuncParams: {field: 'studiengang'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'semester'), field: \"semester\", headerFilter: true, headerFilterFuncParams: {field: 'semester'}},\n\t\t\t\t\t{title: this.$p.t('global', 'sprache'), field: \"sprache\", headerFilter: true, headerFilterFuncParams: {field: 'sprache'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'ects'), field: \"lv_ects\", headerFilter: true, headerFilterFuncParams: {field: 'lv_ects'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'semesterstunden'), field: \"semesterstunden\", headerFilter: true, headerFilterFuncParams: {field: 'semesterstunden'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('global', 'anmerkung'), field: \"anmerkung\", headerFilter: true, headerFilterFuncParams: {field: 'anmerkung'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'lehre'), field: \"lehre\", headerFilter: true, headerFilterFuncParams: {field: 'lehre'}, formatter: (cell) => cell.getValue() ? this.toUpperCase(this.$p.t('ui', 'ja')) : this.toUpperCase(this.$p.t('ui', 'nein')), visible: false},\n\t\t\t\t\t{title: this.$p.t('person', 'aktiv'), field: \"aktiv\", headerFilter: true, headerFilterFuncParams: {field: 'aktiv'}, formatter: (cell) => cell.getValue() ? this.toUpperCase(this.$p.t('ui', 'ja')) : this.toUpperCase(this.$p.t('ui', 'nein')), visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'organisationsform'), field: \"orgform_kurzbz\", headerFilter: true, headerFilterFuncParams: {field: 'orgform_kurzbz'}},\n\t\t\t\t\t{title: this.$p.t('ui', 'studienplan_id'), field: \"studienplan_id\", headerFilter: true, headerFilterFuncParams: {field: 'studienplan_id'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'studienplan'), field: \"studienplan_bezeichnung\", headerFilter: true, headerFilterFuncParams: {field: 'studienplan_bezeichnung'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'lehrtyp'), field: \"lehrtyp_kurzbz\", headerFilter: true, headerFilterFuncParams: {field: 'lehrtyp_kurzbz'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'lehrform'), field: \"lehrform_kurzbz\", headerFilter: true, headerFilterFuncParams: {field: 'lehrform_kurzbz'}},\n\t\t\t\t\t{title: this.$p.t('lehre', 'leplanstunden'), field: \"le_planstunden\", headerFilter: true, headerFilterFuncParams: {field: 'le_planstunden'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'lehreinheit_id'), field: \"lehreinheit_id\", headerFilter: true, headerFilterFuncParams: {field: 'lehreinheit_id'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'studiensemester'), field: \"studiensemester_kurzbz\", headerFilter: true, headerFilterFuncParams: {field: 'studiensemester_kurzbz'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'unr'), field: \"unr\", headerFilter: true, headerFilterFuncParams: {field: 'unr'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'organisationseinheit'), field: \"fachbereich\", headerFilter: true, headerFilterFuncParams: {field: 'fachbereich'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'stundenblockung'), field: \"stundenblockung\", headerFilter: true, headerFilterFuncParams: {field: 'stundenblockung'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'wochenrhythmus'), field: \"wochenrythmus\", headerFilter: true, headerFilterFuncParams: {field: 'wochenrythmus'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'startkw'), field: \"start_kw\", headerFilter: true, headerFilterFuncParams: {field: 'startkw'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'raumtyp'), field: \"raumtyp\", headerFilter: true, headerFilterFuncParams: {field: 'raumtyp'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'raumtypalternativ'), field: \"raumtypalternativ\", headerFilter: true, headerFilterFuncParams: {field: 'raumtypalternativ'}, visible: false},\n\t\t\t\t\t{title: this.$p.t('lehre', 'gruppen'), field: \"gruppen\", headerFilter: true, headerFilterFuncParams: {field: 'gruppen'}},\n\t\t\t\t\t{title: this.$p.t('lehre', 'lehrende'), field: \"lektoren\", headerFilter: true, headerFilterFuncParams: {field: ['lektoren', 'vorname', 'nachname']}},\n\t\t\t\t],\n\t\t\t}\n\n\t\t}\n\t},\n\n\tmounted() {\n\t\tif (this.shouldAutoLoad())\n\t\t{\n\t\t\tthis.reload();\n\t\t}\n\t},\n\tmethods: {\n\t\tshouldAutoLoad() {\n\t\t\treturn this.filter && this.filter.activeFilter;\n\t\t},\n\t\ttoUpperCase(str) {\n\t\t\tif (!str)\n\t\t\t\treturn '';\n\t\t\treturn str.charAt(0).toUpperCase() + str.slice(1).toLowerCase()\n\t\t},\n\t\tasync reload()\n\t\t{\n\n\t\t\tif (this.shouldAutoLoad)\n\t\t\t{\n\t\t\t\tthis.$refs.table.reloadTable();\n\t\t\t}\n\t\t},\n\t\trowSelectionChanged(data) {\n\t\t\tthis.selectedRows = this.$refs.table.tabulator.getSelectedRows();\n\t\t\tthis.selectedColumnValues = this.selectedRows.filter(row => row.getData().lehreinheit_id !== undefined && row.getData().lehreinheit_id).map(row => row.getData().lehreinheit_id);\n\n\t\t\tif (data[0]?.lehreinheit_id !== undefined && this.selectedColumnValues.length === 1)\n\t\t\t{\n\t\t\t\tthis.$emit('update:selected', [data[0]]);\n\t\t\t\tthis.lv_info = false\n\t\t\t}\n\t\t\telse if (data[0]?.lehrveranstaltung_id)\n\t\t\t{\n\t\t\t\tthis.$emit('update:selected', {});\n\t\t\t\tthis.getLVInfos(data[0]);\n\t\t\t}\n\t\t},\n\t\tgetLVInfos(data)\n\t\t{\n\t\t\tthis.$api.call(ApiLv.getByLV(data.lehrveranstaltung_id))\n\t\t\t\t.then(result => {\n\n\t\t\t\t\tif (result.data?.lehrfach_id === undefined\n\t\t\t\t\t\t&& Array.isArray(result.data?.lehrfaecher))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst match = result.data.lehrfaecher?.find(\n\t\t\t\t\t\t\tlf => lf.lehrfach?.startsWith(result.data.lvbezeichnung)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (match)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.data.lehrfach_id = match.lehrveranstaltung_id;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.lv_info = {...this.lv_info_default, ...result.data};\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tbuildApiUrl()\n\t\t{\n\t\t\tif (this.filter.activeFilter === 'employee' && this.filter.emp)\n\t\t\t{\n\t\t\t\tconst { emp, stg, studiensemester_kurzbz } = this.filter;\n\t\t\t\treturn this.$api.getUri(ApiLv.getByEmp(studiensemester_kurzbz, emp, stg));\n\t\t\t}\n\n\t\t\tif (this.filter.activeFilter === 'verband' && this.filter.stg)\n\t\t\t{\n\t\t\t\tconst { stg, semester, studiensemester_kurzbz } = this.filter;\n\t\t\t\treturn this.$api.getUri(ApiLv.getByStg(studiensemester_kurzbz, stg, semester));\n\t\t\t}\n\t\t},\n\t\tresetEmployeeFilter()\n\t\t{\n\t\t\tconst newFilter = { ...this.filter };\n\t\t\tdelete newFilter.emp;\n\t\t\tnewFilter.activeFilter = 'verband';\n\t\t},\n\t\tshowLehreinheitModal() {\n\t\t\tthis.resetModal();\n\t\t\tthis.$refs.lehreinheitModal.show();\n\t\t},\n\t\taddNewLehreinheit()\n\t\t{\n\t\t\treturn this.$api.call(ApiLehreinheit.add(this.lv_info))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.$refs.lehreinheitModal.hide()\n\t\t\t\t\tthis.reload()\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tresetModal()\n\t\t{\n\t\t\tthis.lv_info_default = {\n\t\t\t\tstundenblockung: 2,\n\t\t\t\twochenrythmus: 1,\n\t\t\t\tstudiensemester_kurzbz: this.currentSemester,\n\t\t\t\tlehrform_kurzbz: 'UE',\n\t\t\t\tanmerkung: this.lehreinheitAnmerkungDefault.replace(\"'\",\"\\'\"),\n\t\t\t\traumtyp: this.lehreinheitRaumtypDefault,\n\t\t\t\traumtypalternativ: this.lehreinheitRaumtypAlternativeDefault,\n\t\t\t\tlehrfach_id: ''\n\t\t\t}\n\t\t},\n\t\taddedTag(addedTag)\n\t\t{\n\t\t\tconst table = this.$refs.table.tabulator;\n\n\t\t\tthis.selectedRows.forEach(row =>\n\t\t\t{\n\t\t\t\tif (Array.isArray(addedTag.response))\n\t\t\t\t{\n\t\t\t\t\taddedTag.response.forEach(tag => {\n\t\t\t\t\t\tconst targetRow = this.allRows.find(row => row.getData().lehreinheit_id === tag.lehreinheit_id);\n\t\t\t\t\t\tif (targetRow)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst rowData = targetRow.getData();\n\t\t\t\t\t\t\tlet tags = [];\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\ttags = JSON.parse(rowData.tags || '[]');\n\t\t\t\t\t\t\t} catch (e) {}\n\n\t\t\t\t\t\t\tconst tagExists = tags.some((t) => t.id === tag.id);\n\t\t\t\t\t\t\tif (!tagExists)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\taddedTag.id = tag.id;\n\t\t\t\t\t\t\t\ttags.unshift({ ...addedTag });\n\t\t\t\t\t\t\t\ttargetRow.update({ tags: JSON.stringify(tags) });\n\t\t\t\t\t\t\t\ttargetRow.reformat();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdeletedTag(deletedTag) {\n\t\t\tconst targetRow = this.allRows.find(row => {\n\t\t\t\tconst rowData = row.getData();\n\n\t\t\t\tlet tags = [];\n\t\t\t\ttry {\n\t\t\t\t\ttags = JSON.parse(rowData.tags || '[]');\n\t\t\t\t} catch (e) {}\n\n\t\t\t\treturn tags.some(tag => tag.id === deletedTag);\n\t\t\t});\n\n\t\t\tif (targetRow) {\n\t\t\t\tconst rowData = targetRow.getData();\n\t\t\t\tlet tags = [];\n\n\t\t\t\ttry {\n\t\t\t\t\ttags = JSON.parse(rowData.tags || '[]');\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tconst filteredTags = tags.filter(t => t.id !== deletedTag);\n\t\t\t\tconst updatedTags = JSON.stringify(filteredTags);\n\n\t\t\t\tif (updatedTags !== rowData.tags) {\n\t\t\t\t\ttargetRow.update({\n\t\t\t\t\t\ttags: updatedTags\n\t\t\t\t\t});\n\n\t\t\t\t\ttargetRow.reformat();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdatedTag(updatedTag) {\n\t\t\tconst targetRow = this.allRows.find(row => {\n\t\t\t\tconst rowData = row.getData();\n\t\t\t\tlet tags = [];\n\n\t\t\t\ttry {\n\t\t\t\t\ttags = JSON.parse(rowData.tags || '[]');\n\t\t\t\t} catch (e) {}\n\n\t\t\t\treturn tags.some(t => t?.id === updatedTag.id);\n\t\t\t});\n\n\t\t\tif (targetRow)\n\t\t\t{\n\t\t\t\tconst rowData = targetRow.getData();\n\t\t\t\tlet tags = [];\n\t\t\t\ttry {\n\t\t\t\t\ttags = JSON.parse(rowData.tags || '[]');\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tlet changed = false;\n\n\t\t\t\tconst tagIndex = tags.findIndex(tag => tag?.id === updatedTag.id);\n\t\t\t\tif (tagIndex !== -1) {\n\t\t\t\t\ttags[tagIndex] = { ...updatedTag };\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\n\t\t\t\tif (changed)\n\t\t\t\t{\n\t\t\t\t\ttargetRow.update({\n\t\t\t\t\t\ttags: JSON.stringify(tags),\n\t\t\t\t\t});\n\t\t\t\t\ttargetRow.reformat();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync copyLehreinheit(row, art)\n\t\t{\n\t\t\tlet data = {\n\t\t\t\tlehreinheit_id: row.getData().lehreinheit_id,\n\t\t\t\tart: art\n\t\t\t}\n\n\t\t\treturn this.$api.call(ApiLehreinheit.copy(data))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.reload()\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError)\n\t\t},\n\n\t\tasync getExpandedRows() {\n\t\t\tthis.expanded = [];\n\n\t\t\tthis.allRows.forEach(row => {\n\t\t\t\tif (row.getTreeChildren().length > 0 && row.isTreeExpanded())\n\t\t\t\t{\n\t\t\t\t\tthis.expanded.push(row.getData().lv_bezeichnung);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\treexpandRows() {\n\t\t\tthis.allRows = this.getAllRows(this.$refs.table.tabulator.getRows());\n\n\t\t\tlet lastMatchingRow = null;\n\n\t\t\tthis.allRows.forEach(row => {\n\t\t\t\tif (this.expanded.includes(row.getData().lv_bezeichnung))\n\t\t\t\t{\n\t\t\t\t\tif (row._row.modules.dataTree)\n\t\t\t\t\t{\n\t\t\t\t\t\trow._row.modules.dataTree.open = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (row._row.data._children?.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tlastMatchingRow = row;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (lastMatchingRow)\n\t\t\t{\n\t\t\t\tlastMatchingRow.treeExpand();\n\t\t\t}\n\n\t\t\tthis.$refs.table.tabulator.redraw();\n\t\t},\n\t\tdeleteLehreinheit(row)\n\t\t{\n\t\t\tlet lehreinheit_id = row.getData().lehreinheit_id;\n\n\t\t\tlet is_selected = this.selectedColumnValues.length > 0 && this.selectedColumnValues.includes(lehreinheit_id);\n\n\t\t\tlet deleteData = is_selected ? {lehreinheit_id: [...new Set(this.selectedColumnValues)]} : {lehreinheit_id: lehreinheit_id};\n\n\t\t\treturn this.$api.call(ApiLehreinheit.delete(deleteData))\n\t\t\t\t.then(result => {\n\n\t\t\t\t\tif (result?.data?.errors)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.data.errors.forEach(error  => {\n\t\t\t\t\t\t\tthis.$fhcAlert.alertError(error)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tthis.reload()\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tgetAllRows(rows)\n\t\t{\n\t\t\tlet result = [];\n\t\t\trows.forEach(row =>\n\t\t\t{\n\t\t\t\tresult.push(row);\n\t\t\t\tlet children = row.getTreeChildren();\n\t\t\t\tif(children && children.length > 0)\n\t\t\t\t{\n\t\t\t\t\tresult = result.concat(this.getAllRows(children));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t},\n\t\tresetTree() {\n\t\t\tthis.allRows.forEach(row => {\n\t\t\t\trow._row.modules.dataTree.open = false;\n\t\t\t});\n\n\t\t\tlet rootRows = this.$refs.table.tabulator.getRows(true);\n\t\t\tvar lastRow = rootRows[rootRows.length - 1];\n\t\t\tlastRow?.treeCollapse(true)\n\n\t\t\tthis.currentTreeLevel = 0;\n\t\t},\n\t\texpandTree()\n\t\t{\n\t\t\tthis.currentTreeLevel = (this.currentTreeLevel || 1);\n\n\t\t\tlet lastMatchingRow = null;\n\n\t\t\tthis.allRows.forEach(row => {\n\t\t\t\tconst level = row._row.modules.dataTree?.index ?? 0;\n\n\t\t\t\tif (level === this.currentTreeLevel - 1 )\n\t\t\t\t{\n\t\t\t\t\trow._row.modules.dataTree.open = true;\n\n\t\t\t\t\tif (row._row.data._children?.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tlastMatchingRow = row;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (lastMatchingRow)\n\t\t\t{\n\t\t\t\tlastMatchingRow.treeExpand();\n\t\t\t\tthis.currentTreeLevel++;\n\t\t\t}\n\t\t\tthis.$refs.table.tabulator.redraw();\n\t\t},\n\t},\n\ttemplate: `\n\t<core-filter-cmpt\n\t\tref=\"table\"\n\t\t:tabulator-options=\"tabulatorOptions\"\n\t\t:tabulator-events=\"tabulatorEvents\"\n\t\ttable-only\n\t\t:side-menu=\"false\"\n\t\t:reload=true\n\t\tnew-btn-label=\"LV-Teil hinzufgen\"\n\t\tnew-btn-show\n\t\t:new-btn-disabled=\"!lv_info\"\n\t\t@click:new=\"showLehreinheitModal\">\n\t\t\n\t\t<template #actions>\n\t\t\t<button @click=\"expandTree\" class=\"btn btn-outline-secondary\" type=\"button\" :title=\"$p.t('lehre', 'aufklappen')\"><i class=\"fa-solid fa-maximize\"></i></button>\n\t\t\t<button @click=\"resetTree\" class=\"btn btn-outline-secondary\" type=\"button\" :title=\"$p.t('lehre', 'zuklappen')\"><i id=\"togglegroup\" class=\"fa-solid fa-minimize\"></i></button>\n\t\t\t<core-tag ref=\"tagComponent\"\n\t\t\t\t:endpoint=\"tagEndpoint\"\n\t\t\t\t:values=\"selectedColumnValues\"\n\t\t\t\t@added=\"addedTag\"\n\t\t\t\t@deleted=\"deletedTag\"\n\t\t\t\t@updated=\"updatedTag\"\n\t\t\t\tzuordnung_typ=\"lehreinheit_id\"\n\t\t\t></core-tag>\n\t\t</template>\n\t\t<template #search>\n\t\t\t<slot name=\"filterzuruecksetzen\"></slot>\n\t\t</template>\n\t</core-filter-cmpt>\n\t<bs-modal ref=\"lehreinheitModal\" dialogClass=\"modal-xxl\">\n\t\t<template #title>\n\t\t\t<p class=\"fw-bold mt-3\">{{$p.t('lehre', 'newlehreinheit')}}</p>\n\t\t</template>\n\t\t\t\n\t\t<template v-if=\"lv_info\">\n\t\t\t<details-form :data=\"lv_info\"/>\n\t\t</template>\n\t\t\t\n\t\t<template #footer>\n\t\t\t<button type=\"button\" class=\"btn btn-primary\" @click=\"addNewLehreinheit\">{{$p.t('ui', 'speichern')}}</button>\n\t\t</template>\n\t</bs-modal>\n\n`\n};","import accessibility from \"../directives/accessibility.js\";\n\nimport TabView from '../../../index.ci.php/public/js/components/primevue/tabview/tabview.esm.min.js';\nimport TabPanel from '../../../index.ci.php/public/js/components/primevue/tabpanel/tabpanel.esm.min.js';\n\nexport default {\n\tcomponents: {\n\t\ttabview: TabView,\n\t\ttabpanel: TabPanel\n\t},\n\tdirectives: {\n\t\taccessibility\n\t},\n\temits: [\n\t\t'update:modelValue',\n\t\t'change',\n\t\t'changed'\n\t],\n\tprops: {\n\t\tconfig: {\n\t\t\ttype: [String, Array, Object, Promise],\n\t\t\trequired: true\n\t\t},\n\t\tdefault: String,\n\t\tmodelValue: [String, Number, Boolean, Array, Object, Date, Function, Symbol],\n\t\tvertical: Boolean,\n\t\tborder: Boolean,\n\t\tuseprimevue: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrent: null,\n\t\t\ttabs: {},\n\t\t\tcount: null\n\t\t}\n\t},\n\tcomputed: {\n\t\tcurrentTab() {\n\t\t\tif (this.tabs[this.current])\n\t\t\t\treturn this.tabs[this.current];\n\n\t\t\treturn { component: 'div' };\n\t\t},\n\t\tvalue: {\n\t\t\tget() {\n\t\t\t\treturn this.modelValue;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tthis.$emit('update:modelValue', v);\n\t\t\t}\n\t\t},\n\t\tcalcActiveIndex: function() {\n\t\t\tlet keys = Object.keys(this.tabs);\n\t\t\tlet index = keys.indexOf(this.default);\n\t\t\tif( index === -1 ) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tconfig(n) {\n\t\t\tthis.initConfig(n);\n\t\t}\n\t},\n\tmethods: {\n\t\thandleTabClick: function (e) {\n\t\t\tlet keys = Object.keys(this.tabs);\n\t\t\tthis.change(keys[e.index]);\n\t\t},\n\t\tchange(key) {\n\t\t\tthis.$emit(\"change\", key)\n\t\t\tthis.current = key;\n\t\t\tthis.$nextTick(() => this.$emit(\"changed\", key));\n\t\t},\n\t\tinitConfig(config) {\n\t\t\tif (!config)\n\t\t\t\treturn;\n\t\t\tif (config instanceof Promise)\n\t\t\t\treturn config\n\t\t\t\t\t.then(result => result.data)\n\t\t\t\t\t.then(this.initConfig)\n\t\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t\tif (typeof config === 'string' || config instanceof String)\n\t\t\t\treturn this.$api\n\t\t\t\t\t.get(config)\n\t\t\t\t\t.then(result => result.data)\n\t\t\t\t\t.then(this.initConfig)\n\t\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\t\tconst tabs = {};\n\n\t\t\tfunction _addToTabs(key, item) {\n\t\t\t\tif (!item.component)\n\t\t\t\t\treturn console.error('Component missing for ' + key);\n\n\t\t\t\t//making it reactive for showing headerSuffix\n\t\t\t\tconst value = Vue.reactive({\n\t\t\t\t\tsuffix: '',\n\t\t\t\t\tshowSuffix: item.showSuffix || false\n\t\t\t\t});\n\n\t\t\t\ttabs[key] = {\n\t\t\t\t\tcomponent: Vue.markRaw(Vue.defineAsyncComponent(() => import(item.component))),\n\t\t\t\t\ttitle: Vue.computed(() => item.title || key),\n\t\t\t\t\tconfig: item.config,\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue,\n\t\t\t\t\tsuffixhelper: item.suffixhelper ?? null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (Array.isArray(config)) {\n\t\t\t\tconfig.forEach((item, key) => _addToTabs(key, item));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tObject.entries(config).forEach(([key, item]) => _addToTabs(key, item));\n\t\t\t}\n\n\t\t\tif (this.current === null || !tabs[this.current]) {\n\t\t\t\tif (tabs[this.default])\n\t\t\t\t\tthis.current = this.default;\n\t\t\t\telse\n\t\t\t\t\tthis.current = Object.keys(tabs)[0];\n\t\t\t}\n\t\t\tthis.tabs = tabs;\n\t\t},\n\t\tupdateSuffix() {\n\t\t\tthis.getTabSuffix(this.currentTab);\n\t\t},\n\t\tremoveInvalidCountTabs(){\n\t\t\tif(this.modelValue.length)\n\t\t\t{\n\t\t\t\tlet countIst = this.modelValue.length;\n\t\t\t\tconst tabsToDelete = [];\n\n\t\t\t\tObject.entries(this.config).forEach(([key, item]) => {\n\n\t\t\t\t\tconst target = item?.config ? item : item?.value || item;\n\n\t\t\t\t\t// check config for validCountMulti\n\t\t\t\t\tif (target.config?.validCountMulti !== undefined) {\n\t\t\t\t\t\tlet tab;\n\t\t\t\t\t\tlet countSoll;\n\t\t\t\t\t\ttab = key;\n\t\t\t\t\t\tcountSoll = target.config.validCountMulti;\n\n\t\t\t\t\t\t//check if tab is existing\n\t\t\t\t\t\tif (countSoll !== undefined && countSoll == countIst) {\n\t\t\t\t\t\t\t//add tab if it was removed before\n\t\t\t\t\t\t\tif (tab in this.tabs == false) {\n\t\t\t\t\t\t\t\tconst value = Vue.reactive({\n\t\t\t\t\t\t\t\t\tsuffix: '',\n\t\t\t\t\t\t\t\t\tshowSuffix: item.showSuffix || false\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tthis.tabs[tab] = {\n\t\t\t\t\t\t\t\t\tcomponent: Vue.markRaw(Vue.defineAsyncComponent(() => import(item.component))),\n\t\t\t\t\t\t\t\t\ttitle: Vue.computed(() => item.title || tab),\n\t\t\t\t\t\t\t\t\tconfig: item.config,\n\t\t\t\t\t\t\t\t\ttab,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\tsuffixhelper: item.suffixhelper ?? null\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//add to toDeleteArray if count is not allowed\n\t\t\t\t\t\tif (countSoll !== undefined && countSoll !== countIst) {\n\t\t\t\t\t\t\ttabsToDelete.push(tab);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Delete all tabs with count not allowed\n\t\t\t\ttabsToDelete.forEach(k => {\n\t\t\t\t\tdelete this.tabs[k];\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\tasync getTabSuffix(tab) {\n\t\t\tif (!tab.value.showSuffix) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (tab.suffixhelper !== null) {\n\t\t\t\tconst suffixhelper = await import(tab.suffixhelper);\n\t\t\t\tconst suffix = await suffixhelper.getSuffix(this.$api, this.modelValue);\n\t\t\t\ttab.value.suffix = suffix;\n\t\t\t} else {\n\t\t\t\ttab.value.suffix = '';\n\t\t\t}\n\t\t},\n\t\tgetTabSuffixes() {\n\t\t\tObject.entries(this.tabs).forEach(([key, item]) => this.getTabSuffix(item));\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.initConfig(this.config);\n\t},\n\tmounted() {\n\t\tthis.getTabSuffixes();\n\t\tthis.removeInvalidCountTabs();\n\t},\n\tupdated() {\n\t\tthis.getTabSuffixes();\n\t\tthis.removeInvalidCountTabs();\n\t},\n\ttemplate: `\n\t<template v-if=\"useprimevue\">\n\n\t\t<tabview\n\t\t\tclass=\"d-flex flex-column\"\n\t\t\t:scrollable=\"true\"\n\t\t\t:lazy=\"true\"\n\t\t\t:activeIndex=\"calcActiveIndex\"\n\t\t\t:pt=\"{navContainer:{style: 'flex: 0 0 auto;'}, panelContainer:{class: 'overflow-y-scroll', style: 'flex: 1 1 auto;'}}\"\n\t\t\t@tab-click=\"handleTabClick\"\n\t\t>\n\t\t\t<tabpanel\n\t\t\t\tv-for=\"tab in tabs\"\n\t\t\t\t:key=\"tab.key\"\n\t\t\t\t:header=\"tab.title + ((tab.value.showSuffix && tab.value.suffix !== '') ? ' ' + tab.value.suffix : '')\"\n\t\t\t>\n\t\t\t\t<keep-alive>\n\t\t\t\t\t<component\n\t\t\t\t\t\t:is=\"tab.component\"\n\t\t\t\t\t\tv-model=\"value\"\n\t\t\t\t\t\t:config=\"tab.config\"\n\t\t\t\t\t\t@update:suffix=\"updateSuffix($event)\"\n\t\t\t\t\t\t></component>\n\t\t\t\t</keep-alive>\n\t\t\t</tabpanel>\n\t\t</tabview>\n\n\t</template>\n\t<template v-else=\"\">\n\n\t<div class=\"fhc-tabs d-flex\" :class=\"vertical ? 'align-items-stretch gap-3' : (border ? 'flex-column' : 'flex-column gap-3')\" v-if=\"Object.keys(tabs).length\">\n\t\t<div class=\"nav\" :class=\"vertical ? 'nav-pills flex-column' : 'nav-tabs'\">\n\n\t\t\t<div\n\t\t\t\tv-for=\"tab in tabs\"\n\t\t\t\t:key=\"tab.key\"\n\t\t\t\tclass=\"nav-item nav-link\"\n\t\t\t\t:class=\"{active: tab.key == current}\"\n\t\t\t\t@click=\"change(tab.key)\"\n\t\t\t\t:aria-current=\"tab.key == current ? 'page' : ''\"\n\t\t\t\tv-accessibility:tab.[vertical]\n\t\t\t\t>\n\t\t\t\t{{tab.title}} <span v-if=\"tab.value.showSuffix && tab.value.suffix\"> {{ tab.value.suffix }}</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :style=\"vertical ? '' : 'flex: 1 1 0%; height: 0%'\" class=\"overflow-auto flex-grow-1\" :class=\"vertical || !border ? '' : 'p-3 border-bottom border-start border-end'\">\n\t\t\t<keep-alive>\n\t\t\t\t<component\n\t\t\t\t\tref=\"current\"\n\t\t\t\t\t:is=\"currentTab.component\"\n\t\t\t\t\tv-model=\"value\"\n\t\t\t\t\t:config=\"currentTab.config\"\n\t\t\t\t\t@update:suffix=\"updateSuffix($event)\"\n\t\t\t\t\t></component>\n\t\t\t</keep-alive>\n\t\t</div>\n\t</div>\n\n\t</template>`\n};\n\n","export default {\n\tcreated(el, binding) {\n\t\tswitch (binding.arg) {\n\t\t\tcase 'tab':\n\t\t\t\tel.style.cursor = 'pointer';\n\t\t\t\tconst [prev, next] = binding.modifiers.vertical ? ['ArrowUp', 'ArrowDown'] : ['ArrowLeft', 'ArrowRight'];\n\t\t\t\tel.addEventListener('click', () => {\n\t\t\t\t\tlet act = el.parentNode.querySelector('[tabindex=\"0\"]');\n\t\t\t\t\tif (act)\n\t\t\t\t\t\tact.tabIndex = -1;\n\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t});\n\t\t\t\tel.addEventListener('focus', () => {\n\t\t\t\t\tel.ariaSelected = \"true\";\n\t\t\t\t});\n\t\t\t\tel.addEventListener('blur', () => {\n\t\t\t\t\tel.ariaSelected = \"false\";\n\t\t\t\t});\n\t\t\t\tel.addEventListener('keydown', e => {\n\t\t\t\t\tswitch (e.code) {\n\t\t\t\t\t\tcase prev:\n\t\t\t\t\t\t\tif (el.previousSibling?.tabIndex !== undefined) {\n\t\t\t\t\t\t\t\tel.previousSibling.tabIndex = 0;\n\t\t\t\t\t\t\t\tel.tabIndex = -1;\n\t\t\t\t\t\t\t\tel.previousSibling.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase next:\n\t\t\t\t\t\t\tif (el.nextSibling?.tabIndex !== undefined) {\n\t\t\t\t\t\t\t\tel.nextSibling.tabIndex = 0;\n\t\t\t\t\t\t\t\tel.tabIndex = -1;\n\t\t\t\t\t\t\t\tel.nextSibling.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\t\tel.click();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tmounted(el, binding) {\n\t\tswitch (binding.arg) {\n\t\t\tcase 'tab':\n\t\t\t\tlet activetab = -1;\n\t\t\t\tArray.from(el.parentNode.children).forEach((node, index) => {\n\t\t\t\t\tnode.ariaSetSize = el.parentNode.children.length;\n\t\t\t\t\tnode.ariaPosInSet = index;\n\t\t\t\t\tif (node.tabIndex === 0)\n\t\t\t\t\t\tactivetab = index;\n\t\t\t\t});\n\t\t\t\tif (activetab == -1) {\n\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t} else if (el.classList.contains('active')) {\n\t\t\t\t\tel.parentNode.children[activetab].tabIndex = -1;\n\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t} else {\n\t\t\t\t\tel.tabIndex = -1;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tswitch (binding.arg) {\n\t\t\tcase 'tab':\n\t\t\t\tif (el.tabIndex === 0) {\n\t\t\t\t\tif (el.previousSibling?.tabIndex !== undefined)\n\t\t\t\t\t\tel.previousSibling.tabIndex = 0;\n\t\t\t\t\telse if (el.nextSibling?.tabIndex !== undefined)\n\t\t\t\t\t\tel.nextSibling.tabIndex = 0;\n\t\t\t\t}\n\t\t\t\tconst pos = parseInt(el.ariaPosInSet);\n\t\t\t\tArray.from(el.parentNode.children).forEach((node, index) => {\n\t\t\t\t\tnode.ariaSetSize = el.parentNode.children.length;\n\t\t\t\t\tif (index > pos)\n\t\t\t\t\t\tnode.ariaPosInSet = index-1;\n\t\t\t\t});\n\t\t\tbreak;\n\t\t}\n\t}\n}","export default {\n\tgetTabs()\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/setup/getTabs/'\n\t\t};\n\t},\n}\n","import FhcTabs from \"../../Tabs.js\";\nimport Setup from \"../../../api/lehrveranstaltung/setup.js\";\n\nexport default {\n\tname: \"LVVerwaltungTabs\",\n\tcomponents: {\n\t\tFhcTabs\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tconfigLVTabs: {},\n\t\t};\n\t},\n\tprops: {\n\t\tlv: Object\n\t},\n\tcomputed: {\n\t\tconfig() {\n\t\t\tif (!this.lv || !this.lv.length)\n\t\t\t\treturn {};\n\n\t\t\treturn this.configLVTabs;\n\t\t}\n\t},\n\tmethods: {\n\t\treload() {\n\t\t\tif (this.$refs.tabs?.$refs?.current?.reload)\n\t\t\t{\n\t\t\t\tthis.$refs.tabs.$refs.current.reload();\n\t\t\t}\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.$api.call(Setup.getTabs())\n\t\t\t.then(result => {\n\t\t\t\tthis.configLVTabs = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t},\n\ttemplate: `\n\t\t<div class=\"stv-details h-100 pb-3 d-flex flex-column\">\n\t\t\t<div v-if=\"!lv?.length\" class=\"justify-content-center d-flex h-100 align-items-center\">\n\t\t\t\tBitte eine Lehreinheit auswhlen!\n\t\t\t</div>\n\t\t\t<div v-else-if=\"configLVTabs\" class=\"d-flex flex-column h-100 pb-3\">\n\t\t\t\t<fhc-tabs \n\t\t\t\t\tv-if=\"lv.length === 1\"\n\t\t\t\t\tref=\"tabs\"\n\t\t\t\t\t:modelValue=\"lv[0]\"\n\t\t\t\t\t:config=\"configLVTabs\"\n\t\t\t\t\t:default=\"$route.params.tab\"\n\t\t\t\t\t@changed=\"reload\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\tLoading...\n\t\t\t</div>\n\t\t</div>\n\t`\n};","export default {\n\tgetStudiensemester()\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/setup/getStudiensemester/'\n\t\t};\n\t},\n\tgetSprache()\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/setup/getSprache/'\n\t\t};\n\t},\n\tgetLehrform()\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/setup/getLehrform/'\n\t\t};\n\t},\n\tgetRaumtyp()\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/setup/getRaumtyp/'\n\t\t};\n\t},\n}\n","export default {\n\n\tgetLehrfunktionen()\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/lektor/getLehrfunktionen/'\n\t\t};\n\t},\n\n\tgetLektorenSearch(query)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: `/api/frontend/v1/lv/lektor/getLektorenSearch?query=${encodeURIComponent(query)}`\n\t\t};\n\t},\n\n\n\tgetByLehreinheit(lehreinheit_id)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/lektor/getLektorenByLE/' + encodeURIComponent(lehreinheit_id)\n\t\t};\n\t},\n\n\n\tadd(newData)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/lv/lektor/add/',\n\t\t\tparams: newData\n\t\t};\n\t},\n\n\tupdate(updatedData)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/lv/lektor/update/',\n\t\t\tparams: updatedData\n\t\t};\n\t},\n\n\n\tdeletePerson(deleteData)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/lv/lektor/deletePerson/',\n\t\t\tparams: deleteData\n\t\t};\n\t},\n\tdeleteFromLVPlan(deleteData)\n\t{\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/lv/lektor/deleteLVPlan/',\n\t\t\tparams: deleteData\n\t\t};\n\t},\n\tgetLektorDaten(lehreinheit_id, mitarbeiter_uid)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/lv/lektor/getLektorDaten/' + encodeURIComponent(lehreinheit_id) + '/' + encodeURIComponent(mitarbeiter_uid)\n\t\t};\n\t},\n\n\n\n\n\n\n}\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tget(path) {\n\t\tlet url = 'api/frontend/v1/lv/StgTree';\n\t\tif (path)\n\t\t\turl += '/' + path;\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl\n\t\t};\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn {\n\t\t\t\tmethod: 'get',\n\t\t\t\turl: 'api/frontend/v1/lv/favorites'\n\t\t\t};\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn {\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: 'api/frontend/v1/lv/favorites/set',\n\t\t\t\tparams: { favorites }\n\t\t\t};\n\t\t}\n\t}\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/search',\n\t\t\tparams\n\t\t};\n\t},\n\tsearchCis(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/searchCis',\n\t\t\tparams\n\t\t};\n\t},\n\tsearchStv(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/searchStv',\n\t\t\tparams\n\t\t};\n\t}\n};","import CoreSearchbar from \"../searchbar/searchbar.js\";\nimport VerticalSplit from \"../verticalsplit/verticalsplit.js\";\nimport AppMenu from \"../AppMenu.js\";\nimport StvVerband from \"../Stv/Studentenverwaltung/Verband.js\";\nimport StvStudiensemester from \"../Stv/Studentenverwaltung/Studiensemester.js\";\nimport LvTable from \"./Setup/Table.js\";\nimport LvTabs from \"./Setup/Tabs.js\";\n\nimport ApiDetails from \"../../api/lehrveranstaltung/details.js\";\nimport ApiLektor from \"../../api/lehrveranstaltung/lektor.js\";\nimport ApiGruppe from \"../../api/lehrveranstaltung/gruppe.js\";\nimport ApiStudiengangTree from \"../../api/lehrveranstaltung/studiengangtree.js\";\nimport ApiSearchbar from \"../../api/factory/searchbar.js\";\n\n\nexport default {\n\tname: \"LVVerwaltung\",\n\tcomponents: {\n\t\tCoreSearchbar,\n\t\tVerticalSplit,\n\t\tAppMenu,\n\t\tStvVerband,\n\t\tStvStudiensemester,\n\t\tLvTable,\n\t\tLvTabs,\n\t},\n\tprops: {\n\t\tdefaultSemester: String,\n\t\tlvRoot: String,\n\t\tpermissions: Object,\n\t\tconfig: Object,\n\t\tstg: { type: String, required: false },\n\t\tsemester: { type: [Number, String], required: false, default: null },\n\t\tstudiensemester_kurzbz: { type: String, required: false, default: null },\n\t\temp: { type: String, required: false, default: null }\n\t},\n\n\tprovide() {\n\t\treturn {\n\t\t\tcurrentSemester: Vue.computed(() => this.selectedStudiensemester),\n\t\t\tdropdowns: this.dropdowns,\n\t\t\tconfigShowVertragsdetails: this.config.showVertragsdetails,\n\t\t\tconfigShowGewichtung: this.config.showGewichtung,\n\t\t\tlehreinheitAnmerkungDefault: (this.config.lehreinheitAnmerkungDefault || '').replace(/\\\\n/g, '\\n'),\n\t\t\tlehreinheitRaumtypDefault: this.config.lehreinheitRaumtypDefault,\n\t\t\tlehreinheitRaumtypAlternativeDefault: this.config.lehreinheitRaumtypAlternativeDefault,\n\n\t\t\tpermissionLehrveranstaltung: this.permissions['lehre/lehrveranstaltung'],\n\t\t\tpermissionGruppenEntfernen: this.permissions['lv-plan/gruppenentfernen'],\n\t\t\tpermissionLektorEntfernen: this.permissions['lv-plan/lektorentfernen'],\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.updateFilter();\n\t},\n\twatch: {\n\t\tstg() {\n\t\t\tthis.updateFilter();\n\t\t},\n\t\tsemester() {\n\t\t\tthis.updateFilter();\n\t\t},\n\t\tselectedStudiensemester() {\n\t\t\tthis.updateFilter();\n\t\t},\n\t\temp() {\n\t\t\tthis.updateFilter();\n\t\t},\n\t\tstudiensemester_kurzbz(newVal) {\n\t\t\tthis.selectedStudiensemester = newVal ?? this.defaultSemester;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: [],\n\t\t\tstudiengang: \"\",\n\t\t\tfilter: {},\n\t\t\tselectedStudiensemester: this.studiensemester_kurzbz ?? this.defaultSemester,\n\t\t\tendpoint: ApiStudiengangTree,\n\t\t\tdropdowns: {\n\t\t\t\tstudiensemester_array: [],\n\t\t\t\tsprachen_array: [],\n\t\t\t\tlehrform_array: [],\n\t\t\t\traumtyp_array: [],\n\t\t\t},\n\t\t\tselectedStudiengang: '',\n\t\t\tsearchbaroptions: {\n\t\t\t\torigin: 'lvverwaltung',\n\t\t\t\tcssclass: \"position-relative\",\n\t\t\t\tcalcheightonly: true,\n\t\t\t\ttypes: [\n\t\t\t\t\t\"mitarbeiter\",\n\t\t\t\t\t\"mitarbeiter_ohne_zuordnung\"\n\t\t\t\t],\n\t\t\t\tactions: {\n\t\t\t\t\temployee: {\n\t\t\t\t\t\tdefaultaction: {\n\t\t\t\t\t\t\ttype: \"function\",\n\t\t\t\t\t\t\taction: (data) => {\n\t\t\t\t\t\t\t\tthis.onSelectEmployee(data.uid);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchildactions: [\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateFilter()\n\t\t{\n\t\t\tconst filter = {\n\t\t\t\tstg: this.stg,\n\t\t\t\temp: this.emp,\n\t\t\t\tsemester: this.semester,\n\t\t\t\tstudiensemester_kurzbz: this.selectedStudiensemester,\n\t\t\t\tactiveFilter: this.emp ? 'employee' : this.stg ? 'verband' : null\n\t\t\t}\n\n\t\t\tif (this.stg !== undefined)\n\t\t\t{\n\t\t\t\tthis.selectedStudiengang = this.semester !== '' && this.semester\n\t\t\t\t\t? `${this.stg}/${this.semester}`\n\t\t\t\t\t: this.stg;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedStudiengang = '';\n\t\t\t}\n\t\t\tthis.filter = filter;\n\t\t},\n\t\thandleRowClicked(data)\n\t\t{\n\t\t\tthis.selected = data\n\t\t},\n\t\tonSelectEmployee(emp)\n\t\t{\n\t\t\tconst { stg, semester } = this.filter;\n\n\t\t\tlet studiensemester_kurzbz = this.selectedStudiensemester;\n\t\t\tconst params = { emp };\n\n\t\t\tif (stg)\n\t\t\t\tparams.stg = stg;\n\t\t\tif (semester !== null)\n\t\t\t\tparams.semester = semester;\n\t\t\tif (studiensemester_kurzbz)\n\t\t\t\tparams.studiensemester_kurzbz = studiensemester_kurzbz;\n\n\t\t\tthis.$router.push({ name: 'byEmp', params })\n\t\t},\n\n\t\tonSelectVerband({link})\n\t\t{\n\t\t\tlet stg = null;\n\t\t\tlet semester = null;\n\t\t\tlet studiensemester_kurzbz = this.selectedStudiensemester;\n\n\t\t\tif (typeof link === 'number')\n\t\t\t\tstg = link;\n\t\t\telse if (typeof link === 'string')\n\t\t\t{\n\t\t\t\t[stg, semester] = link.split('/');\n\t\t\t}\n\n\t\t\tconst routeName = this.filter.emp ? 'byEmp' : 'byStg';\n\t\t\tconst params = { stg };\n\n\t\t\tparams.semester = '';\n\t\t\tif (semester !== null)\n\t\t\t\tparams.semester = semester;\n\t\t\tif (studiensemester_kurzbz)\n\t\t\t\tparams.studiensemester_kurzbz = studiensemester_kurzbz;\n\t\t\tif (this.filter.emp)\n\t\t\t\tparams.emp = this.filter.emp;\n\t\t\tthis.$router.push({ name: routeName, params });\n\t\t\tthis.selected = [];\n\t\t},\n\t\tresetEmployeeFilter()\n\t\t{\n\t\t\tconst newParams = { ...this.filter, activeFilter: 'verband' };\n\t\t\tif (newParams.stg === '')\n\t\t\t\tthis.$router.replace({ name: 'index' });\n\t\t\telse\n\t\t\t{\n\t\t\t\tdelete newParams.emp;\n\n\t\t\t\tthis.$router.replace({ name: 'byStg', params: newParams });\n\t\t\t}\n\t\t},\n\t\tresetStgFilter()\n\t\t{\n\t\t\tconst newParams = { ...this.filter, activeFilter: 'emp' };\n\t\t\tdelete newParams.stg;\n\t\t\tthis.selectedStudiengang = '';\n\t\t\tthis.$router.replace({ name: 'byEmp', params: newParams });\n\t\t},\n\t\tsearchfunction(params) {\n\t\t\treturn this.$api.call(ApiSearchbar.search(params));\n\t\t},\n\t\tstudiensemesterChanged(newValue) {\n\t\t\tconst routeName = this.filter.activeFilter === 'employee' ? 'byEmp' : 'byStg';\n\t\t\tconst newParams = {...this.filter, studiensemester_kurzbz: newValue};\n\t\t\tthis.$router.push({ name: routeName, params: newParams });\n\t\t\tthis.selected = [];\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.$p.loadCategory(['lehre', 'person', 'global'])\n\n\t\tthis.$api.call(ApiDetails.getStudiensemester())\n\t\t\t.then(result => {\n\t\t\t\tthis.dropdowns.studiensemester_array = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiDetails.getSprache())\n\t\t\t.then(result => {\n\t\t\t\tthis.dropdowns.sprachen_array = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiDetails.getLehrform())\n\t\t\t.then(result => {\n\t\t\t\tthis.dropdowns.lehrform_array = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiDetails.getRaumtyp())\n\t\t\t.then(result => {\n\t\t\t\tthis.dropdowns.raumtyp_array = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiLektor.getLehrfunktionen())\n\t\t\t.then(result => {\n\t\t\t\tthis.dropdowns.lehrfunktion_array = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\n\ttemplate: /* html */`\n\t<div class=\"stv\">\n\t\t<header class=\"navbar navbar-expand-lg navbar-dark bg-dark flex-md-nowrap p-0 shadow\">\n\t\t\t<div class=\"col-md-4 col-lg-3 col-xl-2 d-flex align-items-center\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\"btn btn-outline-light border-0 m-1 collapsed\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-bs-toggle=\"offcanvas\"\n\t\t\t\t\tdata-bs-target=\"#appMenu\"\n\t\t\t\t\taria-controls=\"appMenu\"\n\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t:aria-label=\"$p.t('ui/toggle_nav')\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"svg-icon svg-icon-apps\"></span>\n\t\t\t\t</button>\n\t\t\t\t<a class=\"navbar-brand me-0\">LV Verwaltung</a>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"btn btn-outline-light border-0 d-md-none m-1 collapsed\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-bs-toggle=\"offcanvas\"\n\t\t\t\tdata-bs-target=\"#sidebarMenu\"\n\t\t\t\taria-controls=\"sidebarMenu\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\t:aria-label=\"$p.t('ui/toggle_nav')\"\n\t\t\t>\n\t\t\t\t<span class=\"fa-solid fa-table-list\"></span>\n\t\t\t</button>\n\t\t\t<core-searchbar :searchoptions=\"searchbaroptions\" :searchfunction=searchfunction class=\"searchbar w-100\"></core-searchbar>\n\t\t</header>\n\t\t<div class=\"container-fluid overflow-hidden\">\n\t\t\t<div class=\"row h-100\">\n\t\t\t\t<aside id=\"appMenu\" class=\"bg-light offcanvas offcanvas-start col-md p-md-0 h-100\">\n\t\t\t\t\t<div class=\"offcanvas-header\">\n\t\t\t\t\t\tLV Verwaltung\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close text-reset\" data-bs-dismiss=\"offcanvas\" :aria-label=\"$p.t('ui/schliessen')\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"offcanvas-body\">\n\t\t\t\t\t\t<app-menu app-identifier=\"lvv\" />\n\t\t\t\t\t</div>\n\t\t\t\t</aside>\n\t\t\t\t<nav id=\"sidebarMenu\" class=\"bg-light offcanvas offcanvas-start col-md p-md-0 h-100\">\n\t\t\t\t\t<div class=\"offcanvas-header justify-content-end px-1 d-md-none\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close text-reset\" data-bs-dismiss=\"offcanvas\" :aria-label=\"$p.t('ui/schliessen')\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<stv-verband :preselectedKey=\"selectedStudiengang\" :endpoint=\"endpoint\" @select-verband=\"onSelectVerband\" class=\"col\" style=\"height:0%\"></stv-verband>\n\t\t\t\t\t<stv-studiensemester v-model:studiensemester-kurzbz=\"selectedStudiensemester\" @update:studiensemester-kurzbz=\"studiensemesterChanged\"></stv-studiensemester>\n\t\t\t\t</nav>\n\t\t\t\t\n\t\t\t\t<main class=\"col-md-8 ms-sm-auto col-lg-9 col-xl-10\">\n\t\t\t\t\t<vertical-split>\n\t\t\t\t\t\t<template #top>\n\t\t\t\t\t\t\t<lv-table ref=\"lvTable\"\n\t\t\t\t\t\t\t\tv-model:selected=\"selected\"\n\t\t\t\t\t\t\t\t @row-clicked=\"handleRowClicked\"\n\t\t\t\t\t\t\t\t:filter=\"filter\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template #filterzuruecksetzen v-if=\"filter.activeFilter === 'employee'\">\n\t\t\t\t\t\t\t\t\t<span class=\"fw-bold small\">\n\t\t\t\t\t\t\t\t\t[{{ $p.t('lehre', 'lektor') }}: {{ filter.emp || '' }}\n\t\t\t\t\t\t\t\t\t<button type=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-outline-secondary btn-action btn-sm ms-1\"\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$p.t('ui', 'filterdelete')\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"resetEmployeeFilter\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-xmark\"></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<template v-if=\"filter.stg\">\n\t\t\t\t\t\t\t\t\t\t| Stg: {{ filter.stg }}\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-outline-secondary btn-action btn-sm ms-1\"\n\t\t\t\t\t\t\t\t\t\t\t:title=\"$p.t('ui', 'filterdelete')\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"resetStgFilter\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-xmark\"></i>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</lv-table>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #bottom>\n\t\t\t\t\t\t\t<lv-tabs ref=\"details\" :lv=\"selected\"></lv-tabs>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</vertical-split>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/search';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchAdvanced(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/searchAdvanced';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchdummy(searchsettings) {\n\t\tconst url = 'public/js/apps/api/dummyapi.php/Search';\n\t\treturn this.$fhcApi.post(url, searchsettings);\n\t}\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/loadModule/' + category);\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst payload = {categories, language}\n\t\treturn this.$fhcApi.post('/api/frontend/v1/phrasen/setLanguage', payload);\n\t},\n\tgetLanguage() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getLanguage', {});\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getAllLanguages', {});\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/header',\n\t\t\t{ navigation_page }\n\t\t);\n\t},\n\tgetMenu: function(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/menu',\n\t\t\t{ navigation_page }\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/saveCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t);\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/applyFilterFields',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t);\n\t},\n\taddFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/addFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tgetFilter(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tabmeldung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/abmeldung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(stdsem, prestudent_id, grund) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/abmeldung/createAntrag', {\n\t\t\t\tstudiensemester: stdsem,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\tif (!Array.isArray(antrag_id))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t\t{ antrag_id }\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag_id.map(antrag => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t{ antrag_id: antrag.studierendenantrag_id },\n\t\t\t\t{ errorHeader: '#' + antrag.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t},\n\tunterbrechung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/unterbrechung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(studiensemester, prestudent_id, grund, datum_wiedereinstieg, attachment) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/createAntrag', {\n\t\t\t\tstudiensemester,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund,\n\t\t\t\tdatum_wiedereinstieg,\n\t\t\t\tattachment\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/cancelAntrag', {\n\t\t\t\tantrag_id\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t}\n\t},\n\twiederholung: {\n\t\tgetDetails(prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/' + prestudent_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tgetLvs(antrag_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getLvs/' + antrag_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tcreate(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/createAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/cancelAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tsaveLvs(forbiddenLvs, mandatoryLvs) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/saveLvs', {\n\t\t\t\tforbiddenLvs,\n\t\t\t\tmandatoryLvs\n\t\t\t});\n\t\t}\n\t},\n\tleitung: {\n\t\tgetStgs() {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getActiveStgs');\n\t\t},\n\t\tgetAntraege(url, config, params) {\n\t\t\treturn this.$fhcApi\n\t\t\t\t.get('/api/frontend/v1/studstatus/leitung/getAntraege/' + url)\n\t\t\t\t.then(res => res.data); // Return data for tabulator\n\t\t},\n\t\tgetHistory(antrag_id) {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getHistory/' + antrag_id)\n\t\t},\n\t\tgetPrestudents(query, signal) {\n\t\t\treturn this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/getPrestudents',\n\t\t\t\t{ query },\n\t\t\t\t{\n                                    signal: signal,\n                                    timeout: 30000\n                                }\n\t\t\t);\n\t\t},\n\t\tapprove(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treopen(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tunpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tobject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tapproveObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tdenyObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t}\n};","export default {\n\n  getView: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getView/${uid}`,{}\n    );\n  },\n\n  fotoSperre: function (value) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/fotoSperre/${value}`,\n      {}\n    );\n    \n  },\n\n  isStudent: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isStudent`,\n      {\n        uid:uid,\n      }\n    );\n  },\n\n  isMitarbeiter: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isMitarbeiter/${uid}`,\n      {}\n    );\n  },\n\n  getZustellAdresse: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellAdresse`,{}\n    );\n  },\n\n  getZustellKontakt: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellKontakt`,{}\n    );\n  },\n\n  getGemeinden: function(nation,zip){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getGemeinden/${nation}/${zip}`,\n      {}\n    );\n    \n  },\n  getAllNationen:function(){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      \"/api/frontend/v1/Profil/getAllNationen\",{}\n    );\n  },\n}","export default {\n    //! API calls for profil update requests\n  \n    getStatus: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getStatus`,{});\n    },\n  \n    getTopic: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getTopic`,{});\n    },\n  \n    acceptProfilRequest: function ({profil_update_id, uid, status_message, topic, requested_change}) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/acceptProfilRequest\",{profil_update_id, uid, status_message, topic, requested_change});\n    },\n  \n    denyProfilRequest: function ({profil_update_id, uid, topic, status_message}) {\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/denyProfilRequest\",{profil_update_id,uid,topic,status_message});\n    },\n  \n    insertFile: function (dms, replace = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n        dms);\n\n    },\n    \n    getProfilRequestFiles: function (requestID) {\n      return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`,{});\n    },\n  \n    selectProfilRequest: function (uid = null, id = null) {\n\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/selectProfilRequest`,\n        {...(uid?{uid}:{}),\n          ...(id?{id}:{})\n        });\n    },\n  \n    insertProfilRequest: function (topic, payload, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/insertProfilRequest\",\n        {\n          topic,\n          payload,\n          ...(fileID ? { fileID } : {}),\n        });\n    },\n  \n    updateProfilRequest: function (topic, payload, ID, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/updateProfilRequest`,\n        {\n          topic,\n          payload,\n          ID,\n          ...(fileID ? { fileID: fileID } : {}),\n        });\n    },\n  \n    deleteProfilRequest: function (requestID) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/deleteProfilRequest`,\n        {\n          requestID,\n        });\n    },\n  };\n  ","\nexport default {\n\tgetRoomInfo(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getRoomplan',\n\t\t\t{  ort_kurzbz, start_date, end_date}\n\t\t);\n\t},\n\tgetStunden() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/Stunden',\n\t\t\t{}\n\t\t);\n\t},\n\tgetOrtReservierungen(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/LvPlan/getReservierungen/${ort_kurzbz}`,\n\t\t\t{ start_date, end_date}\n\t\t);\n\t},\n\tgetLvPlanReservierungen(start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getReservierungen',\n\t\t\t{ start_date, end_date }\n\t\t);\n\t},\n\tgetLehreinheitStudiensemester(lehreinheit_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${lehreinheit_id}`,\n\t\t\t{}\n\t\t);\n\t},\n\tstudiensemesterDateInterval(date) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${date}`,\n\t\t\t{}\n\t\t);\n\t},\n\tLvPlanEvents(start_date, end_date, lv_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/LvPlanEvents',\n\t\t\t{ start_date, end_date, lv_id }\n\t\t);\n\t},\n\t\n\t\n};","import verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport group from './stv/group.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport archiv from './stv/archiv.js';\nimport documents from './stv/documents.js';\nimport exemptions from './stv/exemptions.js';\nimport jointstudies from \"./stv/jointstudies.js\";\nimport courselist from './stv/courselist.js';\n\nexport default {\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tgroup,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tarchiv,\n\tdocuments,\n\texemptions,\n\tjointstudies,\n\tcourselist,\n\tconfigStudent() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/student');\n\t},\n\tconfigStudents() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/students');\n\t}\n};\n","export default {\n\tget() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/verband');\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/stv/favorites');\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/stv/favorites/set', {\n\t\t\t\tfavorites\n\t\t\t});\n\t\t}\n\t}\n}","export default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tverband(relative_path) {\n\t\treturn this.$fhcApi.getUri('api/frontend/v1/stv/students/' + relative_path);\n\t}\n}","export default {\n\tgetStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/filter/getStg');\n\t},\n\tsetStg(studiengang_kz) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/filter/setStg', {\n\t\t\tstudiengang_kz\n\t\t});\n\t}\n};","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/konto/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id),\n\t\t\t\tonly_open: self.filter,\n\t\t\t\tstudiengang_kz: self.studiengang_kz_intern ? self.stg_kz : ''\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tcheckDoubles(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/checkDoubles', data, {\n\t\t\tconfirmErrorHandler: error => true\n\t\t});\n\t},\n\tinsert(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/insert', data);\n\t},\n\tcounter(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/counter', data);\n\t},\n\tedit(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/update', data);\n\t},\n\tdelete(buchungsnr) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/delete', {buchungsnr});\n\t},\n\tgetBuchungstypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/konto/getBuchungstypen');\n\t}\n};","export default {\n\tgetGruppen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/Gruppen/getGruppen/' + params.id);\n\t},\n\tdeleteGroup(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/Gruppen/deleteGruppe/', params);\n\t}\n}","export default {\n\t//------------- address.js-----------\n\tgetAdressen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressen/' + params.id);\n\t},\n\taddNewAddress(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewAddress/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadAddress(address_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadAddress/', {address_id});\n\t},\n\tupdateAddress(form, address_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteAddress(address_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteAddress/', {address_id});\n\t},\n\tgetPlaces(plz) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getPlaces/' + plz);\n\t},\n\tgetFirmen(searchString) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getFirmen/' + searchString);\n\t},\n\tgetNations() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getNations/');\n\t},\n\tgetAdressentypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressentypen/');\n\t},\n\n\t//------------- bankverbindung.js-----------\n\tgetBankverbindung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getBankverbindung/' + params.id);\n\t},\n\taddNewBankverbindung(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewBankverbindung/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadBankverbindung(bankverbindung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadBankverbindung/', {bankverbindung_id});\n\t},\n\tupdateBankverbindung(form, bankverbindung_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateBankverbindung/' + bankverbindung_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteBankverbindung(bankverbindung_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteBankverbindung/', {bankverbindung_id});\n\t},\n\n\t//------------- contact.js-----------\n\tgetKontakte (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakte/' + params.id);\n\t},\n\taddNewContact(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewContact/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadContact(kontakt_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadContact/', {kontakt_id});\n\t},\n\tupdateContact(form, kontakt_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateContact/' + kontakt_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteContact(kontakt_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteContact/', {kontakt_id});\n\t},\n\tgetStandorteByFirma(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getStandorteByFirma/' + searchString);\n\t},\n\tgetKontakttypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakttypen/');\n\t}\n};","export default {\n\n//------------- Prestudent.js------------------------------------------------------\n\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn \tthis.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/prestudent/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t);\n\t},\n\tupdatePrestudent(form, prestudent_id, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/prestudent/updatePrestudent/' + prestudent_id,\n\t\t\tdata\n\t\t);\n\t},\n\tgetBezeichnungZGV() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungZGV/');\n\t},\n\tgetBezeichnungMZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungMZgv/');\n\t},\n\tgetBezeichnungDZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungDZgv/');\n\t},\n\tgetStgs() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStgs/');\n\t},\n\tgetAusbildung() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAusbildung/');\n\t},\n\tgetAufmerksamdurch() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAufmerksamdurch/');\n\t},\n\tgetBerufstaetigkeit() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBerufstaetigkeit/');\n\t},\n\tgetTypenStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getTypenStg/');\n\t},\n\tgetBisstandort() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBisstandort/');\n\t},\n\n//------------- MultiStatus.js------------------------------------------------------\n\tgetHistoryPrestudent (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getHistoryPrestudent/' + params.id);\n\t},\n\tgetMaxSem(studiengang_kzs) {\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/status/getMaxSemester/', {studiengang_kzs});\n\t},\n\tadvanceStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/advanceStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tconfirmStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/confirmStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tisLastStatus(id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/isLastStatus/' + id);\n\t},\n\tdeleteStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/deleteStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tgetLastBismeldestichtag() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getLastBismeldestichtag/');\n\t},\n\n//------------- History.js------------------------------------------------------\n\tgetHistoryPrestudents (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getHistoryPrestudents/' + params.id);\n\t},\n\n}","export default {\n\n//------------- Modal.js------------------------------------------------------\n\n\tinsertStatus(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/status/insertStatus/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/status/loadStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tupdateStatus(form, {prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}, data) {\n\t\treturn this.$fhcApi.post(\n\t\t\tform,\n\t\t\t'api/frontend/v1/stv/status/updateStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester,\n\t\t\tdata\n\t\t);\n\t},\n\tgetStudienplaene(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudienplaene/' + prestudent_id);\n\t},\n\tgetStudiengang(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudiengang/' + prestudent_id);\n\t},\n\tgetStatusgruende() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusgruende/');\n\t},\n\tgetStati() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStati/');\n\t},\n\n//------------- Dropdown.js------------------------------------------------------\n\n\taddStudent(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/addStudent/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tchangeStatus(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/changeStatus/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tgetStatusarray() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusarray/');\n\t}\n}","export default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/student/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(url);\n\t},\n\tsave(form, prestudent_id, studiensemester_kurzbz, data) {\n\t\tlet url = 'api/frontend/v1/stv/student/save/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(form, url, data);\n\t},\n}\n","export default {\n\tgetPruefungen(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getPruefungen/' + params.id);\n\t},\n\tloadPruefung(pruefung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/loadPruefung/' + pruefung_id);\n\t},\n\tgetTypenPruefungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getTypenPruefungen');\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/getAllLehreinheiten/', data)\n\t},\n\tgetLvsByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsByStudent/' + uid)\n\t},\n\tgetLvsandLesByStudent(uid, semester){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsandLesByStudent/' + uid + '/' + semester);\n\t},\n\tgetLvsAndMas(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsAndMas/' + uid)\n\t},\n\tgetMitarbeiterLv(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getMitarbeiterLv/' + id)\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getNoten');\n\t},\n\tcheckZeugnisnoteLv(data){\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/', data)\n\t},\n\taddPruefung(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/insertPruefung/',  data);\n\t},\n\tupdatePruefung(form, id, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/updatePruefung/' + id,  data);\n\t},\n\tdeletePruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/deletePruefung/' + id)\n\t}\n}","export default {\n\n\tgetAbschlusspruefung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/' + params.id);\n\t},\n\taddNewAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/', data\n\t\t);\n\t},\n\tloadAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/', {id});\n\t},\n\tupdateAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/', data\n\t\t);\n\t},\n\tdeleteAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/', {id});\n\t},\n\tgetTypenAbschlusspruefung(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/');\n\t},\n\tgetTypenAntritte(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/');\n\t},\n\tgetBeurteilungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/');\n\t},\n\tgetAkadGrade(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getAkadGrade/', {studiengang_kz});\n\t},\n\tgetTypStudiengang(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/', {studiengang_kz});\n\t},\n\tgetMitarbeiter(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/' + searchString);\n\t},\n\tgetPruefer(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getPruefer/' + searchString);\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getNoten/');\n\t},\n\tcheckForExistingExams(uids) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/', {uids}\n\t\t);\n\t}\n}","export default {\n\tlist() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/grades/list');\n\t},\n\tgetCertificate(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getCertificate/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetTeacherProposal(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getTeacherProposal/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetRepeaterGrades(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getRepeaterGrades/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tupdateCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, note, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/updateCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz,\n\t\t\t\tnote\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tdeleteCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/deleteCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyTeacherProposalToCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyTeacherProposalToCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id, lv_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate',\n\t\t\t{\n\t\t\t\tstudierendenantrag_lehrveranstaltung_id\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lv_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tgetGradeFromPoints(points, lehrveranstaltung_id, studiensemester_kurzbz, manualErrorHandling) {\n\t\tconst config = manualErrorHandling ? {errorHandling: false} : {};\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/grades/getGradeFromPoints',\n\t\t\t{\n\t\t\t\t\"points\": points,\n\t\t\t\t\"lehrveranstaltung_id\": lehrveranstaltung_id,\n\t\t\t\t\"studiensemester_kurzbz\": studiensemester_kurzbz\n\t\t\t},\n\t\t\tconfig\n\t\t\t);\n\t}\n}","export default {\n\tgetMobilitaeten (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getMobilitaeten/' + params.id);\n\t},\n\tgetProgramsMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getProgramsMobility/');\n\t},\n\taddNewMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/insertMobility/', data);\n\t},\n\tloadMobility(bisio_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/loadMobility/' + bisio_id);\n\t},\n\tupdateMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/updateMobility/', data);\n\t},\n\tdeleteMobility(bisio_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobility/' + bisio_id);\n\t},\n\tgetLVList(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLVList/' + studiengang_kz);\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/getAllLehreinheiten/', data)\n\t},\n\tgetLvsandLesByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLvsandLesByStudent/' + uid);\n\t},\n\tgetPurposes(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getPurposes/' + params.id);\n\t},\n\tgetSupports(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getSupports/' + params.id);\n\t},\n\tgetListPurposes() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListPurposes/');\n\t},\n\tgetListSupports() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListSupports/');\n\t},\n\tdeleteMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilityPurpose/' + params.bisio_id, params);\n\t},\n\taddMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilityPurpose/' + params.bisio_id, params);\n\t},\n\tdeleteMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilitySupport/' + params.bisio_id, params);\n\t},\n\taddMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilitySupport/' + params.bisio_id, params);\n\t},\n\n}","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/archiv/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id)\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tgetArchivVorlagen() {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/getArchivVorlagen');\n\t},\n\tarchive(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archive',\n\t\t\tdata\n\t\t);\n\t},\n\tarchiveSigned(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archiveSigned',\n\t\t\tdata\n\t\t);\n\t},\n\tupdate(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/update', data);\n\t},\n\tdelete({akte_id, studiengang_kz}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/delete', {akte_id, studiengang_kz});\n\t}\n};\n","export default {\n\tgetDocumentsUnaccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tgetDocumentsAccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsAccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tdeleteZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteZuordnung/' + params.prestudent_id + '/' + params.dokument_kurzbz);\n\t},\n\tcreateZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/createZuordnung/'\n\t\t\t+ params.prestudent_id + '/'\n\t\t\t+ params.dokument_kurzbz);\n\t},\n\tloadAkte(akte_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/loadAkte/' + akte_id);\n\t},\n\tgetDoktypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDoktypen/');\n\t},\n\tupdateFile(akte_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/updateAkte/' + akte_id,\n\t\t\tdata);\n\t},\n\tdeleteFile(akte_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteAkte/' + akte_id);\n\t},\n\tuploadFile(prestudent_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/uploadDokument/' + prestudent_id,\n\t\t\tdata);\n\t},\n}","export default {\n\tgetAnrechnungen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getAnrechnungen/' + params.id);\n\t},\n\tgetLehrveranstaltungen(prestudent_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/' + prestudent_id);\n\t},\n\tgetBegruendungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getBegruendungen/');\n\t},\n\tgetLvsKompatibel(lv_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLvsKompatibel/' + lv_id);\n\t},\n\tgetLektoren(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLektoren/' + studiengang_kz);\n\t},\n\taddNewAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/insertAnrechnung/', data);\n\t},\n\tloadAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/loadAnrechnung/' + anrechnung_id);\n\t},\n\teditAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/updateAnrechnung/', data);\n\t},\n\tdeleteAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/anrechnungen/deleteAnrechnung/' + anrechnung_id);\n\t},\n}","export default {\n\tgetStudies(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudien/' + params.id);\n\t},\n\tgetTypenMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/');\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/');\n\t},\n\tgetStudyprograms(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/');\n\t},\n\tgetListPartner(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/');\n\t},\n\tgetStatiPrestudent(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/');\n\t},\n\tloadStudy(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/loadStudie/' + id);\n\t},\n\tinsertStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/insertStudie/', data);\n\t},\n\tupdateStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/updateStudie/', data);\n\t},\n\tdeleteStudy(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/GemeinsameStudien/deleteStudie/' + id);\n\t},\n\n}","export default {\n\tgetCourselist(url, config, params) {\n\t\t//corresponding logic controller Stundenplan.php\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStundenplan/'\n\t\t\t+ params.student_uid + '/'\n\t\t\t+ params.start_date + '/'\n\t\t\t+ params.end_date + '/'\n\t\t\t+ params.group_consecutiveHours + '/'\n\t\t\t+ params.dbStundenplanTable\n\t\t);\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStudiensemester/');\n\t},\n}","import person from \"./notiz/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetNotizen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getNotizen/' + params.id + '/' + params.type);\n\t},\n\tgetUid(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getUid/');\n\t},\n\taddNewNotiz(form, id, formData) {\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/addNewNotiz/' + id,\n\t\t\tformData\n\t\t);\n\t},\n\tloadNotiz(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadNotiz/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tloadDokumente(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadDokumente/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tdeleteNotiz(notiz_id, type_id, id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/deleteNotiz/', {\n\t\t\tnotiz_id,\n\t\t\ttype_id,\n\t\t\tid\n\t\t});\n\t},\n\tupdateNotiz(form, notiz_id, formData){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/updateNotiz/' + notiz_id,\n\t\t\tformData\n\t\t);\n\t},\n\tgetMitarbeiter(event){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getMitarbeiter/' + event);\n\t},\n\tisBerechtigt(id, type_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/isBerechtigt/');\n\t}\n}","import person from \"./betriebsmittel/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetAllBetriebsmittel(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + params.type + '/' + params.id);\n\t},\n\taddNewBetriebsmittel(form, person_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' +\n\t\t\tperson_id, formData\n\t\t);\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id);\n\t},\n\tupdateBetriebsmittel(form, betriebsmittelperson_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tformData);\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id);\n\t},\n\tgetTypenBetriebsmittel(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/');\n\t},\n\tloadInventarliste(query){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery);\n\t}\n}","export default {\n\tupdatePersonUnrulyStatus(person_id, unrulyParam) {\n\n\t\ttry {\n\t\t\tconst payload = {person_id, unruly: unrulyParam}\n\t\t\tconst url = '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus';\n\t\t\treturn this.$fhcApi.post(url, payload, null);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t},\n\tfilterPerson(payload, base = ''){\n\n\t\ttry {\n\t\t\tconst url = base + '/api/frontend/v1/checkperson/CheckPerson/filterPerson';\n\t\t\treturn axios.post(url, payload)\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t}\n}","export default {\n  getContentID(ort_kurbz) {\n\t\treturn this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            \"/api/frontend/v1/Ort/ContentID\",\n\t\t\t{ ort_kurzbz: ort_kurbz }\n\t\t);\n\t},\n\tgetRooms(datum, von, bis, typ, personenanzahl = 0) {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getRooms\",\n\t\t\t{ datum, von, bis, typ, personenanzahl }\n\t\t);\n\t},\n\tgetRoomTypes() {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getTypes\"\n\t\t);\n\t}\n}","export default {\n    content(content_id, version=null, sprache=null, sichtbar=null) {\n        return this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/content\",\n\t\t\t{ \n\t\t\t\tcontent_id: content_id,\n\t\t\t\t...(version?{version}:{}),\n\t\t\t\t...(sprache?{sprache}:{}),\n\t\t\t\t...(sichtbar?{sichtbar}:{}),\n            }\n        );\n    },\n\t//api function used for the news View that renders the html\n\tgetNews(page = 1, page_size = 10, sprache) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNews\",\n\t\t\t{\n\t\t\t\tpage,\n\t\t\t\tpage_size,\n\t\t\t\tsprache,\n\t\t\t},\n\t\t);\n\t},\n\t//api function used for the widget component\n\tnews(limit) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/news\",\n\t\t\t{\n\t\t\t\tlimit: limit\n\t\t\t}\n\t\t);\n\t},\n\tgetNewsRowCount: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNewsRowCount\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetNewsExtra: function(){\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getStudiengangInfoForNews\",\n\t\t\t{}\n\t\t);\n\t}\n  }","export default {\n    getStudentenMail(lehreinheit_id) {\n          return this.$fhcApi.get(\n              FHC_JS_DATA_STORAGE_OBJECT.app_root +\n              FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n              \"/api/frontend/v1/Lehre/lvStudentenMail\",\n              { lehreinheit_id: lehreinheit_id }\n          );\n      },\n\tgetLvInfo(studiensemester_kurzbz, lehrveranstaltung_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/LV/${studiensemester_kurzbz}/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentPruefungen(lehrveranstaltung_id){\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/Pruefungen/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektarbeiten(uid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${uid}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektabgaben(detail) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektabgaben`\n\t\t\t, {\n\t\t\t\tprojektarbeit_id: detail.projektarbeit_id,\n\t\t\t\tstudent_uid: detail.student_uid\n\t\t\t}\n\t\t);\n\t},\n\tpostStudentProjektarbeitEndupload(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tpostStudentProjektarbeitZwischenabgabe(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tgetStudentProjektarbeitAbgabeFile(paabgabe_id, student_uid) {\n\t\tconst url = `/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${paabgabe_id}&student_uid=${student_uid}`;\n\n\t\twindow.location = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + url\n\t},\n\tgetMitarbeiterProjektarbeiten(uid, all) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${all}`\n\t\t\t, {}\n\t\t);\n\t},\n\tpostProjektarbeitAbgabe(termin) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id: termin.paabgabe_id,\n\t\t\tpaabgabetyp_kurzbz: termin.bezeichnung.paabgabetyp_kurzbz,\n\t\t\tdatum: termin.datum,\n\t\t\tfixtermin: termin.fixtermin,\n\t\t\tinsertvon: termin.insertvon,\n\t\t\tkurzbz: termin.kurzbz,\n\t\t\tprojektarbeit_id: termin.projektarbeit_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t\t\n\t},\n\tdeleteProjektarbeitAbgabe(paabgabe_id) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tpostSerientermin(datum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids) {\n\t\tconst payload = {\n\t\t\tdatum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postSerientermin';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tfetchDeadlines(person_id) {\n\t\tconst payload = {\n\t\t\tperson_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/fetchDeadlines';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t}\n  }","export default {\n    getLvMenu(lvid, studiensemester_kurzbz) {\n        return this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            `/api/frontend/v1/LvMenu/getLvMenu/${lvid}/${studiensemester_kurzbz}`,\n            {}\n        );\n    },\n\n      \n  }","import person from \"./messages/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\t\tgetMessages(url, config, params) {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessages/' + params.id + '/' + params.type + '/' + params.size + '/' + params.page);\n\t\t},\n\t\tgetVorlagen(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getVorlagen/');\n\t\t},\n\t\tgetMsgVarsLoggedInUser(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/');\n\t\t},\n\t\tgetMessageVarsPerson(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessageVarsPerson/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetMsgVarsPrestudent(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsPrestudent/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPersonId(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getPersonId/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetUid(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getUid/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getDataVorlage/' + vorlage_kurzbz);\n\t\t},\n\t\tgetNameOfDefaultRecipient(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getNameOfDefaultRecipient/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPreviewText(params, data){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/getPreviewText/' + params.id + '/' + params.type_id,\n\t\t\t\tdata);\n\t\t},\n\t\tgetReplyData(messageId){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getReplyData/' + messageId);\n\t\t},\n\t\tsendMessageFromModalContext(form, id, data) {\n\t\t\treturn this.$fhcApi.post(form,'api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tsendMessage(id, data) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tdeleteMessage(messageId){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/deleteMessage/' + messageId);\n\t\t}\n}","export default {\n\tgetVorlagen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagen/');\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/');\n\t}\n}","export default {\n\n\tgetStudiensemester: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/components/Cis/Mylv/Studiensemester',\n\t\t\t{}\n\t\t);\n\t},\n\n\tgetAllStudienSemester: function (studiensemester=undefined, studiengang=undefined, semester=undefined, studienplan=undefined) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/Studium/getStudienAllSemester',\n\t\t\t{studiensemester, studiengang, semester, studienplan}\n\t\t);\n\t},\n\n\tgetStudiengaengeForStudienSemester: function (studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${studiensemester}`,\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudienplaeneBySemester: function (studiengang, studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudienplaeneBySemester`,\n\t\t\t{\n\t\t\t\tstudiengang,\n\t\t\t\tstudiensemester,\n\t\t\t}\n\t\t);\n\t},\n\tgetLvPlanForStudiensemester: function (studiensemester, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${studiensemester}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\tgetLvEvaluierungInfo: function (studiensemester_kurzbz, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getLvEvaluierungInfo/${studiensemester_kurzbz}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\t\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport search from \"./search.js\";\nimport phrasen from \"./phrasen.js\";\nimport navigation from \"./navigation.js\";\nimport filter from \"./filter.js\";\nimport studstatus from \"./studstatus.js\";\nimport profil from \"./profil.js\";\nimport profilUpdate from \"./profilUpdate.js\";\nimport lvPlan from \"./lvPlan.js\";\nimport bookmark from \"./bookmark.js\";\nimport stv from \"./stv.js\";\nimport notiz from \"./notiz.js\";\nimport betriebsmittel from \"./betriebsmittel.js\";\nimport checkperson from \"./checkperson.js\";\nimport ampeln from \"./ampeln.js\";\nimport ort from \"./ort.js\";\nimport cms from \"./cms.js\";\nimport lehre from \"./lehre.js\";\nimport addons from \"./addons.js\";\nimport messages from \"./messages.js\";\nimport vorlagen from \"./vorlagen.js\";\nimport studiengang from \"./studiengang.js\";\nimport menu from \"./menu.js\";\nimport dashboard from \"./dashboard.js\";\nimport authinfo from \"./authinfo.js\";\nimport studium from \"./studium.js\";\nimport language from \"./language.js\";\n\nexport default {\n    search,\n    phrasen,\n    navigation,\n    dashboard,\n    filter,\n    studstatus,\n    profil,\n    profilUpdate,\n    lvPlan,\n    bookmark,\n    stv,\n    notiz,\n    betriebsmittel,\n    checkperson,\n    ampeln,\n    ort,\n    cms,\n    lehre,\n    addons,\n    messages,\n    vorlagen,\n    addons,\n\tstudiengang,\n\tmenu,\n\tauthinfo,\n\tstudium,\n    language\n};\n","export default {\n\tasync getViewData() {\n\t\tconst url = `/api/frontend/v1/Cis4FhcApi/getViewData`;\n\t\treturn this.$fhcApi.get(url, null, null)\n\t},\n}","export default {\n\n    getBookmarks: function () {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/getBookmarks`\n        ,{}\n      );\n    },\n  \n    delete: function (bookmark_id) {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/delete/${bookmark_id}`\n        ,{}\n      ); \n    },\n\n\tupdate: function ({ bookmark_id, url, title, tag=null}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/Bookmark/update/${bookmark_id}`\n\t\t\t, {\n\t\t\t\turl: url,\n\t\t\t\ttitle: title\n\t\t\t}\n\t\t);\n\t},\n\n    insert: function ({url, title, tag}) {\n      return this.$fhcApi.post(\n        `/api/frontend/v1/Bookmark/insert`\n        ,{\n          url: url,\n          title: title,\n          tag: tag\n        }\n      ); \n    },\n}","export default {\n    \n    open: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/open`,{});\n    },\n\n    all: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/all`,{});\n    },\n\n    confirm: function (ampel_id) {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/confirm/${ampel_id}`,{});\n    },\n\n}","export default {\n\tstudiengangInformation: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Studgang/getStudiengangInfo\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudiengangByKz: function (studiengang_kz) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz\",\n\t\t\t{\n\t\t\t\t\"studiengang_kz\": studiengang_kz\n\t\t\t}\n\t\t);\n\t}\n}","export default {\n\tgetMenu: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/CisMenu/getMenu\",\n\t\t\t{}\n\t\t);\n\t}\n\n}","\nexport default {\n\tgetAuthUID() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthUID',\n\t\t\t{ }\n\t\t);\n\t},\n\tgetAuthInfo() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthInfo',\n\t\t\t{}\n\t\t);\n\t},\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAll() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/language/get');\n\t}\n};","/** TODO(chris):\n * when deleting this file be sure to\n * remove line 1 & 90 from ../plugins/Phrasen.js\n */\nimport FhcApiFactory from '../api/fhcapifactory.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\tconsole.warn('$fhcApi.getUri is DEPRECATED! Use $api.getUri instead.');\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\tconsole.warn('$fhcApi.get is DEPRECATED! Use $api.get instead.');\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\tconsole.warn('$fhcApi.post is DEPRECATED! Use $api.post instead.');\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart, true)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart, noWarn) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif (!noWarn) console.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n * \n * @usage:\n * Preperations:\n * Be sure to have PrimeVue loaded  with the toast and confirmdialog\n * components as primevue variable\n * Install:\n * Import this Plugin and install it with the app.use() function.\n * Use:\n * In your component you can call now the global property $fhcAlert\n * which has the following functions:\n * \n * alertSuccess\n * ------------\n * Displays a success message\n * @param string\tmessage\n * @return void\n * \n * alertInfo\n * ---------\n * Displays an info message\n * @param string\tmessage\n * @return void\n * \n * alertWarning\n * ------------\n * Displays a warning\n * @param string\tmessage\n * @return void\n * \n * alertError\n * ----------\n * Displays an error\n * @param string\tmessage\n * @return void\n * \n * alertSystemError\n * ----------------\n * Displays an alert with the error details and a button to mail\n * the error to the Support Team\n * @param string\tmessage\n * @return void\n * \n * confirmDelete\n * -------------\n * Displays a confirmation dialog and returns a Promise which resolves\n * with true or false depending und the pressed button.\n * @return Promise\n * \n * alertDefault\n * ------------\n * Displays an alert\n * @param string\tseverity\t\tcan be 'success', 'info', 'warning', 'error'\n * @param string\ttitle\n * @param string\tmessage\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * alertMultiple\n * -------------\n * Displays multiple alerts\n * @param array\t\tmessageArray\n * @param string\tseverity\t\t(optional) defaults to 'info'\n * @param string\ttitle\t\t\t(optional) defaults to 'Info'\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * handleSystemError\n * -----------------\n * Automatiticly determine how to display an system error and display it.\n * This would be used in a catch block of an ajax call.\n * @param mixed\t\terror\n * @return void\n * \n * handleSystemMessage\n * -------------------\n * Automatiticly determine how to display a message and display it.\n * @param mixed\t\tmessage\n * @return void\n */\nimport PvConfig from \"../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js\";\nimport PvToast from \"../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js\";\nimport PvConfirm from \"../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js\";\nimport PvConfirmationService from \"../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js\";\nimport FhcPhrasen from \"./Phrasen.js\";\n\nimport {CoreRESTClient} from '../RESTClient.js';\n\nconst helperAppContainer = document.createElement('div');\n\nconst helperApp = Vue.createApp({\n\tname: \"FhcAlertApp\",\n\tcomponents: {\n\t\tPvToast,\n\t\tPvConfirm\n\t},\n\tmethods: {\n\t\tmailToUrl(slotProps) {\n\t\t\tlet mailTo = FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto;\n\t\t\tlet subject = 'Meldung%20Systemfehler';\n\t\t\tlet body = `\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausfhrlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewhlt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: ` + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method + `%0D%0A\n\t\t\t\tFehler Meldung: ` + slotProps.message.detail + `%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kmmern uns um eine rasche Behebung des Problems!`\n\n\t\t\treturn \"mailto:\" + mailTo + \"?subject=\" + subject + \"&body=\" + body;\n\t\t},\n\t\topenMessagecard(e) {\n\t\t\tbootstrap.Collapse.getOrCreateInstance(e.target.getAttribute('href')).toggle();\n\t\t}\n\t},\n\tunmounted() {\n\t\thelperAppContainer.parentElement.removeChild(helperAppContainer);\n\t},\n\tcomputed: {\n\t\tshowmaillink: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto !== '';\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<pv-toast ref=\"toast\" class=\"fhc-alert\" :base-z-index=\"99999\">\n\t\t<template #message=\"{ message }\">\n\t\t\t<!--span :class=\"slotProps.iconClass\"></span-->\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{ message.summary }}</span>\n\t\t\t\t<div v-if=\"message.detail && message.html\" class=\"p-toast-detail\" v-html=\"message.detail\"></div>\n\t\t\t\t<div v-else-if=\"message.detail\" class=\"p-toast-detail\">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref=\"alert\" class=\"fhc-alert\" :base-z-index=\"99999\" position=\"center\">\n\t\t<template #message=\"slotProps\">\n\t\t\t<i class=\"fa fa-circle-exclamation fa-2xl mt-3\"></i>\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class=\"p-toast-detail my-3\">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"align-bottom flex-fill me-2\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\t:href=\"'#fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t:aria-controls=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\t@click=\"openMessagecard\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"showmaillink\"\n\t\t\t\t\t\tclass=\"btn btn-primary flex-fill\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t:href=\"mailToUrl(slotProps)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"messageCard\" :id=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\" class=\"collapse mt-3\">\n\t\t\t\t\t<div class=\"card card-body text-body small alertCollapseText\">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group=\"fhcAlertConfirm\"></pv-confirm>`\n});\n\nhelperApp.use(PvConfig);\nhelperApp.use(PvConfirmationService);\n//helperApp.use(FhcPhrasen);\n\nconst helperAppInstance = helperApp.mount(helperAppContainer);\n\ndocument.body.appendChild(helperAppContainer);\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (!app.config.globalProperties.$p)\n\t\t\tapp.use(FhcPhrasen);\n\n\t\tconst $fhcAlert = {\n\t\t\talertSuccess(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSuccess);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'success', summary: 'Info', detail: message, life: 1000});\n\t\t\t},\n\t\t\talertInfo(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertInfo);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'info', summary: 'Info', detail: message, life: 3000 });\n\t\t\t},\n\t\t\talertWarning(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertWarning);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'warn', summary: 'Achtung', detail: message});\n\t\t\t},\n\t\t\talertError(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertError);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'error', summary: 'Achtung', detail: message });\n\t\t\t},\n\t\t\talertSystemError(message) {\n\t\t\t\t//TODO(Manu) for translation of content of template: restructure in data\n\t\t\t\t//and update definitions with  translations\n\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSystemError);\n\t\t\t\thelperAppInstance.$refs.alert.add({\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\tsummary: Vue.computed(() => app.config.globalProperties.$p.t('alert/systemerror')),\n\t\t\t\t\tdetail: message});\n\t\t\t},\n\t\t\tconfirmDelete() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: 'fhcAlertConfirm',\n\t\t\t\t\t\theader: Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: Vue.computed(() => app.config.globalProperties.$p.t('alert/confirm_delete')),\n\t\t\t\t\t\tacceptLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/loeschen')),\n\t\t\t\t\t\tacceptClass: 'p-button-danger',\n\t\t\t\t\t\trejectLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: 'p-button-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfirm(options) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: options?.group ?? 'fhcAlertConfirm',\n\t\t\t\t\t\theader: options?.header ?? Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: options?.message ?? '',\n\t\t\t\t\t\tacceptLabel: options?.acceptLabel ?? 'Ok',\n\t\t\t\t\t\tacceptClass: options?.acceptClass ?? 'btn btn-primary',\n\t\t\t\t\t\trejectLabel: options?.rejectLabel ?? Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: options?.rejectClass ?? 'btn btn-outline-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\talertDefault(severity, title, message, sticky = false, html = false) {\n\t\t\t\tlet options = { severity: severity, summary: title, detail: message, html };\n\t\t\t\t\n\t\t\t\tif (!sticky)\n\t\t\t\t\toptions.life = 3000;\n\n\t\t\t\thelperAppInstance.$refs.toast.add(options);\n\t\t\t},\n\t\t\talertMultiple(messageArray, severity = 'info', title = 'Info', sticky = false, html = false){\n\t\t\t\t// Check, if array has only string values\n\t\t\t\tif (messageArray.every(message => typeof message === 'string')) {\n\t\t\t\t\tmessageArray.forEach(message => this.alertDefault(severity, title, message, sticky, html));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thandleSystemError(error) {\n\t\t\t\t// don't show an error message to the user if the error was an aborted request\n\t\t\t\tif(error.hasOwnProperty('name') && error.name.toLowerCase() === \"AbortError\".toLowerCase())\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is string\n\t\t\t\tif (typeof error === 'string')\n\t\t\t\t\treturn $fhcAlert.alertSystemError(error);\n\n\t\t\t\t// Error is array of strings\n\t\t\t\tif (Array.isArray(error) && error.every(err => typeof err === 'string'))\n\t\t\t\t\treturn error.every($fhcAlert.alertSystemError);\n\n\t\t\t\t// Error has been handled already\n\t\t\t\tif (error.hasOwnProperty('handled') && error.handled)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is object\n\t\t\t\tif (typeof error === 'object' && error !== null) {\n\t\t\t\t\tlet errMsg = '';\n\n\n\t\t\t\t\tif (error.hasOwnProperty('response') && error.response?.data?.retval)\n\t\t\t\t\t\terrMsg += 'Error Message: ' + (error.response.data.retval.message || error.response.data.retval) + '\\r\\n';\n\t\t\t\t\telse if (error.hasOwnProperty('message'))\n\t\t\t\t\t\terrMsg += 'Error Message: ' + error.message.toUpperCase() + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('config') && error.config.hasOwnProperty('url'))\n\t\t\t\t\t\terrMsg += 'Error ConfigURL: ' + error.config.url + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('stack'))\n\t\t\t\t\t\terrMsg += 'Error Stack: ' + error.stack + '\\r\\n';\n\t\t\t\t\t\n\t\t\t\t\t// Fallback object error message\n\t\t\t\t\tif (errMsg == '')\n\t\t\t\t\t\terrMsg = 'Error Message: ' + JSON.stringify(error) + '\\r\\n';\n\n\t\t\t\t\terrMsg += 'Error Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\n\t\t\t\t\treturn $fhcAlert.alertSystemError(errMsg);\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\thandleSystemMessage(message) {\n\t\t\t\t// Message is string\n\t\t\t\tif (typeof message === 'string')\n\t\t\t\t\treturn $fhcAlert.alertWarning(message);\n\n\t\t\t\t// Message is array of strings\n\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t// If Array has only Strings\n\t\t\t\t\tif (message.every(msg => typeof msg === 'string'))\n\t\t\t\t\t\treturn message.every($fhcAlert.alertWarning);\n\n\t\t\t\t\t// If Array has only Objects\n\t\t\t\t\tif (message.every(msg => typeof msg === 'object') && msg !== null) {\n\t\t\t\t\t\treturn message.every(msg => {\n\t\t\t\t\t\t\tif (msg.hasOwnProperty('data') && msg.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(msg.data.retval));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(msg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Message is Object with data property\n\t\t\t\tif (typeof message === 'object' && message !== null){\n\t\t\t\t\tif (message.hasOwnProperty('data') && message.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t// NOTE(chris): changed: alertSystemError => alertWarning\n\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(message.data.retval));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(message));\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' +  FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\tresetFormValidation(form) {\n\t\t\t\tconst event = new Event('fhc-form-reset');\n\t\t\t\tform.querySelectorAll(['[data-fhc-form-validate],[data-fhc-form-error]']).forEach(el => el.dispatchEvent(event));\n\t\t\t\t/*const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\tif (alert) {\n\t\t\t\t\talert.innerHTML = '';\n\t\t\t\t\talert.classList.add('d-none');\n\t\t\t\t}\n\t\t\t\tform.querySelectorAll('.invalid-feedback').forEach(n => n.remove());\n\t\t\t\tform.querySelectorAll('.is-invalid').forEach(n => n.classList.remove('is-invalid'));\n\t\t\t\tform.querySelectorAll('.is-valid').forEach(n => n.classList.remove('is-valid'));*/\n\t\t\t},\n\t\t\thandleFormValidation(error, form) {\n\t\t\t\tif (form === undefined) {\n\t\t\t\t\tif (error && error.nodeType === Node.ELEMENT_NODE)\n\t\t\t\t\t\treturn err => $fhcAlert.handleFormValidation(err, error);\n\t\t\t\t} else {\n\t\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t\tif (typeof errors !== \"object\")\n\t\t\t\t\t\t\terrors = error.response.data;\n\n\t\t\t\t\t\t// NOTE(chris): reset form validation\n\t\t\t\t\t\t$fhcAlert.resetFormValidation(form);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// NOTE(chris): set form input validation\n\t\t\t\t\t\tconst notFound = Object.entries(errors).filter(([key, detail]) => {\n\t\t\t\t\t\t\tconst input = form.querySelector('[data-fhc-form-validate=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tinput.dispatchEvent(new CustomEvent('fhc-form-invalidate', {detail}));\n\n\t\t\t\t\t\t\t/*const input = form.querySelector('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\t\t\t\tconst feedback = document.createElement('div');\n\t\t\t\t\t\t\tfeedback.classList.add('invalid-feedback');\n\t\t\t\t\t\t\tfeedback.innerHTML = detail;\n\t\t\t\t\t\t\tinput.after(feedback);*/\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).map(arr => arr[1]);\n\n\n\t\t\t\t\t\t//const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\t\t\tconst alert = form.querySelector('[data-fhc-form-error]');\n\t\t\t\t\t\tif (alert && notFound.length) {\n\t\t\t\t\t\t\talert.dispatchEvent(new CustomEvent('fhc-form-error', {detail: notFound}));\n\t\t\t\t\t\t\t/*notFound.forEach(txt => {\n\t\t\t\t\t\t\t\tconst p = document.createElement('p');\n\t\t\t\t\t\t\t\tp.innerHTML = txt;\n\t\t\t\t\t\t\t\talert.append(p);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (notFound.length) {\n\t\t\t\t\t\t\t\talert.lastChild.classList.add('mb-0');\n\t\t\t\t\t\t\t\talert.classList.remove('d-none');\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotFound.forEach($fhcAlert.alertError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t$fhcAlert.alertError((typeof errors === 'object') ? Object.values(errors) : errors);\n\t\t\t\t} else {\n\t\t\t\t\t$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.config.globalProperties.$fhcAlert = $fhcAlert;\n\t\tapp.provide('$fhcAlert', app.config.globalProperties.$fhcAlert);\n\t}\n}","import FhcAlert from './FhcAlert.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$api) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!app.config.globalProperties.$fhcAlert)\n\t\t\tapp.use(FhcAlert);\n\n\t\tfunction _send_array_or_object(errors, func) {\n\t\t\tif (Array.isArray(errors))\n\t\t\t\terrors.forEach(func);\n\t\t\telse\n\t\t\t\tObject.entries(errors).forEach(\n\t\t\t\t\t([title, errs]) => errs.forEach(\n\t\t\t\t\t\terror => func(error, title)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t\tlet DEFAULT_ERROR_CONFIG = {\n\t\t\tsuccess: true,\n\t\t\tfail: true,\n\t\t\tcombine: {\n\t\t\t\tform: ['validation', 'general'],\n\t\t\t\ttoast: ['validation', 'general', 'not_found', 'site_failed']\n\t\t\t},\n\t\t\thandler: {\n\t\t\t\tform(form, errors) {\n\t\t\t\t\tform.clearValidation();\n\t\t\t\t\terrors.forEach(err => form.setFeedback(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\terr.messages || err.message\n\t\t\t\t\t));\n\t\t\t\t},\n\t\t\t\tasync toast(errors) {\n\t\t\t\t\tconst $p = app.config.globalProperties.$p;\n\t\t\t\t\tif (!$p)\n\t\t\t\t\t\treturn Promise.reject('Phrasen plugin not loaded!');\n\t\t\t\t\n\t\t\t\t\tasync function _format_toast(errors) {\n\t\t\t\t\t\terrors = errors.reduce((result, err) => {\n\t\t\t\t\t\t\tswitch (err.type) {\n\t\t\t\t\t\t\tcase 'not_found':\n\t\t\t\t\t\t\tcase 'site_failed':\n\t\t\t\t\t\t\t\tif (err.message)\n\t\t\t\t\t\t\t\t\tresult[err.message] = [err.url];\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tresult._default = [err.url];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'general':\n\t\t\t\t\t\t\t\tif (!result._default)\n\t\t\t\t\t\t\t\t\tresult._default = [];\n\t\t\t\t\t\t\t\tresult._default.push(err.message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'validation':\n\t\t\t\t\t\t\t\tObject.entries(err.messages)\n\t\t\t\t\t\t\t\t\t.forEach(([field, msg]) => {\n\t\t\t\t\t\t\t\t\t\tif (!result[field])\n\t\t\t\t\t\t\t\t\t\t\tresult[field] = [];\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(msg))\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(...msg);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(msg);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tlet counter = 0;\n\t\t\t\t\t\tconst msgs = await Promise.all(Object.entries(errors)\n\t\t\t\t\t\t\t.sort((a, b) => ['_default'].indexOf(b[0]) - ['_default'].indexOf(a[0])) // sort _default first\n\t\t\t\t\t\t\t.map(async ([field, msgs]) => {\n\t\t\t\t\t\t\t\tif (field == '_default') {\n\t\t\t\t\t\t\t\t\tawait $p.loadCategory('dashboard');\n\t\t\t\t\t\t\t\t\tconst general = $p.t('dashboard/general');\n\t\t\t\t\t\t\t\t\tfield = '<dt class=\"d-none\">' + general + '</dt>';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield = '<dt>' + field + '</dt>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcounter += msgs.length;\n\t\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t\t+ '<dd>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('</dd><dd>')\n\t\t\t\t\t\t\t\t\t+ '</dd>';\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcounter,\n\t\t\t\t\t\t\tmsgs\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter, msgs;\n\t\t\t\t\tif (Array.isArray(errors)) {\n\t\t\t\t\t\t({ counter, msgs } = await _format_toast(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t({ counter, msgs } = await Object.entries(errors)\n\t\t\t\t\t\t\t.reduce(async (res, [title, errs]) => {\n\t\t\t\t\t\t\t\tconst result = await res;\n\t\t\t\t\t\t\t\tconst { counter, msgs } = await _format_toast(errs);\n\t\t\t\t\t\t\t\tresult.counter += counter;\n\t\t\t\t\t\t\t\tresult.msgs.push('<dt>'\n\t\t\t\t\t\t\t\t\t+ title\n\t\t\t\t\t\t\t\t\t+ '</dt><dd><dl>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('')\n\t\t\t\t\t\t\t\t\t+ '</dl></dd>');\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}, Promise.resolve({ counter: 0, msgs: []})));\n\t\t\t\t\t}\n\n\t\t\t\t\tawait $p.loadCategory('ui');\n\t\t\t\t\tconst n_errors = $p.t('ui/n_errors', { n: counter });\n\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\tn_errors,\n\t\t\t\t\t\t'<dl>' + msgs.join('') + '</dl>',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tphp(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('warn', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('info', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\tmessage = title + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\texception(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tdb(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tauth(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\ttitle += ': ' + error.message;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttitle = error.message;\n\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (options?.errorHandling !== undefined)\n\t\t\tDEFAULT_ERROR_CONFIG = _merge_error_config(options.errorHandling);\n\t\t\n\t\tfunction get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\t\tfunction clean_return_value(response) {\n\t\t\tif (typeof response.data === 'string' || response.data instanceof String)\n\t\t\t\treturn clean_return_value({ data: response });\n\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = { response };\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tfunction _merge_error_config(config) {\n\t\t\tif (config === false || config === 'off')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false, fail: false };\n\t\t\t\n\t\t\tif (!config || config === true)\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tif (config === 'success')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, fail: false };\n\t\t\t\n\t\t\tif (config === 'fail')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false };\n\t\t\t\n\t\t\tconst { success, fail, handler, combine } = config;\n\t\t\t\n\t\t\tconfig = { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tObject.entries({ fail, success }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = value;\n\t\t\t});\n\t\t\tObject.entries({ handler, combine }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = { ...config[key], ...value };\n\t\t\t});\n\n\t\t\treturn config;\n\t\t}\n\t\tfunction get_error_handler(config) {\n\t\t\tconst result = _merge_error_config(config?.errorHandling);\n\n\t\t\tif (!config?.form) {\n\t\t\t\tresult.combine = { ...result.combine, form: [] };\n\t\t\t} else {\n\t\t\t\tconst formHandler = result.handler.form;\n\t\t\t\tresult.handler = { ...result.handler, form: errors => formHandler(config.form, errors) };\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tfunction get_error_list(error) {\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'not_found',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tif (error.response.data.errors == undefined) return [];\n\t\t\t\t\treturn error.response.data.errors;\n\t\t\t\t}\n\t\t\t} else if (error.request) {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'site_failed',\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'script',\n\t\t\t\t\tmessage: error.message\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\tfunction popHandleableErrors(errorHandling, errors) {\n\t\t\tconst result = {};\n\t\t\tconst copy = [];\n\n\t\t\tif (errors == undefined) return {};\n\n\t\t\twhile (errors.length)\n\t\t\t\tcopy.push(errors.pop());\n\t\t\tfor (var error of copy) {\n\t\t\t\tlet type = error.type;\n\t\t\t\tlet newType = null;\n\t\t\t\tfor (var t in errorHandling.combine) {\n\t\t\t\t\tlet newTypeCombinesType = errorHandling\n\t\t\t\t\t\t.combine[t]\n\t\t\t\t\t\t.includes(type);\n\t\t\t\t\tlet newTypeHasHandler = errorHandling.handler[t];\n\t\t\t\t\tif (newTypeCombinesType && newTypeHasHandler) {\n\t\t\t\t\t\tnewType = t;\n\t\t\t\t\t\tif (newType == 'form')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newType)\n\t\t\t\t\ttype = newType;\n\t\t\t\tconst handler = errorHandling.handler[type];\n\t\t\t\tif (handler) {\n\t\t\t\t\tif (!result[type])\n\t\t\t\t\t\tresult[type] = [];\n\t\t\t\t\tif (Array.isArray(error))\n\t\t\t\t\t\tresult[type].push(...error);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult[type].push(error);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\terrors.push(error);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t+ FHC_JS_DATA_STORAGE_OBJECT.ci_router\n\t\t\t\t+ \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(\n\t\t\tresponse => {\n\t\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\t\treturn clean_return_value(response);\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\tif (response.data.errors)\n\t\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$api._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t\t);\n\n\t\t\t\treturn clean_return_value(response);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\n\t\t\t\tconst errorConfig = get_error_handler(error.config);\n\n\t\t\t\tif (!errorConfig.fail)\n\t\t\t\t\treturn Promise.reject(error);\n\n\t\t\t\tconst remaining = get_error_list(error);\n\n\t\t\t\tconst errors = popHandleableErrors(errorConfig, remaining);\n\n\t\t\t\tfor (var type in errors) {\n\t\t\t\t\terrorConfig.handler[type](errors[type]);\n\t\t\t\t}\n\n\t\t\t\tif (remaining.length)\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\n\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\t\t\t}\n\t\t);\n\n\t\tapp.config.globalProperties.$api = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\tcall(factory, configoverwrite, form) {\n\t\t\t\tif (Array.isArray(factory)) {\n\t\t\t\t\tconst $api = app.config.globalProperties.$api;\n\n\t\t\t\t\treturn Promise\n\t\t\t\t\t\t.allSettled(factory.map((config, index) => {\n\t\t\t\t\t\t\tif (!Array.isArray(config))\n\t\t\t\t\t\t\t\tconfig = ['#' + index, config];\n\t\t\t\t\t\t\treturn $api.call(config[1], {\n\t\t\t\t\t\t\t\terrorHeader: config[0],\n\t\t\t\t\t\t\t\terrorHandling: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst [ , , config ] = get_config(form, undefined, undefined, configoverwrite || {});\n\t\t\t\t\t\t\tconst errorConfig = get_error_handler(config);\n\n\t\t\t\t\t\t\tif (!errorConfig.success && !errorConfig.fail) {\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst typedErrors = {};\n\t\t\t\t\t\t\tfor (var res of result) {\n\t\t\t\t\t\t\t\tconst [ allowed, item ] = res.status === 'fulfilled'\n\t\t\t\t\t\t\t\t\t? [ errorConfig.success, res.value ]\n\t\t\t\t\t\t\t\t\t: [ errorConfig.fail, res.reason ];\n\t\t\t\t\t\t\t\tif (!allowed)\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tconst errors = popHandleableErrors(errorConfig, get_error_list(item));\n\n\t\t\t\t\t\t\t\tfor (var type in errors) {\n\t\t\t\t\t\t\t\t\tif (!typedErrors[type])\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type] = {\n\t\t\t\t\t\t\t\t\t\t\t[item.config.errorHeader]: errors[type]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type][item.config.errorHeader] = errors[type];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var errType in typedErrors) {\n\t\t\t\t\t\t\t\terrorConfig.handler[errType](typedErrors[errType]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet { method, url, params, config } = factory;\n\t\t\t\tif (configoverwrite !== undefined) {\n\t\t\t\t\tconfig = configoverwrite;\n\t\t\t\t}\n\t\t\t\tif (!method) {\n\t\t\t\t\tmethod = 'get';\n\t\t\t\t}\n\t\t\t\tif (method.toLowerCase)\n\t\t\t\t\tmethod = method.toLowerCase();\n\t\t\t\tif (method == 'get') {\n\t\t\t\t\treturn this.get(form, url, params, config);\n\t\t\t\t} else if (method == 'post') {\n\t\t\t\t\treturn this.post(form, url, params, config);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"FhcApi: method not allowed:\", method);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetErrorHandler(config) {\n\t\t\t\treturn get_error_handler(config);\n\t\t\t}\n\t\t};\n\n\t\tapp.provide('$api', app.config.globalProperties.$api);\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/loadModule/' + category\n\t\t};\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst params = {categories, language}\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/phrasen/setLanguage',\n\t\t\tparams\n\t\t};\n\t},\n\tgetLanguage() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getLanguage'\n\t\t};\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getAllLanguages'\n\t\t};\n\t}\n};","import OldFhcApi from '../plugin/OldFhcApi.js'; // TODO(chris): remove at some point\nimport PluginsApi from './Api.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(ApiPhrasen.loadCategory(category))\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tif (!app.config.globalProperties.$fhcApi)\n\t\t\tapp.use(OldFhcApi); // TODO(chris): remove at some point\n\t\tif (!app.config.globalProperties.$api)\n\t\t\tapp.use(PluginsApi);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","import LVVerwaltung from \"../components/LVVerwaltung/LVVerwaltung.js\";\nimport Phrasen from \"../plugins/Phrasen.js\";\n\nconst ciPath = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/(https:|)(^|\\/\\/)(.*?\\/)/g, '') + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n\nconst router = VueRouter.createRouter({\n\thistory: VueRouter.createWebHistory(`/${ciPath}/LVVerwaltung`),\n\troutes: [\n\t\t{\n\t\t\tname: 'index',\n\t\t\tpath: `/`,\n\t\t\tcomponent: LVVerwaltung\n\t\t},\n\t\t{\n\t\t\tname: `byEmp`,\n\t\t\tpath: `/emp/:studiensemester_kurzbz/:emp/:stg?/:semester?`,\n\t\t\tcomponent: LVVerwaltung,\n\t\t\tprops: route => {\n\t\t\t\tlet {emp, stg, semester, studiensemester_kurzbz} = route.params;\n\n\t\t\t\tif (emp === '')\n\t\t\t\t\temp = undefined;\n\n\t\t\t\tif (stg === '')\n\t\t\t\t\tstg = undefined;\n\n\t\t\t\tif (studiensemester_kurzbz === '')\n\t\t\t\t\tstudiensemester_kurzbz = undefined;\n\n\t\t\t\treturn {\n\t\t\t\t\tstudiensemester_kurzbz: studiensemester_kurzbz,\n\t\t\t\t\temp: emp,\n\t\t\t\t\tstg: stg,\n\t\t\t\t\tsemester: semester\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter: (to, from, next) => {\n\t\t\t\tconst { studiensemester_kurzbz } = to.params;\n\t\t\t\tconst isSemester = /^(SS|WS)\\d{4}$/.test(studiensemester_kurzbz);\n\n\t\t\t\tif (!isSemester)\n\t\t\t\t\treturn next({ path: '/' });\n\t\t\t\telse\n\t\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t/*{\n\t\t\tname: `byFachbereich`,\n\t\t\tpath: `/fachbereich/:fachbereich/:emp?`,\n\t\t\tcomponent: LVVerwaltung\n\t\t},*/\n\t\t{\n\t\t\tname: `byStg`,\n\t\t\tpath: '/stg/:studiensemester_kurzbz/:stg?/:semester?/',\n\t\t\tcomponent: LVVerwaltung,\n\t\t\tprops: route => {\n\t\t\t\tlet { studiensemester_kurzbz, stg, semester } = route.params;\n\n\t\t\t\tif (semester === '')\n\t\t\t\t\tsemester = undefined;\n\n\t\t\t\tif (studiensemester_kurzbz === '')\n\t\t\t\t\tstudiensemester_kurzbz = undefined;\n\n\t\t\t\tif (stg === '')\n\t\t\t\t\tstg = undefined;\n\n\t\t\t\treturn {\n\t\t\t\t\tstudiensemester_kurzbz: studiensemester_kurzbz,\n\t\t\t\t\tstg: stg,\n\t\t\t\t\tsemester: semester,\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter: (to, from, next) => {\n\t\t\t\tconst studiensemester_kurzbz = to.params?.studiensemester_kurzbz\n\t\t\t\tconst isSemester = /^(SS|WS)\\d{4}$/.test(studiensemester_kurzbz);\n\n\t\t\t\tif (!isSemester)\n\t\t\t\t\treturn next({ path: '/' });\n\t\t\t\telse\n\t\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: '/:pathMatch(.*)*',\n\t\t\tredirect: '/'\n\t\t},\n\n\t]\n});\n\nconst app = Vue.createApp();\n\napp\n\t.use(router)\n\t.use(primevue.config.default, {\n\t\tzIndex: {\n\t\t\toverlay: 1100\n\t\t}\n\t})\n\t.use(Phrasen)\n\t.mount('#main');\n","export default {\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: String\n\t},\n\tcomputed: {\n\t\tvalueAsBase64DataString() {\n\t\t\tif (!this.modelValue || this.modelValue.substring(0, 10) == 'data:image')\n\t\t\t\treturn this.modelValue;\n\t\t\treturn 'data:image/jpeg;charset=utf-8;base64,' + this.modelValue;\n\t\t}\n\t},\n\tmethods: {\n\t\topenUploadDialog() {\n\t\t\tthis.$refs.fileInput.click();\n\t\t},\n\t\tpickFile() {\n\t\t\tlet file = this.$refs.fileInput.files;\n\t\t\tif (file && file[0]) {\n\t\t\t\tlet reader = new FileReader();\n\t\t\t\treader.onload = e => {\n\t\t\t\t\tthis.$emit('update:modelValue', e.target.result);\n\t\t\t\t}\n\t\t\t\treader.readAsDataURL(file[0]);\n\t\t\t}\n\t\t},\n\t\tdeleteImage() {\n\t\t\tthis.$emit('update:modelValue', '');\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-image\">\n\t\t<template v-if=\"modelValue\">\n\t\t\t<img class=\"img-thumbnail\" :src=\"valueAsBase64DataString\" />\n\t\t\t<div class=\"fotobutton\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"deleteImage\">\n\t\t\t\t\t\t<i class=\"fa fa-close\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<slot>\n\t\t\t\t<svg class=\"bd-placeholder-img img-thumbnail\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width=\"100%\" height=\"100%\" fill=\"#868e96\"></rect><text x=\"50%\" y=\"50%\" fill=\"#dee2e6\" dy=\".3em\"></text></svg>\n\t\t\t</slot>\n\t\t\t<div class=\"fotobutton-visible\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<input :id=\"$attrs.id\" class=\"d-none\" type=\"file\" ref=\"fileInput\" @input=\"pickFile\" accept=\"image/*\">\n\t</div>`\n}","import DmsItem from './Dms/Item.js';\n\nexport default {\n\tcomponents: {\n\t\tDmsItem\n\t},\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [ FileList, Array ],\n\t\t\trequired: true\n\t\t},\n\t\tmultiple: Boolean,\n\t\tid: String,\n\t\tname: String,\n\t\tinputClass: [String, Array, Object],\n\t\tnoList: Boolean,\n\t\taccept: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tmethods: {\n\t\tstringifyFile(file) {\n\t\t\treturn JSON.stringify({\n\t\t\t\tlastModified: file.lastModified,\n\t\t\t\tlastModifiedDate: file.lastModifiedDate,\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.type\n\t\t\t});\n\t\t},\n\t\taddFiles(event) {\n\t\t\tif (!this.multiple)\n\t\t\t\treturn this.$emit('update:modelValue', event.target.files);\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst doubles = [];\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tdt.items.add(file);\n\t\t\t\tdoubles.push(this.stringifyFile(file));\n\t\t\t}\n\t\t\tfor (var file of event.target.files) {\n\t\t\t\t// NOTE(chris): deep check (with FileReader) would require an async function so we only check the basic attributes\n\t\t\t\tif (doubles.indexOf(this.stringifyFile(file)) < 0)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t},\n\t\tremoveFile(id) {\n\t\t\tconst fileToRemove = Array.from(this.modelValue)[id];\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tif (file !== fileToRemove)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (!n)\n\t\t\t\treturn;\n\t\t\tif (n instanceof FileList) {\n\t\t\t\tif (!this.$refs.upload) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn this.$refs.upload.files = n;\n\t\t\t}\n\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst dms = [];\n\t\t\tfor (var file of n) {\n\t\t\t\tif (file instanceof File) {\n\t\t\t\t\tdt.items.add(file);\n\t\t\t\t} else {\n\t\t\t\t\tconst dmsFile = new File([JSON.stringify(file)], file.name, {\n\t\t\t\t\t\ttype: 'application/x.fhc-dms+json'\n\t\t\t\t\t});\n\t\t\t\t\tdt.items.add(dmsFile);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-dms\">\n\t\t<input ref=\"upload\" class=\"form-control\" :disabled=\"disabled\" :accept=\"accept\" :aria-label=\"$p.t('profilUpdate','documentUpload')\" :title=\"$p.t('profilUpdate','documentUpload')\" :class=\"inputClass\" :id=\"id\" :name=\"name\" :multiple=\"multiple\" type=\"file\" @change=\"addFiles\">\n\t\t<ul v-if=\"modelValue.length && multiple && !noList\" :accept=\"accept\" class=\"list-unstyled m-0\">\n\t\t\t<dms-item\n\t\t\t\tv-for=\"(file, index) in modelValue\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tv-model=\"file\"\n\t\t\t\tclass=\"d-flex mx-1 mt-1 align-items-start\"\n\t\t\t\t@delete=\"removeFile(index)\"\n\t\t\t\t>\n\t\t\t</dms-item>\n\t\t</ul>\n\t</div>`\n}","export default {\n\temits: [\n\t\t'delete'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [File, Object],\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpreview: ''\n\t\t};\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (n.type == 'application/x.fhc-dms+json') {\n\t\t\t\tn.text().then(result => {\n\t\t\t\t\tconst obj = JSON.parse(result);\n\t\t\t\t\tthis.preview = obj.preview || '';\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<li class=\"form-upload-dms-item\">\n\t\t<span class=\"col-auto\"><i class=\"fa fa-file me-1\"></i></span>\n\t\t<span class=\"col\">{{ modelValue.name }}</span>\n\t\t<a v-if=\"preview\" :href=\"preview\" target=\"_blank\" class=\"col-auto btn btn-outline-secondary btn-p-0 me-1\">\n\t\t\t<i class=\"fa fa-download\"></i>\n\t\t</a>\n\t\t<button class=\"col-auto btn btn-outline-secondary btn-p-0\" @click=\"$emit('delete')\">\n\t\t\t<i class=\"fa fa-close\"></i>\n\t\t</button>\n\t</li>`\n}\n"],"names":["TemplateAction","name","emits","props","res","Object","action","computed","actionHref","this","type","methods","actionFunc","$emit","renderif","undefined","template","TemplateFrame","components","ResultAction","ResultActions","actions","Array","title","String","image","imageFallback","person$3","emails","Set","email","room","mode","equipment","replace","RegExp","address","zip","city","street","floor","$p","t","employee","organisationunit","student","photo_url","foto","prestudent$1","status","stg_kuerzel","dms","icon","mimetype","cms$1","inject","preview","template_kurzbz","text","content","length","lower","toLowerCase","firstOccurence","Math","min","query","split","reduce","a","c","i","indexOf","includes","posInText","push","substr","url","content_url","$fhcApi","getUri","FHC_JS_DATA_STORAGE_OBJECT","app_root","mergedStudent","ResultPrestudent","ResultStudent","prestudent","list","filter","item","pop","mergedPerson","person","isArray","find","person_id","students","el","idx","arr","some","tmpitem","uid","sort","b","telurl","phone","inaktiv","aktiv","CoreSearchbar","cms","searchoptions","required","searchfunction","Function","showBtnSubmit","Boolean","provide","Vue","lastQuery","data","searchtimer","hidetimer","searchsettings","searchstr","getSearchStr","types","getInitiallySelectedTypes","searchresult","searchmode","showresult","searching","error","abortController","settingsDropdown","searchTypesPlaceholder","map","typeLabels","join","values","keys","watch","newSearchValue","origin","sessionStorage","setItem","newValue","localStorage","JSON","stringify","search","mounted","bootstrap","Collapse","$refs","settings","toggle","console","warn","updated","nextTick","calcSearchResultHeight","clearInput","hideresult","input","focus","result","localStorageValue","getItem","parse","checkSettingsVisibility","event","contains","target","hide","handleShowSettings","document","addEventListener","handleHideSettings","removeEventListener","rect","results","getBoundingClientRect","height","window","innerHeight","style","ceil","calcSearchResultExtent","calcheightonly","searchbox","top","bottom","right","width","nolivesearch","abort","setTimeout","callsearchapi","clearTimeout","splice","showsearchresult","AbortController","timeout","signal","then","response","meta","searchstring","mergeResults","counter","mergeTypes","mergedType","mergeKey","renderer","rank","retry","catch","code","refreshsearch","togglesettings","searchfocusin","e","preventDefault","stopPropagation","searchfocusout","dash2camelCase","string","g","toUpperCase","isValidRenderer","camelCaseRenderer","$","getActions","VerticalSplit","availHeight","topheight","bottomheight","mousePosY","resize","vsplitter","vsplitterOffset","selfOffsetTop","calcHeights","trackVerticalSplitterOffsetTop","windowheight","oldavailHeight","verticalsplit","offsetTop","offsetHeight","collapseTop","collapseBottom","showBoth","isCollapsed","dragStart","dragEnd","drag","clientY","offsetY","topOrBottomClass","topheightcss","bottomheightcss","ApiNavigation","getHeader","navigation_page","method","params","getMenu","AppMenu","appIdentifier","navigationPage","default","items","getItems","$api","call","$fhcAlert","handleSystemError","created","TYPE_DEFINITION","lehreinheit","id","dragIcon","extras","vevent","VALID_TYPES","isValidDragObject","value","every","prototype","hasOwnProperty","extra","getValidTransferData","allowedTypes","strict","obj","dataTransfer","base_type","collection","getData","getTransferData","v","_error","bindDragEnterLeave","onEnter","onLeave","skipLeave","skipLeaveParent","init","evt","globalDragenter","globalDragleave","globalDrop","cleanup","wasDropped","EFFECTS","drop","binding","modifiers","forEach","singleType","arg","match","effect","bcc","BroadcastChannel","allowed","onOver","dropEffect","onDrop","Promise","r","postMessage","cleanupEnterLeave","eventHasTypes","fhcDropCleanup","beforeUnmount","dragClick","delay","parseInt","lastTarget","lastX","lastY","startCountdown","stopCountdown","onDragOver","offsetX","fhcDragClickCleanup","ApiStvGroups","add","gruppe_kurzbz","studiensemester_kurzbz","studiengang_kz","getGruppen","deleteGroup","ApiStvDetails","get","prestudent_id","encodeURIComponent","save","saveStudent","student_uid","StvVerband","PvTreetable","primevue","treetable","PvColumn","column","directives","$reloadList","from","currentSemester","appConfig","number_displayed_past_studiensemester","endpoint","preselectedKey","loading","nodes","selectedKey","expandedKeys","filters","favorites","on","filteredNodes","node","key","noSemReloadNodes","mapNodesToNoSemReloadNodes","newVal","oldVal","setPreselection","children","onExpandTreeNode","findNodeByKey","n","link","activeEl","$nextTick","activeElement","subNodes","mapResultToTreeData","realNode","treeitem","tree","$el","querySelector","closest","dispatchEvent","KeyboardEvent","onSelectTreeNode","stg_kz","semester","orgform_kurzbz","no_sem_reload","cp","label","leaf","filterFav","set","markFav","index","unsetFavFocus","dataset","linkFavAdd","tabIndex","querySelectorAll","setFavFocus","rawKey","parts","currentKey","currentNode","currentSelectedKey","toggleTreeNode","getStudentAjaxId","vorname","nachname","dropStudents","verband","gruppe","root","CORE_REST_CLIENT_ERROR","CORE_REST_CLIENT_RETVAL","CoreRESTClient","wsURL","wsParameters","axiosParameters","_axiosCall","post","isSuccess","isError","hasData","trim","getError","getErrorCode","_generateRouterURI","uri","ci_router","_printDebug","parameters","errorThrown","axiosCallObj","prop","axios","StvStudiensemester","studiensemesterKurzbz","current","today","fallback","next","prev","setToToday","studiensemester","handleFormValidation","CoreFetchCmpt","refresh","apiFunction","apiFunctionParameters","oldValue","fetchData","errorMessage","apiFunctionResult","successHandler","errorHandler","finally","finallyHandler","setError","retval","message","FILTER_COMPONENT_NEW_FILTER","FilterConfig","columns","fields","switchFilter","applyFilterConfig","saveCustomFilter","currentFields","currentTarget","filteredFields","condition","alert","addField","removeField","FilterColumns","selected","names","show","selectedFields","field","DEFAULT_ICONS","jsonLines","xlsx","pdf","html","json","csv","DEFAULT_LABELS","TableDownload","tabulator","config","iconClass","currentConfig","toString","newConfig","k","stringToFileFormatter","formatter","validateFileFormatter","lcInput","XLSX","jspdf","jsPDF","autoTable","download","file","options","elementDataMap","WeakMap","collapseAutoClose","open","collapse","getInstance","collapsibleAutoHideFunc","Tabulator","extendModule","fitDataStretchFrozen","forced","colsWidth","tableWidth","table","rowManager","element","clientWidth","gap","lastCol","widthFixed","reinitializeWidth","responsiveLayout","modules","responsive","visible","definition","frozen","getWidth","modExists","setWidth","update","ApiFilter","wsParams","filterUniqueId","filterType","customFilterName","removeCustomFilter","filterId","applyFilterFields","filterFields","addFilterField","filterField","removeFilterField","getFilterById","getFilter","_uuid","CoreFilterCmpt","onNwNewEntry","description","sideMenu","tabulatorOptions","tabulatorEvents","tableOnly","noColumnFilter","reload","reloadBtnInfotext","newBtnShow","newBtnClass","newBtnDisabled","newBtnLabel","uniqueId","idField","parentIdField","countOnly","useSelectionSpan","uuid","filterName","filterActive","datasetMetadata","availableFilters","selectedFilter","fetchCmptRefresh","fetchCmptApiFunction","fetchCmptApiFunctionParams","fetchCmptDataFetched","fetchResult","tableBuilt","tabulatorHasSelector","selectedData","persistence","headerFilter","group","page","notSelectedFields","x","filteredData","filteredColumns","col","resizable","fieldIdsForVisibilty","getColumns","def","getDefinition","getField","fieldNames","idExtra","columnsForFilter","filterTitles","reloadTable","setData","initTabulator","placeholder","loadCategory","resolve","location","hash","slice","resolvePromiseFunc","setRenderData","startFetchCmpt","layout","movableColumns","columnDefaults","tooltip","minHeight","maxHeight","selectable","dataTree","handler","toDelete","childIdx","child","appendChild","cols","isVisible","_setHeaderFilter","updateTabulator","_updateTabulator","setColumns","clearFilters","getHeaderFilters","setHeaderFilterValue","clearFilter","render","j","setSideMenu","setDropDownMenu","personalFilters","filtersArray","filtersCount","filter_id","desc","onClickCall","handlerGetFilterById","subscriptDescription","subscriptLinkClass","subscriptLinkValue","onClickSubscriptCall","handlerRemoveCustomFilter","option","dataFetchedCallback","called_path","called_method","handlerSaveCustomFilter","getAttribute","substring","attr","parentId","parentIdx","parent","_children","beforeCreate","$props","BsModal","modal","fullscreen","backdrop","validator","keyboard","noCloseBtn","dialogClass","headerClass","bodyClass","footerClass","allowFullscreenExpand","dispose","handleUpdate","relatedTarget","toggleFullscreen","Modal","popup","body","footer","slots","includedPrimevue","reject","instance","createApp","setup","h","class","ref","unmount","unmounted","wrapper","parentElement","removeChild","createElement","use","zIndex","overlay","Phrasen$1","Phrasen","mount","FhcFragment","$slots","CoreForm","$registerToForm","component","inputs","$clearValidationForName","clearValidationForName","tag","sortedInputs","lcType","lastIndexOf","factory","create","getPrototypeOf","getOwnPropertyDescriptors","_defaultErrorHandlers","args","clearValidation","setFeedback","unshift","overwriteconfig","_sendFeedbackToInput","feedback","valid","remaining","fb","entries","p","fromEntries","send","promise","FormInput","inheritAttrs","registerToForm","bsFeedback","noAutoClass","noFeedback","inputGroup","containerClass","onInput","modelValueDummy","hasContainer","autoContainerClass","hasOwn","acc","validationClass","classes","$attrs","feedbackClass","modelValueCmp","modelValue","idCmp","clearValidationForThisName","selector","parentNode","_loadComponents","_","VueDatePicker","PvAutocomplete","UploadImage","UploadDms","defineAsyncComponent","autocomplete","import","beforeMount","beforeUpdate","DetailsForm","dropdowns","showLVID","showGewichtung","CoreTag","zuordnung_typ","savepoint","confirmLimit","Number","showList","selectedTagId","tagData","beschreibung","tag_typ_kurzbz","notiz","insertamum","insertvon","updateamum","updatevon","getTags","tags","hideList","editTag","tag_id","getTag","openModal","bezeichnung","done","formatDateTime","bearbeiter","verfasser","readonly","notiz_id","saveTag","tagModal","postData","updateTag","confirm","addTag","doneTag","deleteTag","reset","dateString","Date","toLocaleString","year","month","day","hour","minute","second","copy","navigator","clipboard","writeText","extendedHeaderFilter","headerValue","rowValue","rowData","filterParams","f","collections","expression","part","andParts","positives","negatives","term","comparisonMatch","operator","numberStr","number","parseFloat","startsWith","excludeTerm","regex","includeTerm","parseFilterExpression","isNaN","test","matchValue","childrenField","tagHeaderFilter","combinedText","erledigt","ApiLv","getByLV","lehrveranstaltung_id","getByStg","path","getByEmp","mitarbeiter_uid","stg","getTable","ApiTag","ApiLehreinheit","delete","newData","updatedData","LvTable","lehreinheitAnmerkungDefault","lehreinheitRaumtypDefault","lehreinheitRaumtypAlternativeDefault","expanded","deep","lv_info_default","lv_info","selectedColumnValues","tagEndpoint","rowSelectionChanged","reexpandRows","getExpandedRows","formData","stundenblockung","wochenrythmus","lehrform_kurzbz","anmerkung","raumtyp","raumtypalternativ","lehrfach_id","ajaxURL","ajaxRequestFunc","async","buildApiUrl","ajaxResponse","initialSort","dir","dataTreeChildIndent","dataTreeElementColumn","dataTreeStartExpanded","dataTreeCollapseElement","dataTreeExpandElement","headerFilterFunc","persistenceID","selectableRowsRangeMode","selectableRows","rowContextMenu","lehreinheit_id","menu","row","copyLehreinheit","deleteLehreinheit","headerFilterFuncParams","cell","formatterParams","iconKey","getRow","lehrtyp_kurzbz","lvkurzbz","getValue","parentspan","span","classList","createTextNode","cellClick","treeToggle","container","className","parsedTags","_tagExpanded","renderTags","innerHTML","adone","bbone","tagElement","innerText","tagComponent","shouldAutoLoad","activeFilter","str","charAt","selectedRows","getSelectedRows","getLVInfos","lehrfaecher","lf","lehrfach","lvbezeichnung","emp","resetEmployeeFilter","showLehreinheitModal","resetModal","lehreinheitModal","addNewLehreinheit","addedTag","targetRow","allRows","reformat","deletedTag","filteredTags","updatedTags","updatedTag","changed","tagIndex","findIndex","art","getTreeChildren","isTreeExpanded","lv_bezeichnung","getAllRows","getRows","lastMatchingRow","_row","treeExpand","redraw","deleteData","errors","alertError","rows","concat","resetTree","rootRows","lastRow","treeCollapse","currentTreeLevel","expandTree","FhcTabs","tabview","TabView","tabpanel","TabPanel","accessibility","cursor","vertical","act","ariaSelected","previousSibling","nextSibling","click","activetab","ariaSetSize","ariaPosInSet","pos","Symbol","border","useprimevue","tabs","count","currentTab","calcActiveIndex","initConfig","handleTabClick","change","_addToTabs","reactive","suffix","showSuffix","markRaw","suffixhelper","updateSuffix","getTabSuffix","removeInvalidCountTabs","countIst","tabsToDelete","validCountMulti","tab","countSoll","getSuffix","getTabSuffixes","Setup","getTabs","LvTabs","configLVTabs","lv","ApiDetails","getStudiensemester","getSprache","getLehrform","getRaumtyp","ApiLektor","getLehrfunktionen","getLektorenSearch","getByLehreinheit","deletePerson","deleteFromLVPlan","getLektorDaten","ApiStudiengangTree","ApiSearchbar","searchCis","searchStv","LVVerwaltung","defaultSemester","lvRoot","permissions","selectedStudiensemester","configShowVertragsdetails","showVertragsdetails","configShowGewichtung","permissionLehrveranstaltung","permissionGruppenEntfernen","permissionLektorEntfernen","updateFilter","studiengang","studiensemester_array","sprachen_array","lehrform_array","raumtyp_array","selectedStudiengang","searchbaroptions","cssclass","defaultaction","onSelectEmployee","childactions","handleRowClicked","$router","onSelectVerband","routeName","newParams","resetStgFilter","studiensemesterChanged","lehrfunktion_array","searchAdvanced","searchdummy","phrasen$1","category","setLanguage","categories","language","payload","getLanguage","getActiveDbLanguages","navigation","filter$1","studstatus","abmeldung","getDetails","antrag_id","stdsem","grund","errorHandling","cancel","allSettled","antrag","studierendenantrag_id","errorHeader","unterbrechung","datum_wiedereinstieg","attachment","wiederholung","getLvs","saveLvs","forbiddenLvs","mandatoryLvs","leitung","getStgs","getAntraege","getHistory","getPrestudents","approve","reopen","pause","unpause","object","approveObjection","denyObjection","profil","getView","fotoSperre","isStudent","isMitarbeiter","getZustellAdresse","getZustellKontakt","getGemeinden","nation","getAllNationen","profilUpdate","getStatus","getTopic","acceptProfilRequest","profil_update_id","status_message","topic","requested_change","denyProfilRequest","insertFile","getProfilRequestFiles","requestID","selectProfilRequest","insertProfilRequest","fileID","updateProfilRequest","ID","deleteProfilRequest","lvPlan","getRoomInfo","ort_kurzbz","start_date","end_date","getStunden","getOrtReservierungen","getLvPlanReservierungen","getLehreinheitStudiensemester","studiensemesterDateInterval","date","LvPlanEvents","lv_id","stv","relative_path","getStg","setStg","konto","tabulatorConfig","self","ajaxParams","only_open","studiengang_kz_intern","checkDoubles","form","confirmErrorHandler","insert","edit","buchungsnr","getBuchungstypen","kontakt","getAdressen","addNewAddress","loadAddress","address_id","updateAddress","deleteAddress","getPlaces","plz","getFirmen","searchString","getNations","getAdressentypen","getBankverbindung","addNewBankverbindung","loadBankverbindung","bankverbindung_id","updateBankverbindung","deleteBankverbindung","getKontakte","addNewContact","loadContact","kontakt_id","updateContact","deleteContact","getStandorteByFirma","getKontakttypen","updatePrestudent","getBezeichnungZGV","getBezeichnungMZgv","getBezeichnungDZgv","getAusbildung","getAufmerksamdurch","getBerufstaetigkeit","getTypenStg","getBisstandort","getHistoryPrestudent","getMaxSem","studiengang_kzs","advanceStatus","status_kurzbz","ausbildungssemester","confirmStatus","isLastStatus","deleteStatus","getLastBismeldestichtag","getHistoryPrestudents","insertStatus","loadStatus","updateStatus","getStudienplaene","getStudiengang","getStatusgruende","getStati","addStudent","changeStatus","getStatusarray","details","exam","getPruefungen","loadPruefung","pruefung_id","getTypenPruefungen","getAllLehreinheiten","getLvsByStudent","getLvsandLesByStudent","getLvsAndMas","getMitarbeiterLv","getNoten","checkZeugnisnoteLv","addPruefung","updatePruefung","deletePruefung","abschlusspruefung","getAbschlusspruefung","addNewAbschlusspruefung","loadAbschlusspruefung","updateAbschlusspruefung","deleteAbschlusspruefung","getTypenAbschlusspruefung","getTypenAntritte","getBeurteilungen","getAkadGrade","getTypStudiengang","getMitarbeiter","getPruefer","checkForExistingExams","uids","grades","getCertificate","getTeacherProposal","getRepeaterGrades","updateCertificate","note","lehrveranstaltung_bezeichnung","deleteCertificate","copyTeacherProposalToCertificate","copyRepeaterGradeToCertificate","studierendenantrag_lehrveranstaltung_id","getGradeFromPoints","points","manualErrorHandling","mobility","getMobilitaeten","getProgramsMobility","addNewMobility","loadMobility","bisio_id","updateMobility","deleteMobility","getLVList","getPurposes","getSupports","getListPurposes","getListSupports","deleteMobilityPurpose","addMobilityPurpose","deleteMobilitySupport","addMobilitySupport","archiv","getArchivVorlagen","archive","archiveSigned","akte_id","documents","getDocumentsUnaccepted","getDocumentsAccepted","deleteZuordnung","dokument_kurzbz","createZuordnung","loadAkte","getDoktypen","updateFile","deleteFile","uploadFile","exemptions","getAnrechnungen","getLehrveranstaltungen","getBegruendungen","getLvsKompatibel","getLektoren","addNewAnrechnung","loadAnrechnung","anrechnung_id","editAnrechnung","deleteAnrechnung","jointstudies","getStudies","getTypenMobility","getStudyprograms","getListPartner","getStatiPrestudent","loadStudy","insertStudy","updateStudy","deleteStudy","courselist","getCourselist","group_consecutiveHours","dbStundenplanTable","configStudent","configStudents","getNotizen","getUid","addNewNotiz","loadNotiz","loadDokumente","deleteNotiz","type_id","updateNotiz","isBerechtigt","betriebsmittel","getAllBetriebsmittel","addNewBetriebsmittel","loadBetriebsmittel","betriebsmittelperson_id","updateBetriebsmittel","deleteBetriebsmittel","getTypenBetriebsmittel","loadInventarliste","checkperson","updatePersonUnrulyStatus","unrulyParam","unruly","filterPerson","base","ort","getContentID","ort_kurbz","getRooms","datum","von","bis","typ","personenanzahl","getRoomTypes","content_id","version","sprache","sichtbar","getNews","page_size","news","limit","getNewsRowCount","getNewsExtra","lehre","getStudentenMail","getLvInfo","getStudentPruefungen","getStudentProjektarbeiten","getStudentProjektabgaben","detail","projektarbeit_id","postStudentProjektarbeitEndupload","Headers","postStudentProjektarbeitZwischenabgabe","getStudentProjektarbeitAbgabeFile","paabgabe_id","getMitarbeiterProjektarbeiten","all","postProjektarbeitAbgabe","termin","paabgabetyp_kurzbz","fixtermin","kurzbz","deleteProjektarbeitAbgabe","postSerientermin","projektarbeit_ids","fetchDeadlines","addons","getLvMenu","lvid","messages","getMessages","size","getVorlagen","getMsgVarsLoggedInUser","getMessageVarsPerson","getMsgVarsPrestudent","getPersonId","getDataVorlage","vorlage_kurzbz","getNameOfDefaultRecipient","getPreviewText","getReplyData","messageId","sendMessageFromModalContext","sendMessage","deleteMessage","vorlagen","getVorlagenByLoggedInUser","studium","getAllStudienSemester","studienplan","getStudiengaengeForStudienSemester","getStudienplaeneBySemester","getLvPlanForStudiensemester","getLvEvaluierungInfo","FhcApiFactory","phrasen","dashboard","getViewData","bookmark","getBookmarks","bookmark_id","ampeln","ampel_id","studiengangInformation","getStudiengangByKz","authinfo","getAuthUID","getAuthInfo","getAll","OldFhcApi","install","app","globalProperties","addEndpoints","_get_config","TypeError","_clean_return_value","fhcApiAxios","baseURL","interceptors","request","FormData","FileList","File","nd","append","jsondata","err","handled","alertDefault","responseURL","validation","apply","general","php","filename","line","backtrace","function","severity","alertSystemError","exception","db","heading","sql","auth","controller","required_permissions","FhcApiFactoryWrapper","constructor","factorypart","defineProperty","noWarn","bind","helperAppContainer","helperApp","PvToast","PvConfirm","mailToUrl","slotProps","systemerror_mailto","openMessagecard","getOrCreateInstance","showmaillink","PvConfig","PvConfirmationService","helperAppInstance","FhcAlert","FhcPhrasen","alertSuccess","toast","summary","life","alertInfo","alertWarning","confirmDelete","$confirm","require","header","acceptLabel","acceptClass","rejectLabel","rejectClass","accept","sticky","alertMultiple","messageArray","errMsg","stack","handleSystemMessage","msg","resetFormValidation","Event","nodeType","Node","ELEMENT_NODE","notFound","CustomEvent","PluginsApi","_send_array_or_object","func","errs","DEFAULT_ERROR_CONFIG","success","fail","combine","_format_toast","_default","msgs","n_errors","get_config","clean_return_value","_merge_error_config","get_error_handler","formHandler","get_error_list","popHandleableErrors","newType","newTypeCombinesType","newTypeHasHandler","errorConfig","configoverwrite","typedErrors","reason","errType","getErrorHandler","ApiPhrasen","loadingModules","user_language","user_locale","server_languages","LC_Time","catArray","phrase","elem","extractCategory","t_ref","val","p1","getValueForLoadedPhrase","cat","lang","ciPath","router","VueRouter","createRouter","history","createWebHistory","routes","route","beforeEnter","to","redirect","Image","valueAsBase64DataString","openUploadDialog","fileInput","pickFile","files","reader","FileReader","onload","readAsDataURL","deleteImage","Dms","DmsItem","multiple","inputClass","noList","disabled","stringifyFile","lastModified","lastModifiedDate","addFiles","dt","DataTransfer","doubles","removeFile","fileToRemove","upload","dmsFile"],"mappings":"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"}