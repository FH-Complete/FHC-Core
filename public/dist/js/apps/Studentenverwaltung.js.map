{"version":3,"file":"Studentenverwaltung.js","sources":["../../../js/components/searchbar/result/template/action.js","../../../js/components/searchbar/result/template/frame.js","../../../js/components/searchbar/result/template/actions.js","../../../js/components/searchbar/result/person.js","../../../js/components/searchbar/result/room.js","../../../js/components/searchbar/result/employee.js","../../../js/components/searchbar/result/organisationunit.js","../../../js/components/searchbar/result/student.js","../../../js/components/searchbar/result/prestudent.js","../../../js/components/searchbar/result/dms.js","../../../js/components/searchbar/result/cms.js","../../../js/components/searchbar/result/mergedstudent.js","../../../js/components/searchbar/result/mergedperson.js","../../../js/components/searchbar/searchbar.js","../../../js/components/navigation/Language.js","../../../js/components/verticalsplit/verticalsplit.js","../../../js/api/factory/navigation.js","../../../js/components/AppMenu.js","../../../js/components/Bootstrap/Modal.js","../../../js/components/Fragment.js","../../../js/components/Form/Form.js","../../../js/components/Form/Input.js","../../../js/components/AppConfig.js","../../../js/helpers/DragAndDrop.js","../../../js/directives/drop.js","../../../js/directives/dragClick.js","../../../js/api/factory/stv/group.js","../../../js/api/factory/stv/details.js","../../../js/components/Stv/Studentenverwaltung/Verband.js","../../../js/components/Fetch.js","../../../js/components/filter/Filter/Config.js","../../../js/components/filter/Filter/Columns.js","../../../js/components/filter/Table/Download.js","../../../js/directives/collapseAutoClose.js","../../../js/tabulator/layouts/fitDataStretchFrozen.js","../../../js/api/factory/filter.js","../../../js/components/filter/Filter.js","../../../js/RESTClient.js","../../../js/components/Form/Validation.js","../../../js/directives/accessibility.js","../../../js/api/factory/stv/students.js","../../../js/api/factory/stv/kontakt/address.js","../../../js/api/factory/studiensemester.js","../../../js/api/factory/studienplan.js","../../../js/components/Stv/Studentenverwaltung/List/New.js","../../../js/api/factory/stv/app.js","../../../js/components/Stv/Studentenverwaltung/List/Filter.js","../../../js/components/Stv/Studentenverwaltung/List/Filter/Item.js","../../../js/helpers/StringHelpers.js","../../../js/directives/draggable.js","../../../js/components/Stv/Studentenverwaltung/List.js","../../../js/components/Tabs.js","../../../js/api/factory/detailHeader.js","../../../js/components/Stv/Studentenverwaltung/Details.js","../../../js/components/DetailHeader/DetailHeader.js","../../../js/components/Stv/Studentenverwaltung/Studiensemester.js","../../../js/api/factory/searchbar.js","../../../js/api/factory/stv/lists.js","../../../js/api/factory/stv/verband.js","../../../js/api/factory/stv.js","../../../js/api/factory/stv/konto.js","../../../js/api/factory/stv/kontakt.js","../../../js/api/factory/stv/config.js","../../../js/components/Stv/Studentenverwaltung.js","../../../js/api/search.js","../../../js/api/phrasen.js","../../../js/api/navigation.js","../../../js/api/filter.js","../../../js/api/studstatus.js","../../../js/api/profil.js","../../../js/api/profilUpdate.js","../../../js/api/lvPlan.js","../../../js/api/stv.js","../../../js/api/stv/verband.js","../../../js/api/stv/students.js","../../../js/api/stv/filter.js","../../../js/api/stv/konto.js","../../../js/api/stv/group.js","../../../js/api/stv/kontakt.js","../../../js/api/stv/prestudent.js","../../../js/api/stv/status.js","../../../js/api/stv/details.js","../../../js/api/stv/exam.js","../../../js/api/stv/abschlusspruefung.js","../../../js/api/stv/grades.js","../../../js/api/stv/mobility.js","../../../js/api/stv/archiv.js","../../../js/api/stv/documents.js","../../../js/api/stv/exemptions.js","../../../js/api/stv/jointstudies.js","../../../js/api/stv/courselist.js","../../../js/api/notiz.js","../../../js/api/notiz/person.js","../../../js/api/betriebsmittel.js","../../../js/api/betriebsmittel/person.js","../../../js/api/checkperson.js","../../../js/api/ort.js","../../../js/api/cms.js","../../../js/api/lehre.js","../../../js/api/addons.js","../../../js/api/messages.js","../../../js/api/messages/person.js","../../../js/api/vorlagen.js","../../../js/api/studium.js","../../../js/api/fhcapifactory.js","../../../js/api/dashboard.js","../../../js/api/bookmark.js","../../../js/api/ampeln.js","../../../js/api/studiengang.js","../../../js/api/menu.js","../../../js/api/authinfo.js","../../../js/api/language.js","../../../js/plugin/OldFhcApi.js","../../../js/plugins/FhcAlert.js","../../../js/plugins/Api.js","../../../js/api/factory/phrasen.js","../../../js/plugins/Phrasen.js","../../../js/apps/Studentenverwaltung.js","../../../js/components/Form/Upload/Image.js","../../../js/components/Form/Upload/Dms.js","../../../js/components/Form/Upload/Dms/Item.js"],"sourcesContent":["export default {\n\tname: 'SearchbarResultTemplateAction',\n\temits: [ 'actionexecuted' ],\n\tprops: { \n\t\tres: Object,\n\t\taction: Object\n\t},\n\tcomputed: {\n\t\tactionHref() {\n\t\t\tif (this.action.type !== 'link')\n\t\t\t\treturn 'javascript:void(0);';\n\t\t\treturn typeof this.action.action === 'function'\n\t\t\t\t? this.action.action(this.res) \n\t\t\t\t: this.action.action;\n\t\t}\n\t},\n\tmethods: {\n\t\tactionFunc() {\n\t\t\tif (this.action.type === 'function')\n\t\t\t\tthis.action.action(this.res);\n\t\t\tthis.$emit('actionexecuted');\n\t\t},\n\t\trenderif: function() {\n\t\t\tif(this.action?.renderif === undefined) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn this.action.renderif(this.res);\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"this.renderif()\">\n\t<a class=\"searchbar-result-template-action\" :href=\"actionHref\" @click=\"actionFunc\">\n\t\t<slot>{{ $p.t('search/action_default_label') }}</slot>\n\t</a>\n\t</template>\n\t<template v-else>\n\t<div class=\"searchbar-result-template-action\">\n\t\t<slot>{{ $p.t('search/action_default_label') }}</slot>\n\t</div>\n\t</template>`\n};","import ResultAction from \"./action.js\";\nimport ResultActions from \"./actions.js\";\n\nexport default {\n\tname: 'SearchbarResultTemplateFrame',\n\tcomponents: {\n\t\tResultAction,\n\t\tResultActions\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object,\n\t\ttitle: String,\n\t\timage: String,\n\t\timageFallback: String\n\t},\n\ttemplate: `\n\t<div class=\"searchbar-result-template-frame\">\n\t\t<div class=\"searchbar_grid\">\n\t\t\t<div class=\"searchbar_icon\">\n\t\t\t\t<result-action\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:action=\"actions.defaultaction\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\tclass=\"searchbar-rounded-image\"\n\t\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tv-if=\"image\"\n\t\t\t\t\t\t:src=\"image\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<i :class=\"imageFallback\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</result-action>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_data\">\n\t\t\t\t<result-action\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:action=\"actions.defaultaction\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\tclass=\"mb-3\"\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"fw-bold\">{{ title }}</span>\n\t\t\t\t</result-action>\n\n\t\t\t\t<slot></slot>\n\n\t\t\t\t<result-actions\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:actions=\"actions.childactions\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t>\n\t\t\t\t</result-actions>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n};","import ResultAction from \"./action.js\";\n\nexport default {\n\tname: 'SearchbarResultTemplateActions',\n\tcomponents: {\n\t\tResultAction\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Array\n\t},\n\tmethods: {\n\t\trenderif: function(action) {\n\t\t\tif(action?.renderif === undefined) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn action.renderif(this.res);\n\t\t}\n\t},\n\ttemplate: `\n\t<div v-if=\"actions.length\" class=\"searchbar-result-template-actions\">\n\t\t<template v-for=\"(action, index) in actions\" :key=\"action.label\">\n\t\t<result-action\n\t\t\t v-if=\"this.renderif(action)\"\n\t\t\t:res=\"res\"\n\t\t\t:action=\"action\"\n\t\t\tclass=\"btn btn-primary btn-sm\"\n\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t>\n\t\t\t<i v-if=\"action.icon\" :class=\"action.icon\"></i>\n\t\t\t<span class=\"p-2\">{{ action.label }}</span>\n\t\t</result-action>\n\t\t</template>\n\t</div>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultPerson',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\temails() {\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"res.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultRoom',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tequipment() {\n\t\t\tif (!this.res.equipment)\n\t\t\t\treturn \"\";\n\t\t\treturn this.res.equipment.replace(new RegExp('<br />', 'ig'), '');\n\t\t},\n\t\taddress() {\n\t\t\tlet address = this.res.zip || '';\n\t\t\tif (this.res.city)\n\t\t\t\taddress += (address ? ' ' : '') + this.res.city;\n\t\t\tif (this.res.street)\n\t\t\t\taddress += (address ? ', ' : '') + this.res.street;\n\t\t\tif (this.res.floor)\n\t\t\t\taddress += (address ? ' / ' : '') + this.$p.t('search/result_address_floor', this.res);\n\n\t\t\treturn address || this.$p.t('search/result_address_none');\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-room\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.ort_kurzbz\"\n\t\timage-fallback=\"fas fa-door-open fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_room_address') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ address }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_workplaces') }}</div>\n\t\t\t\t<div v-if=\"mode == 'simple'\" class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.sitzplaetze }}\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<template v-if=\"res.max_person !== null && res.workplaces !== null\">\n\t\t\t\t\t\t{{ $p.t('search/result_workplaces_pc', res) }}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t{{ $p.t('search/result_workplaces_none') }}\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_building') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.building }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_equipment') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<div v-if=\"mode == 'simple'\" class=\"no-margin-paragraphs\" v-html=\"res.austattung.replace('<br />','')\"></div>\n\t\t\t\t\t<div v-else class=\"no-margin-paragraphs\" v-html=\"equipment\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultEmployee',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"res.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_stdkst') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.standardkostenstelle.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(stdkst, idx) in res.standardkostenstelle\" :key=\"idx\">{{ stdkst }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_stdkst_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('lehre/organisationseinheit') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.organisationunit_name.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(oe, idx) in res.organisationunit_name\" :key=\"idx\">{{ oe }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_oe_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a :href=\"'mailto:' + res.email\" class=\"d-block\">\n\t\t\t\t\t\t{{ res.email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/telefon') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a :href=\"'tel:' + res.phone\" class=\"d-block\">\n\t\t\t\t\t\t{{ res.phone }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultOrganistationunit',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-organisationunit\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\timage-fallback=\"fas fa-sitemap fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_parent_oe') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.parentoe_name }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_group_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-if=\"res.mailgroup\" :href=\"'mailto:' + res.mailgroup\">\n\t\t\t\t\t\t{{ res.mailgroup }}\n\t\t\t\t\t</a>\n\t\t\t\t\t<template v-else>-</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_leader') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.leaders.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(leader, idx) in res.leaders\" :key=\"idx\">{{ leader.name }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_leader_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_number_of_employees') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.number_of_people }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultStudent',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tphoto_url() {\n\t\t\tif (this.mode != 'simple')\n\t\t\t\treturn this.res.photo_url;\n\t\t\tif (this.res.foto)\n\t\t\t\treturn 'data:image/jpeg;base64,' + this.res.foto;\n\t\t\treturn null;\n\t\t},\n\t\temails() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn new Set([this.res.email]);\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.uid }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.matrikelnr }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultPrestudent',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn this.res.name;\n\t\t\treturn this.res.name + ' (' + this.res.status + ' ' + this.res.stg_kuerzel + ')';\n\t\t},\n\t\tphoto_url() {\n\t\t\tif (this.mode != 'simple')\n\t\t\t\treturn this.res.photo_url;\n\t\t\tif (this.res.foto)\n\t\t\t\treturn 'data:image/jpeg;base64,' + this.res.foto;\n\t\t\treturn null;\n\t\t},\n\t\temails() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn new Set([this.res.email]);\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-prestudent\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"title\"\n\t\t:image=\"photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"res.uid\" class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.uid }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"res.matrikelnr\" class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.matrikelnr }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_prestudent_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.prestudent_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('lehre/studiengang') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.bezeichnung }} {{ res.orgform ? '(' + res.orgform + ')' : '' }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultDms',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\ticon() {\n\t\t\tswitch (this.res.mimetype) {\n\t\t\t\tcase 'application/pdf':\n\t\t\t\t\treturn 'file-pdf';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n\t\t\t\tcase 'application/msword':\n\t\t\t\t\treturn 'file-word';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n\t\t\t\tcase 'application/mspowerpoint':\n\t\t\t\t\treturn 'file-powerpoint';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n\t\t\t\tcase 'application/vnd.ms-excel':\n\t\t\t\t\treturn 'file-excel';\n\t\t\t\tcase 'application/x-zip':\n\t\t\t\tcase 'application/zip':\n\t\t\t\t\treturn 'file-zipper';\n\t\t\t\tcase 'image/jpeg':\n\t\t\t\tcase 'image/gif':\n\t\t\t\tcase 'image/png':\n\t\t\t\t\treturn 'file-image';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'file';\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-dms\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image-fallback=\"'fas fa-' + icon + ' fa-4x'\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_dms_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.dms_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_version') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.version }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_keywords') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.keywords }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('global/beschreibung') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.description }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultCms',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tinject: [\n\t\t'query'\n\t],\n\tcomputed: {\n\t\tpreview() {\n\t\t\tif (this.res.template_kurzbz != 'redirect') {\n\t\t\t\tlet text = this.res.content.replace(/<!\\[CDATA\\[|\\]\\]>/ig, '').replace(/<[^>]+>/ig, '').replace(/^\\s+|\\s+$/g, '');\n\n\t\t\t\tif (text.length > 1000) {\n\t\t\t\t\t// NOTE(chris): focus on searched text!\n\t\t\t\t\tlet lower = text.toLowerCase();\n\t\t\t\t\tlet firstOccurence = Math.min(this.query.split(' ').reduce((a, c) => {\n\t\t\t\t\t\t// NOTE(chris): filter query for words that affects the content field and get the lowest index of them\n\t\t\t\t\t\tif (c == 'or')\n\t\t\t\t\t\t\treturn a;\n\t\t\t\t\t\tlet i = c.indexOf(':');\n\t\t\t\t\t\tif (i < 0 || (i > 0 && ['content', 'inhalt'].includes(c.split(':')[0]))) {\n\t\t\t\t\t\t\tlet posInText = lower.indexOf(c);\n\t\t\t\t\t\t\tif (posInText >= 0)\n\t\t\t\t\t\t\t\ta.push(posInText);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn a;\n\t\t\t\t\t}, []));\n\n\t\t\t\t\tif (firstOccurence) {\n\t\t\t\t\t\tif (firstOccurence + 997 >= text.length) {\n\t\t\t\t\t\t\tfirstOccurence = text.length - 997;\n\t\t\t\t\t\t\tif (firstOccurence > 0)\n\t\t\t\t\t\t\t\treturn '...' + text.substr(firstOccurence, 997);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn '...' + text.substr(firstOccurence, 994) + '...';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttext = text.substr(0, 997) + '...';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn text;\n\t\t\t}\n\t\t\t\n\t\t\tlet url = this.res.content_url;\n\t\t\tif (url.substr(0, 16) == '../index.ci.php/')\n\t\t\t\turl = this.$fhcApi.getUri(url.substr(16));\n\t\t\telse if (url.substr(0, 3) == '../')\n\t\t\t\turl = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/\\/+$/, '') + url.substr(2);\n\t\t\treturn '<a href=\"' + url + '\">' + url + '</a>';\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-cms\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.title\"\n\t\timage-fallback=\"fas fa-newspaper fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div v-if=\"preview\" class=\"searchbar_table\" v-html=\"preview\"></div>\n\t\t<div v-else class=\"searchbar_table text-muted\">\n\t\t\t{{ $p.t('search/result_content_none') }}\n\t\t</div>\n\t</template-frame>`\n};","import ResultPrestudent from \"./prestudent.js\";\nimport ResultStudent from \"./student.js\";\n\nexport default {\nname: 'SearchbarResultMergedstudent',\n\t\tcomponents: {\n\t\tResultPrestudent,\n\t\tResultStudent\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tprestudent() {\n\t\t\tconst prestudent = this.res.list.filter(item => item.type == 'prestudent');\n\t\t\treturn prestudent.pop();\n\t\t}\n\t},\n\ttemplate: `\n\t<result-prestudent\n\t\tv-if=\"prestudent\"\n\t\t:mode=\"mode\"\n\t\t:res=\"prestudent\"\n\t\t:actions=\"actions\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\tclass=\"searchbar-result-mergedstudent\"\n\t></result-prestudent>\n\t<result-student\n\t\tv-else\n\t\t:mode=\"mode\"\n\t\t:res=\"res.list[0]\"\n\t\t:actions=\"actions\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\tclass=\"searchbar-result-mergedstudent\"\n\t></result-student>`\n};","import TemplateFrame from \"./template/frame.js\";\nimport TemplateAction from \"./template/action.js\";\n\nexport default {\n\tname: 'SearchbarResultMergedperson',\n\tcomponents: {\n\t\tTemplateFrame,\n\t\tTemplateAction\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tperson() {\n\t\t\t // Cummulate all emails\n\t\t\tconst email = this.res.list.reduce((a, c) => [...a, ...(Array.isArray(c.email) ? c.email : [c.email])], []);\n\n\t\t\t// Use person entry if available (with cummulated emails)\n\t\t\tconst person = this.res.list.find(item => item.type == 'person');\n\t\t\tif (person)\n\t\t\t\treturn {...person, email};\n\n\t\t\t // Those properties should be the same in all entries\n\t\t\tconst { person_id, name } = this.res.list[0];\n\t\t\t // Get first photo (prefer student photo if available)\n\t\t\tlet photo_url;\n\t\t\tif (this.mode == 'simple') {\n\t\t\t\tlet foto = (this.students ? this.students.find(el => el.foto) : null)?.foto;\n\t\t\t\tif (foto)\n\t\t\t\t\tfoto = 'data:image/jpeg;base64,' + foto;\n\t\t\t\tphoto_url = foto || this.employee?.photo_url;\n\t\t\t} else\n\t\t\t\tphoto_url = ((this.students ? this.students.find(el => el.photo_url) : null) || this.employee)?.photo_url;\n\n\t\t\treturn { person_id, name, photo_url, email };\n\t\t},\n\t\temployee() {\n\t\t\treturn this.res.list.find(item => [\n\t\t\t\t'employee',\n\t\t\t\t'unassigned_employee',\n\t\t\t\t'mitarbeiter',\n\t\t\t\t'mitarbeiter_ohne_zuordnung'\n\t\t\t].includes(item.type)) || null;\n\t\t},\n\t\tstudents() {\n\t\t\tconst students = this.res.list.filter(item => [\n\t\t\t\t\t'student',\n\t\t\t\t\t'prestudent',\n\t\t\t\t\t'studentcis',\n\t\t\t\t\t'studentStv'\n\t\t\t\t].includes(item.type))\n\t\t\t\t.filter((item, idx, arr) => {\n\t\t\t\t\tif (item.type === 'prestudent') {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet prestudentwithsameuidexists = arr.some(tmpitem => {\n\t\t\t\t\t\treturn tmpitem.uid === item.uid && tmpitem.type === 'prestudent';\n\t\t\t\t\t});\n\n\t\t\t\t\tif (prestudentwithsameuidexists) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}).sort((a, b) => (a.sort || 0) - (b.sort || 0));\n\t\t\treturn students.length ? students : null;\n\t\t},\n\t\temails() {\n\t\t\t// Remove duplicates\n\t\t\treturn new Set(this.person.email);\n\t\t},\n\t\ttelurl() {\n\t\t\treturn 'tel:' + this.employee?.phone;\n\t\t},\n\t\tinaktiv() {\n\t\t\treturn this.res.list.some(item => item?.aktiv === false);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-mergedperson\"\n\t\t:class=\"(inaktiv) ? 'searchbar_inaktiv' : ''\"\n\t\t:res=\"person\"\n\t\t:actions=\"actions\"\n\t\t:title=\"person.name\"\n\t\t:image=\"person.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ person.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<template v-if=\"employee\">\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell\">\n\t\t\t\t\t\t<template-action\n\t\t\t\t\t\t\t:res=\"employee\"\n\t\t\t\t\t\t\t:action=\"actions.defaultactionemployee || actions.defaultaction\"\n\t\t\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ $p.t('search/result_employee') }}\n\t\t\t\t\t\t</template-action>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_stdkst') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"employee.standardkostenstelle.length > 0\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for=\"(stdkst, idx) in employee.standardkostenstelle\"\n\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ stdkst }}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_stdkst_none') }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('lehre/organisationseinheit') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"employee.organisationunit_name.length > 0\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for=\"(oe, idx) in employee.organisationunit_name\"\n\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ oe }}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_oe_none') }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('person/telefon') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<a :href=\"telurl\">\n\t\t\t\t\t\t\t{{ employee.phone }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"students\">\n\t\t\t\t<template v-for=\"student in students\">\n\t\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell\">\n\t\t\t\t\t\t\t<template-action\n\t\t\t\t\t\t\t\tv-if=\"actions.defaultaction\"\n\t\t\t\t\t\t\t\t:res=\"student\"\n\t\t\t\t\t\t\t\t:action=\"actions.defaultactionstudent || actions.defaultaction\"\n\t\t\t\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-if=\"mode == 'simple'\">\n\t\t\t\t\t\t\t\t\t{{ student.studiengang_kz }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else-if=\"student.status && student.stg_kuerzel\">\n\t\t\t\t\t\t\t\t\t{{ student.status }} ({{ student.stg_kuerzel }})\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t{{ $p.t('person/student') }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template-action>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.bezeichnung\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('lehre/studiengang') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.bezeichnung }} {{ student.orgform ? '(' + student.orgform + ')' : '' }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.prestudent_id\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_prestudent_id') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.prestudent_id }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.uid\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.uid }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.matrikelnr\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.matrikelnr }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t</template-frame>`\n};","import person from \"./result/person.js\";\nimport room from \"./result/room.js\";\nimport employee from \"./result/employee.js\";\nimport organisationunit from \"./result/organisationunit.js\";\nimport student from \"./result/student.js\";\nimport prestudent from \"./result/prestudent.js\";\nimport dms from \"./result/dms.js\";\nimport cms from \"./result/cms.js\";\nimport mergedStudent from \"./result/mergedstudent.js\";\nimport mergedPerson from \"./result/mergedperson.js\";\n\nexport default {\n\tname: \"FhcSearchbar\",\n\tcomponents: {\n\t\tperson,\n\t\troom,\n\t\temployee,\n\t\torganisationunit,\n\t\tstudent,\n\t\tprestudent,\n\t\tdms,\n\t\tcms,\n\t\tmergedStudent,\n\t\tmergedPerson\n\t},\n    props: {\n    \tsearchoptions: {\n    \t\ttype: Object,\n    \t\trequired: true\n    \t},\n    \tsearchfunction: {\n    \t\ttype: Function,\n    \t\trequired: true\n    \t},\n    \tshowBtnSubmit: Boolean\n    },\n    provide() {\n        return {\n            query: Vue.computed(() => this.lastQuery)\n        };\n    },\n    data: function() {\n      return {\n        searchtimer: null,\n        hidetimer: null,\n        searchsettings: {\n            searchstr: this.getSearchStr(),\n            types: this.getInitiallySelectedTypes(),\n        },\n        searchresult: [],\n        searchmode: '',\n        showresult: false,  \n        searching: false,\n        error: null,\n            abortController: null,\n\t\t\tsettingsDropdown: null,\n            lastQuery: ''\n      };\n    },\n\tcomputed: {\n\t\tsearchTypesPlaceholder() {\n\t\t\tif (!this.searchsettings.types.length) {\n\t\t\t\treturn Object.values(this.typeLabels).join(' / ');\n\t\t\t}\n\t\t\treturn this.searchsettings.types.map(type => this.typeLabels[type]).join(' / ');\n\t\t},\n\t\ttypes() {\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn [];\n\t\t\tif (Array.isArray(this.searchoptions.types))\n\t\t\t\treturn this.searchoptions.types;\n\t\t\treturn Object.keys(this.searchoptions.types);\n\t\t},\n\t\ttypeLabels() {\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn {};\n\t\t\tif (Array.isArray(this.searchoptions.types)) {\n\t\t\t\treturn this.searchoptions.types.reduce((res, type) => {\n\t\t\t\t\tres[type] = type;\n\t\t\t\t\treturn res\n\t\t\t\t}, {});\n\t\t\t}\n\t\t\treturn this.searchoptions.types;\n\t\t}\n\t},\n\ttemplate: /*html*/`\n\t\t<form\n\t\t\tref=\"searchform\"\n\t\t\tclass=\"d-flex me-3\"\n\t\t\t:class=\"searchoptions.cssclass\"\n\t\t\taction=\"javascript:void(0);\"\n\t\t\t@focusin=\"searchfocusin\"\n\t\t\t@focusout=\"searchfocusout\"\n\t\t>\n\t\t\t<div\n\t\t\t\tref=\"searchbox\"\n\t\t\t\tclass=\"h-100 input-group me-2 searchbar_searchbox\"\n\t\t\t\t:class=\"showresult ? 'open' : 'closed'\"\n\t\t\t>\n\t\t\t\t<span class=\"input-group-text\">\n\t\t\t\t\t<i class=\"fa-solid fa-magnifying-glass\"></i>\n\t\t\t\t</span>\n                <input\n                \tref=\"input\"\n                    @keyup=\"search\"\n                    @focus=\"showsearchresult\"\n                    v-model=\"searchsettings.searchstr\"\n                    class=\"form-control searchbar_input\"\n                    type=\"search\"\n                    :placeholder=\"$p.t('search/input_search_label', { types: searchTypesPlaceholder })\"\n                    :aria-label=\"$p.t('search/input_search_label', { types: searchTypesPlaceholder })\"\n                >\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"searchsettings.searchstr\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"searchbar_input_clear btn btn-outline-secondary\"\n\t\t\t\t\t@click=\"clearInput\"\n\t\t\t\t\t@focusin.stop\n\t\t\t\t>\n\t\t\t\t\t<i class=\"fas fa-close\"></i>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"showBtnSubmit\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t:title=\"$p.t('search/submit')\"\n\t\t\t\t\t:aria-label=\"$p.t('search/submit')\"\n\t\t\t\t>\n\t\t\t\t\t<i class=\"fas fa-search\"></i>\n\t\t\t\t</button>\n                <button\n                    data-bs-toggle=\"collapse\"\n                    data-bs-target=\"#searchSettings\"\n                    aria-expanded=\"false\"\n                    aria-controls=\"searchSettings\"\n                    ref=\"settingsbutton\"\n                    class=\"searchbar_setting_btn btn btn-secondary\"\n                    type=\"button\"\n                    :title=\"$p.t('search/button_filter_label')\"\n                    :aria-label=\"$p.t('search/button_filter_label')\"\n                >\n                    <i class=\"fas fa-cog\"></i>\n                </button>\n            </div>\n\n            <div v-show=\"showresult\"\n                 class=\"searchbar_results\" tabindex=\"-1\">\n              <div class=\"searchbar_results_scroller\" ref=\"result\">\n                <div class=\"searchbar_results_wrapper\" ref=\"results\">\n                  <div v-if=\"searching\">\n                    <i class=\"fas fa-spinner fa-spin fa-2x\"></i>\n                  </div>\n                  <div v-else-if=\"this.error !== null\">{{ error }}</div>\n                  <div v-else-if=\"searchresult.length < 1\">{{  $p.t('search/error_no_results') }}</div>\n                  <template v-else v-for=\"res in searchresult\">\n                    <component\n                        v-if=\"isValidRenderer(res.renderer)\"\n                        :is=\"res.renderer\"\n                        :mode=\"searchmode\"\n                        :res=\"res\"\n                        :actions=\"getActions(res)\"\n                        @actionexecuted=\"hideresult\"\n                    ></component>\n                    <div v-else class=\"searchbar-result text-danger fw-bold\">{{ $p.t('search/error_unknown_type', res) }}</div>\n                  </template>\n                </div>\n              </div>\n            </div>\n\n\t\t\t<div\n\t\t\t\tid=\"searchSettings\"\n\t\t\t\tref=\"settings\"\n\t\t\t\t@[\\`shown.bs.collapse\\`]=\"handleShowSettings\"\n\t\t\t\t@[\\`hide.bs.collapse\\`]=\"handleHideSettings\"\n\t\t\t\tclass=\"top-100 end-0 searchbar_settings text-white collapse\"\n\t\t\t\ttabindex=\"-1\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"types.length > 0\"\n\t\t\t\t\tclass=\"d-flex flex-column m-3\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"fw-light mb-2\">\n\t\t\t\t\t\t{{ $p.t('search/applyfilter_label') }}\n\t\t\t\t\t</span>\n\t\t\t\t\t<template\n\t\t\t\t\t\tv-for=\"(label, value) in typeLabels\"\n\t\t\t\t\t\t:key=\"value\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"form-check form-switch\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"fhc-switches form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\trole=\"switch\"\n\t\t\t\t\t\t\t\t:id=\"$.uid + 'search_type_' + value\"\n\t\t\t\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t\t\t\tv-model=\"searchsettings.types\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tclass=\"ps-2 form-check-label non-selectable\"\n\t\t\t\t\t\t\t\t:for=\"$.uid + 'search_type_' + value\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ label }}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n            </div>\n\t\t</form>\n    `,\n    watch:{\n\t\t'searchsettings.searchstr': function (newSearchValue) {\n\t\t\tif(this.searchoptions.origin){\n\t\t\t\tsessionStorage.setItem(`${this.searchoptions.origin}_searchstr`,newSearchValue);\n\t\t\t}\n\t\t},\n\t\t'searchsettings.types'(newValue) {\n\t\t\tif (Array.isArray(newValue) && newValue.length === 0) {\n\t\t\t\tthis.searchsettings.types = [...this.types];\n\t\t\t}\n\t\t\t// stores the search types in the localstorage, only if the newValue is also an array\n\t\t\tif (Array.isArray(newValue) && this.searchoptions.origin) {\n\t\t\t\tlocalStorage.setItem(`${this.searchoptions.origin}_searchtypes`, JSON.stringify(newValue));\n\t\t\t}\n\t\t\tthis.search();\n\t\t}\n    },\n\tmounted(){\n\t\tthis.settingsDropdown = new bootstrap.Collapse(this.$refs.settings, {\n\t\t\ttoggle: false\n\t\t});\n\n\t\tif (!this.searchoptions.origin){\n\t\t\tconsole.warn(\"No origin defined in the searchoptions for the searchbar, please define the origin property in the searchbaroptions to allow reliable storage of searchstr and searchtypes accross applications.\");\n\t\t}\n\t},\n\tupdated() {\n\t\tif(this.showresult) {\n\t\t\tVue.nextTick(() => {\n\t\t\t\tthis.calcSearchResultHeight();\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\tclearInput() {\n\t\t\tthis.searchsettings.searchstr = \"\";\n\t\t\tthis.hideresult();\n\t\t\tthis.$refs.input.focus();\n\t\t},\n\t\tgetInitiallySelectedTypes() {\n\t\t\tlet result = false;\n\t\t\tif (this.searchoptions.origin) {\n\t\t\t\tlet localStorageValue = localStorage.getItem(`${this.searchoptions.origin}_searchtypes`);\n\t\t\t\tif (localStorageValue) {\n\t\t\t\t\tresult = JSON.parse(localStorageValue);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (result)\n\t\t\t\treturn result;\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn [];\n\t\t\tif (Array.isArray(this.searchoptions.types))\n\t\t\t\treturn [...this.searchoptions.types];\n\t\t\treturn Object.keys(this.searchoptions.types);\n\t\t},\n\t\tgetSearchStr: function(){\n\t\t\tif (!this.searchoptions.origin)\n\t\t\t\treturn '';\n\t\t\treturn sessionStorage.getItem(`${this.searchoptions.origin}_searchstr`) ?? '';\n\t\t},\n\t\tcheckSettingsVisibility: function(event) {\n\t\t\t// hides the settings collapsible if the user clicks somewhere else\n\t\t\tif (!this.$refs.settings.contains(event.target))\n\t\t\t{\n\t\t\t\tthis.settingsDropdown.hide();\n\t\t\t}\n\t\t},\n\t\thandleShowSettings: function() {\n\t\t\t// adds the event listener checkSettingsVisibility only when the collapsible is shown\n\t\t\tdocument.addEventListener(\"click\", this.checkSettingsVisibility);\n\t\t},\n\t\thandleHideSettings: function () {\n\t\t\t// removes the event listener checkSettingsVisibility when the collapsible is hidden\n\t\t\tdocument.removeEventListener(\"click\", this.checkSettingsVisibility);\n\t\t},\n\t\tcalcSearchResultHeight: function() {\n\t\t\tconst rect = this.$refs.results.getBoundingClientRect();\n\t\t\tif( rect.height > 0 && rect.height < (window.innerHeight * 0.8) ) {\n\t\t\t\tthis.$refs.result.style.height = Math.ceil(rect.height + 16) + 'px';\n\t\t\t} else {\n\t\t\t\tthis.$refs.result.style.height = Math.floor(window.innerHeight * 0.8) + 'px';\n\t\t\t}\n\t\t},\n        calcSearchResultExtent: function() {\n\t\t\tif(!this.showresult) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.searchoptions?.calcheightonly === undefined \n\t\t\t\t|| this.searchoptions.calcheightonly === false) {\n\t\t\t\tvar rect = this.$refs.searchbox.getBoundingClientRect();\n\t\t\t\tthis.$refs.result.style.top = Math.floor(rect.bottom + 3) + 'px';\n\t\t\t\tthis.$refs.result.style.right = Math.floor(rect.right) + 'px';\n\t\t\t\tthis.$refs.result.style.width = Math.floor(rect.width) + 'px';\n\t\t\t}\n            this.calcSearchResultHeight();\n        },\n        search: function() {\n            if(this.searchoptions?.nolivesearch === true) return;\n\n            this.abort();\n            if( this.searchsettings.searchstr.length >= 2 ) {\n                this.calcSearchResultExtent();\n                this.searchtimer = setTimeout(\n                    this.callsearchapi,\n                    500\n                );\n            } else {                \n                this.showresult = false;\n            }\n        },\n        abort() {\n            if (this.searchtimer !== null) {\n                clearTimeout(this.searchtimer);\n            }\n            if (this.abortController) {\n                this.abortController.abort();\n                this.abortController = null;\n            }\n            this.searchresult = [];\n        },\n        callsearchapi: function() {\n            this.error = null;\n            this.searchresult.splice(0, this.searchresult.length);\n            this.searching = true;\n            this.showsearchresult();\n            if(this.searchsettings.types.length === 0) {\n                this.error = this.$p.t('search/error_missing_type');\n                this.searching = false;\n                return;\n            }\n\n            if (this.abortController)\n                this.abortController.abort();\n            this.abortController = new AbortController();\n\n            this.searchfunction(this.searchsettings, { timeout: 50000, signal: this.abortController.signal })\n            .then(response=>{\n                if (!response.data) {\n                    this.error = this.$p.t('search/error_general');\n                } else {\n                    let res = response.data.map(el => el.data ? {...el, ...JSON.parse(el.data)} : el);\n                    this.lastQuery = response.meta.searchstring;\n                    if (this.searchoptions.mergeResults) {\n                        let counter = 0;\n                        let mergeTypes = [];\n                        let mergedType = 'merged-';\n                        let mergeKey = '';\n\n                        switch (this.searchoptions.mergeResults) {\n                        case 'student':\n                            mergeTypes = ['student', 'prestudent'];\n                            mergedType += this.searchoptions.mergeResults;\n                            mergeKey = 'uid';\n                            break;\n                        case 'person':\n                            mergeTypes = ['person', 'employee', 'student', 'prestudent'];\n                            mergedType += this.searchoptions.mergeResults;\n                            mergeKey = 'person_id';\n                            break;\n                        }\n\n                        if (mergeTypes.length) {\n                            res = Object.values(res.reduce((a, c) => {\n                                if (!mergeTypes.includes(c.renderer)) {\n                                    a['nomerge' + counter++] = c;\n                                } else if (c[mergeKey] === null) {\n                                    a['nomerge' + counter++] = c;\n                                } else if (a[c[mergeKey]] === undefined) {\n                                    a[c[mergeKey]] = {\n                                        rank: c.rank,\n                                        renderer: mergedType,\n                                        type: mergedType,\n                                        list: [c]\n                                    };\n                                } else {\n                                    a[c[mergeKey]].list.push(c);\n                                    if (c.rank > a[c[mergeKey]].rank)\n                                        a[c[mergeKey]].rank = c.rank;\n                                }\n                                return a;\n                            }, {})).sort((a, b) => b.rank - a.rank);\n                        }\n                    }\n                    this.searchresult = res;\n                    this.searchmode = response.meta.mode;\n                }\n                this.searching = false;\n                this.retry = 0;\n            })\n            .catch(error=> {\n                if (error.code == \"ERR_CANCELED\") {\n                    return this.retry = 0;\n                }\n                if (error.code == \"ECONNABORTED\" && this.retry) {\n                    this.retry--;\n                    return this.callsearchapi();\n                }\n\n                this.error = this.$p.t('search/error_general', error);\n                this.searching = false;\n                this.retry = 0;\n            });\n        },\n        refreshsearch: function() {\n          this.search();\n          this.togglesettings();\n        },\n        hideresult: function() {\n            this.showresult = false;\n            window.removeEventListener('resize', this.calcSearchResultExtent);\n        },\n        showsearchresult: function() {\n            if(this.searchoptions?.nolivesearch === true) return;\n\n            if( this.searchsettings.searchstr.length >= 2 ) {\n                this.showresult = true;\n                window.addEventListener('resize', this.calcSearchResultExtent);\n\t\t\t\tthis.calcSearchResultExtent();\n            }\n        },\n        searchfocusin: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            if( this.hidetimer !== null ) {\n                clearTimeout(this.hidetimer);\n            }\n\t\t\tif (this.searchsettings.searchstr.length >= 2\n\t\t\t\t&& this.searchresult.length === 0) {\n\t\t\t\tthis.search();\n\t\t\t}\n        },\n        searchfocusout: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.hidetimer = setTimeout(\n                this.hideresult,\n                100\n            );\n        },\n        dash2camelCase(string) {\n            return string.replace(/-([a-z])/g, g => g[1].toUpperCase());\n        },\n        isValidRenderer(renderer) {\n            const camelCaseRenderer = this.dash2camelCase(renderer);\n            return Object.keys(this.$.components).includes(camelCaseRenderer);\n        },\n\t\tgetActions(res) {\n\t\t\tlet actions = this.searchoptions.actions[this.dash2camelCase(res.renderer)];\n\t\t\tif (actions) {\n\t\t\t\treturn actions;\n\t\t\t}\n\t\t\treturn this.searchoptions.actions[res.type];\n\t\t}\n    }\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\temits: [\n\t\t'changed'\n\t],\n\tprops: {\n\t\tactiveClass: {\n\t\t\ttype: String,\n\t\t\tdefault: 'active'\n\t\t},\n\t\titemClass: {\n\t\t\ttype: [String, Array, Object],\n\t\t\tdefault: ''\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlanguages: FHC_JS_DATA_STORAGE_OBJECT.server_languages\n\t\t};\n\t}, \n\tmethods:{\n\t\tonChange(lang) {\n\t\t\tif (this.languages.some(l => l.sprache === lang)) {\n\t\t\t\tthis.$p\n\t\t\t\t\t.setLanguage(lang)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (document.querySelector('[cis4Reload]'))\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.$emit('changed', lang);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: /*html*/`\n\t<div class=\"navigation-language d-flex justify-content-center align-items-center flex-nowrap overflow-hidden\">\n\t\t<button\n\t\t\tv-for=\"lang in languages\"\n\t\t\t:class=\"[itemClass, {[activeClass]: $p.user_language.value == lang.sprache}]\"\n\t\t\t:selected=\"$p.user_language.value == lang.sprache\"\n\t\t\t@click.prevent=\"onChange(lang.sprache)\"\n\t\t>\n\t\t\t{{ lang.bezeichnung }}\n\t\t</button>\n\t</div>`\n};","export default {\n    name: 'VerticalSplit',\n    data: function() {\n      return {          \n          availHeight: 0,\n          topheight: 0,\n          bottomheight: 0,\n          mousePosY: 0, \n          resize: false,\n          vsplitter: null,\n          vsplitterOffset: 0,\n          selfOffsetTop: 0\n      };  \n    },\n    template: `\n    <div ref=\"verticalsplit\">\n        <div ref=\"toppanel\" class=\"verticalsplitted\" \n             :style=\"{height: this.topheightcss}\">\n            <slot name=\"top\">\n                <p>Top Panel</p>\n            </slot>\n        </div>\n        <div ref=\"vsplitter\" class=\"verticalsplitter\" \n             :class=\"this.topOrBottomClass\" @mousedown=\"this.dragStart\">\n            <div class=\"splitactions\" :class=\"this.topOrBottomClass\">\n                <span @click=\"this.collapseTop\" class=\"splitaction\">\n                    <i class=\"fas fa-angle-up text-muted\"></i>\n                </span>\n                <span @dblclick=\"this.showBoth\" class=\"splitaction resize\">\n                    <i class=\"fas fa-grip-lines text-muted\"></i>\n                </span>\n                <span @click=\"this.collapseBottom\" class=\"splitaction\">\n                    <i class=\"fas fa-angle-down text-muted\"></i>\n                </span>\n            </div>\n        </div>\n        <div ref=\"bottompanel\" class=\"verticalsplitted\"\n             :style=\"{height: this.bottomheightcss}\">\n            <slot name=\"bottom\">\n                <p/>\n            </slot>\n        </div>\n    </div>\n    `,\n    mounted: function() {\n        this.calcHeights();\n        this.trackVerticalSplitterOffsetTop();\n        window.addEventListener('resize', this.calcHeights);\n    },\n    updated: function() {\n        this.trackVerticalSplitterOffsetTop();\n    },\n    methods: {\n        calcHeights: function() {\n            var windowheight = window.innerHeight;\n            var oldavailHeight = this.availHeight;\n            this.selfOffsetTop = this.$refs.verticalsplit.offsetTop;\n            this.availHeight = windowheight - this.selfOffsetTop - this.$refs.vsplitter.offsetHeight;\n            if( (this.topheight === 0 && this.bottomheight === 0) || oldavailHeight === 0 ) {\n                this.topheight = Math.floor(this.availHeight/2);\n            } else {\n                this.topheight = Math.floor( ((((this.topheight * 100) / oldavailHeight) / 100) * this.availHeight) );\n            }\n            this.bottomheight = this.availHeight - this.topheight;\n        },\n        collapseTop: function() {\n            this.calcHeights();\n            this.topheight = 0;\n            this.bottomheight = this.availHeight;\n        },\n        collapseBottom: function() {\n            this.calcHeights();\n            this.topheight = this.availHeight;\n            this.bottomheight = 0;\n        },\n        showBoth: function() {\n            this.topheight = Math.floor(this.availHeight/2);\n            this.bottomheight = Math.floor(this.availHeight/2);\n        },\n        isCollapsed: function() {\n            if( this.topheight === 0 ) {\n                return 'top';\n            } else if ( this.bottomheight === 0 ) {\n                return 'bottom';\n            } else {\n                return false;\n            }\n        },\n        dragStart: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            window.addEventListener('mouseup', this.dragEnd);\n            window.addEventListener('mousemove', this.drag);\n            this.resize = true;\n            this.mousePosY = e.clientY;\n        },\n        drag: function(e) {\n            if( !this.resize ) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            var offsetY = e.clientY - this.mousePosY;\n            this.topheight = this.topheight + offsetY;\n            if( this.topheight < 0 ) {\n                this.topheight = 0;\n            }\n            if( this.topheight > this.availHeight ) {\n                this.topheight = this.availHeight;\n            }\n            this.bottomheight = this.availHeight - this.topheight;\n            this.mousePosY = e.clientY;\n        },\n        dragEnd: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            window.removeEventListener('mousemove', this.drag);\n            window.removeEventListener('mouseup', this.dragEnd);\n            this.resize = false;\n            this.mousePosY = e.clientY;\n        },\n        trackVerticalSplitterOffsetTop: function() {\n            this.vsplitterOffset = this.$refs.vsplitter.offsetTop;\n        }\n    },\n    computed: {\n        topOrBottomClass: function() {\n            return ((this.vsplitterOffset - this.selfOffsetTop) <= Math.floor(this.availHeight/2))\n                        ? 'top'\n                        : 'bottom';\n        },\n        topheightcss: function() {\n            return this.topheight + 'px';\n        },\n        bottomheightcss: function() {\n            return this.bottomheight + 'px';\n        }\n    }\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/header',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t},\n\tgetMenu(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/menu',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport ApiNavigation from '../api/factory/navigation.js';\n\nexport default {\n\tname: 'AppMenu',\n\tprops: {\n\t\tappIdentifier: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tnavigationPage: {\n\t\t\ttype: String,\n\t\t\tdefault: 'apps'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: []\n\t\t};\n\t},\n\twatch: {\n\t\tnavigationPage() {\n\t\t\tthis.getItems();\n\t\t}\n\t},\n\tmethods: {\n\t\tgetItems() {\n\t\t\tthis.$api\n\t\t\t\t.call(ApiNavigation.getMenu(this.navigationPage))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.items = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.getItems();\n\t},\n\ttemplate: /* html */`\n\t<ul class=\"fhc-app-menu\">\n\t\t<li v-for=\"(menu, key) in items\" :key=\"key\">\n\t\t\t<a\n\t\t\t\t:href=\"menu.link\"\n\t\t\t\t@click=\"menu.onClickCall\"\n\t\t\t\t:class=\"{ active: key === appIdentifier }\"\n\t\t\t>\n\t\t\t\t<i v-if=\"menu.icon\" class=\"fa fa-fw\" :class=\"'fa-'+ menu.icon\" />\n\t\t\t\t{{ menu.description }}\n\t\t\t</a>\n\t\t</li>\n\t\t<slot />\n\t</ul>`\n};\n","//import Phrasen from '../../plugin/Phrasen.js';\n\nexport default {\n\tname: 'BootstrapModal',\n\tdata: () => ({\n\t\tmodal: null,\n\t\tfullscreen: false\n\t}),\n\tprops: {\n\t\tbackdrop: {\n\t\t\ttype: [Boolean,String],\n\t\t\tdefault: true,\n\t\t\tvalidator(value) {\n\t\t\t\treturn ['static', true, false].includes(value);\n\t\t\t}\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tkeyboard: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tnoCloseBtn: Boolean,\n\t\tdialogClass: [String,Array,Object],\n\t\theaderClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tbodyClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: 'px-4 py-5'\n\t\t},\n\t\tfooterClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tallowFullscreenExpand: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\temits: [\n\t\t\"hideBsModal\",\n\t\t\"hiddenBsModal\",\n\t\t\"hidePreventedBsModal\",\n\t\t\"showBsModal\",\n\t\t\"shownBsModal\"\n\t],\n\tmethods: {\n\t\tdispose() {\n\t\t\treturn this.modal.dispose();\n\t\t},\n\t\thandleUpdate() {\n\t\t\treturn this.modal.handleUpdate();\n\t\t},\n\t\thide() {\n\t\t\treturn this.modal.hide();\n\t\t},\n\t\tshow(relatedTarget) {\n\t\t\treturn this.modal.show(relatedTarget);\n\t\t},\n\t\ttoggle() {\n\t\t\treturn this.modal.toggle();\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tthis.fullscreen = !this.fullscreen\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.$refs.modal)\n\t\t\tthis.modal = new bootstrap.Modal(this.$refs.modal, {\n\t\t\t\tbackdrop: this.backdrop,\n\t\t\t\tfocus: this.focus,\n\t\t\t\tkeyboard: this.keyboard\n\t\t\t});\n\t},\n\tpopup(body, options, title, footer) {\n\t\tconst BsModal = this,\n\t\t\tslots = {};\n\t\tif (body !== undefined)\n\t\t\tslots.default = () => body;\n\t\tif (title !== undefined)\n\t\t\tslots.title = () => title;\n\t\tif (footer !== undefined)\n\t\t\tslots.footer = () => footer;\n\n\t\t// little hack to check whether primevue is included in the app or not\n\t\tlet includedPrimevue = false;\n\t\tif(typeof primevue !== 'undefined'){\n\t\t\tincludedPrimevue = true;\n\t\t}\n\n\t\treturn new Promise((resolve,reject) => {\n\t\t\tconst instance = Vue.createApp({\n\t\t\t\tname: 'ModalTmpApp',\n\t\t\t\tsetup() {\n\t\t\t\t\treturn () => Vue.h(BsModal, {...{\n\t\t\t\t\t\tclass: 'fade'\n\t\t\t\t\t},...options, ...{\n\t\t\t\t\t\tref: 'modal',\n\t\t\t\t\t\t'onHidden.bs.modal': instance.unmount\n\t\t\t\t\t}}, slots);\n\t\t\t\t},\n\t\t\t\tmounted() {\n\t\t\t\t\tthis.$refs.modal.show();\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tbeforeUnmount() {\n\t\t\t\t\tif (this.$refs.modal)\n\t\t\t\t\t\tthis.$refs.modal.result !== false ? resolve(this.$refs.modal.result) : reject();\n\t\t\t\t},\n\t\t\t\tunmounted() {\n\t\t\t\t\twrapper.parentElement.removeChild(wrapper);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst wrapper = document.createElement(\"div\");\n\t\t\t\n\t\t\t// if(primevue) --> won't work because primevue is not defined in this scope and promise would be rejected\n\t\t\tif (includedPrimevue){\n\t\t\t\tinstance.use(primevue.config.default, {zIndex: {overlay: 9999}})\n\t\t\t}\n\t\t\t\t \n\t\t\t//instance.use(Phrasen); // TODO(chris): find a more dynamic way\n\t\t\timport('../../plugins/Phrasen.js').then((Phrasen) => {\n\t\t\t\tinstance.use(Phrasen.default);\n\t\t\t\tinstance.mount(wrapper);\n\t\t\t\tdocument.body.appendChild(wrapper);\n\t\t\t});\n\t\t});\n\t},\n\ttemplate: `<div ref=\"modal\" class=\"bootstrap-modal modal\" tabindex=\"-1\" @[\\`hide.bs.modal\\`]=\"$emit('hideBsModal')\" @[\\`hidden.bs.modal\\`]=\"$emit('hiddenBsModal')\" @[\\`hidePrevented.bs.modal\\`]=\"$emit('hidePreventedBsModal')\" @[\\`show.bs.modal\\`]=\"$emit('showBsModal')\" @[\\`shown.bs.modal\\`]=\"$emit('shownBsModal')\">\n\t\t<div class=\"modal-dialog\" :class=\"fullscreen ? 'modal-fullscreen' : dialogClass\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<div v-if=\"$slots.title\" class=\"modal-header\" :class=\"headerClass\">\n\t\t\t\t\t<h5 class=\"modal-title\"><slot name=\"title\"/></h5>\n\t\t\t\t\t<div class=\"d-flex align-items-center ms-auto\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn ms-auto\" style=\"filter: invert(1)\" v-if=\"allowFullscreenExpand\" @click=\"toggleFullscreen\">\n\t\t\t\t\t\t  <i v-if=\"!fullscreen\" class=\"fa-solid fa-expand\"></i>\n\t\t\t\t\t\t  <i v-else class=\"fa-solid fa-compress\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button v-if=\"!noCloseBtn\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<slot name=\"modal-header-content\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-body\" :class=\"bodyClass\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"$slots.footer\" class=\"modal-footer\" :class=\"footerClass\">\n\t\t\t\t\t<slot name=\"footer\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n}\n","export default {\n\trender() {\n\t\treturn (this.$slots && this.$slots.default) ? this.$slots.default() : null;\n\t}\n};","import FhcFragment from \"../Fragment.js\";\n\nexport default {\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\t$registerToForm: component => {\n\t\t\t\tif (this.inputs.indexOf(component) < 0)\n\t\t\t\t\tthis.inputs.push(component);\n\t\t\t},\n\t\t\t$clearValidationForName: this.clearValidationForName\n\t\t};\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'form'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinputs: []\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedInputs() {\n\t\t\treturn this.inputs.reduce((a,c) => {\n\t\t\t\tlet name = c.name || '_default';\n\t\t\t\tif (!a[name])\n\t\t\t\t\ta[name] = [];\n\t\t\t\ta[name].push(c);\n\n\t\t\t\tif (c.lcType == 'checkbox' && name.substr(-1) == ']' && name.indexOf('[')) {\n\t\t\t\t\tname = name.substr(0, name.lastIndexOf('['));\n\t\t\t\t\tif (!a[name])\n\t\t\t\t\t\ta[name] = [];\n\t\t\t\t\ta[name].push(c);\n\t\t\t\t}\n\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t},\n\t\t/* Deprecated Code start */\n\t\tfactory() {\n\t\t\tconsole.warn('<form>.factory is deprecated! Use <form>.call() instead.');\n\t\t\tconst factory = Object.create(Object.getPrototypeOf(this.$fhcApi.factory), Object.getOwnPropertyDescriptors(this.$fhcApi.factory));\n\t\t\tfactory.$fhcApi = {\n\t\t\t\tget: this.get,\n\t\t\t\tpost: this.post,\n\t\t\t\t_defaultErrorHandlers: this.$fhcApi._defaultErrorHandlers\n\t\t\t};\n\t\t\treturn factory;\n\t\t}\n\t\t/* Deprecated Code end */\n\t},\n\tmethods: {\n\t\tget(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.get(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.get(...args);\n\t\t},\n\t\tpost(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.post(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.post(...args);\n\t\t},\n\t\tcall(factory, overwriteconfig) {\n\t\t\treturn this.$api.call(factory, overwriteconfig, this);\n\t\t},\n\t\t_sendFeedbackToInput(inputs, feedback, valid) {\n\t\t\tif (inputs.length) {\n\t\t\t\tinputs.forEach(input => input.setFeedback(valid, feedback));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.$fhcAlert) {\n\t\t\t\tthis.$fhcAlert[valid ? 'alertSuccess' : 'alertError'](feedback);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (Array.isArray(feedback)) {\n\t\t\t\tlet remaining = feedback.filter(fb => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? remaining : null;\n\t\t\t}\n\t\t\tif (typeof feedback === 'object') {\n\t\t\t\tlet remaining = Object.entries(feedback).filter(([name, fb]) => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? Object.fromEntries(remaining) : null;\n\t\t\t}\n\n\t\t\tlet remaining = this._sendFeedbackToInput(\n\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\tfeedback,\n\t\t\t\tvalid\n\t\t\t);\n\t\t\treturn remaining ? feedback : null;\n\t\t},\n\t\tclearValidation() {\n\t\t\tthis.inputs.forEach(input => input.clearValidation());\n\t\t},\n\t\tsend(promise) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tpromise.then(result => {\n\t\t\t\t\tif (result?.status == 200 && result.data) {\n\t\t\t\t\t\tif (typeof result.data !== 'object' || !result.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tif (result.data.error)\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tconst data = result.data.retval;\n\t\t\t\t\t\t// TODO(chris): check for something better/add new standardized return value\n\t\t\t\t\t\tif (result.data.code == 1)\n\t\t\t\t\t\t\tthis.setFeedback(true, data);\n\t\t\t\t\t\treturn resolve(data);\n\t\t\t\t\t}\n\t\t\t\t\t// TODO(chris): IMPLEMENT! Wrong result object\n\t\t\t\t\treject(result);\n\t\t\t\t}).catch(result => {\n\t\t\t\t\tif (result?.response?.status == 400 && result.response.data) {\n\t\t\t\t\t\tif (typeof result.response.data !== 'object' || !result.response.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tthis.clearValidation();\n\t\t\t\t\t\tconst remaining = this.setFeedback(\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tresult.response.data.retval\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (remaining) {\n\t\t\t\t\t\t\tresult.response.data.retval = remaining;\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (result?.response?.status == 500) {\n\t\t\t\t\t\tif (this.$fhcAlert)\n\t\t\t\t\t\t\tthis.$fhcAlert.handleSystemError(result);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tclearValidationForName(name) {\n\t\t\t(this.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [])\n\t\t\t\t.forEach(input => input.clearValidation());\n\t\t}\n\t},\n\ttemplate: `\n\t<component :is=\"tag || 'FhcFragment'\" v-bind=\"$attrs\">\n\t\t<slot></slot>\n\t</component>`\n}\n","import FhcFragment from \"../Fragment.js\";\n\nlet _uuid = {};\n\nexport default {\n\tname: \"FormInput\",\n\tinheritAttrs: false,\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tinject: {\n\t\tregisterToForm: {\n\t\t\tfrom: '$registerToForm',\n\t\t\tdefault: null\n\t\t},\n\t\tclearValidationForName: {\n\t\t\tfrom: '$clearValidationForName',\n\t\t\tdefault: null\n\t\t}\n\t},\n\tprops: {\n\t\tbsFeedback: Boolean,\n\t\tnoAutoClass: Boolean,\n\t\tnoFeedback: Boolean,\n\t\tinputGroup: Boolean,\n\t\ttype: String,\n\t\tname: String,\n\t\tcontainerClass: [String, Array, Object],\n\t\tlabel: String,\n\t\t// NOTE(chris): remove these from $attrs array to prevent doubled event listeners\n\t\tonInput: [Array, Function],\n\t\t'onUpdate:modelValue': [Array, Function]\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvalid: undefined,\n\t\t\tfeedback: [],\n\t\t\tmodelValueDummy: undefined\n\t\t}\n\t},\n\tcomputed: {\n\t\thasContainer() {\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn true;\n\t\t\tif (this.containerClass)\n\t\t\t\treturn true;\n\t\t\tfor (const prop in this.autoContainerClass)\n\t\t\t\tif (Object.hasOwn(this.autoContainerClass, prop))\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t},\n\t\tacc() {\n\t\t\tif (!this.containerClass)\n\t\t\t\treturn {};\n\t\t\tif (typeof this.containerClass === 'string' || this.containerClass instanceof String)\n\t\t\t\treturn this.containerClass.split(' ').reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\tif (Array.isArray(this.containerClass))\n\t\t\t\treturn this.containerClass.reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\treturn this.containerClass;\n\t\t},\n\t\tautoContainerClass() {\n\t\t\tif (this.noAutoClass)\n\t\t\t\treturn this.acc;\n\t\t\t\n\t\t\tconst acc = {...this.acc};\n\t\t\t\n\t\t\tif (this.inputGroup)\n\t\t\t\tacc['input-group-item'] = true;\n\n\t\t\tif (this.lcType == 'radio' || this.lcType == 'checkbox')\n\t\t\t\tacc['form-check'] = true;\n\t\t\t\n\t\t\tif (this.inputGroup && acc['form-check']) {\n\t\t\t\tacc['input-group-item'] = false;\n\t\t\t\tacc['form-check'] = false;\n\t\t\t\tacc['input-group-text'] = true;\n\t\t\t}\n\t\t\treturn acc;\n\t\t},\n\t\tlcType() {\n\t\t\tif (!this.type)\n\t\t\t\treturn 'text';\n\t\t\treturn this.type.toLowerCase();\n\t\t},\n\t\ttag() {\n\t\t\tswitch (this.lcType) {\n\t\t\t\tcase 'textarea':\n\t\t\t\tcase 'select':\n\t\t\t\t\treturn this.lcType;\n\t\t\t\tcase 'datepicker':\n\t\t\t\t\treturn 'VueDatePicker';\n\t\t\t\tcase 'autocomplete':\n\t\t\t\t\treturn 'PvAutocomplete';\n\t\t\t\tcase 'uploadimage':\n\t\t\t\t\treturn 'UploadImage';\n\t\t\t\tcase 'uploadfile':\n\t\t\t\tcase 'uploaddms':\n\t\t\t\t\treturn 'UploadDms';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'input';\n\t\t\t}\n\t\t},\n\t\tvalidationClass() {\n\t\t\tconst classes = [];\n\t\t\tif (this.valid)\n\t\t\t\tclasses.push('is-valid');\n\t\t\telse if (this.valid === false)\n\t\t\t\tclasses.push('is-invalid');\n\t\t\t\n\t\t\tif (!this.noAutoClass) {\n\t\t\t\tlet c = this.$attrs.class ? this.$attrs.class.split(' ') : [];\n\t\t\t\tswitch (this.lcType) {\n\t\t\t\t\t// TODO(chris): complete list!\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tif (!c.includes('form-select'))\n\t\t\t\t\t\t\tclasses.push('form-select');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'range':\n\t\t\t\t\t\tif (!c.includes('form-range'))\n\t\t\t\t\t\t\tclasses.push('form-range');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t// TODO(chris): maybe different handling?\n\t\t\t\t\t\tif (!c.includes('form-check-input') && !c.includes('btn-check'))\n\t\t\t\t\t\t\tclasses.push('form-check-input');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tif (!c.includes('form-control-color'))\n\t\t\t\t\t\t\tclasses.push('form-control-color');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'autocomplete':\n\t\t\t\t\tcase 'datepicker':\n\t\t\t\t\t\tclasses.push('p-0');\n\t\t\t\t\t\tclasses.push('border-0');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'number':\n\t\t\t\t\tcase 'password':\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tfeedbackClass() {\n\t\t\tif (!this.feedback || this.feedback === true)\n\t\t\t\treturn '';\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn {\n\t\t\t\t\t'valid-tooltip': this.valid === true,\n\t\t\t\t\t'invalid-tooltip': this.valid === false\n\t\t\t\t};\n\t\t\treturn {\n\t\t\t\t'valid-feedback': this.valid === true,\n\t\t\t\t'invalid-feedback': this.valid === false\n\t\t\t};\n\t\t},\n\t\tmodelValueCmp: {\n\t\t\tget() {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\treturn this.modelValueDummy;\n\t\t\t\treturn this.$attrs.modelValue;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\tthis.modelValueDummy = v;\n\t\t\t\tthis.$emit('update:modelValue', v);\n\t\t\t}\n\t\t},\n\t\tidCmp() {\n\t\t\tlet uuid = this.$attrs.id;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = this.$attrs.uid;\n\t\t\tif (!uuid && this.label)\n\t\t\t\tuuid = 'fhc-form-input';\n\t\t\tif (!uuid)\n\t\t\t\treturn undefined;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = 'dp-input-' + uuid;\n\t\t\tif (_uuid[uuid] === undefined)\n\t\t\t\t_uuid[uuid] = 0;\n\t\t\treturn uuid + '-' + (_uuid[uuid]++);\n\t\t}\n\t},\n\tmethods: {\n\t\tclearValidation() {\n\t\t\tthis.valid = undefined;\n\t\t\tthis.feedback = [];\n\t\t},\n\t\tclearValidationForThisName() {\n\t\t\tif (this.valid === undefined)\n\t\t\t\treturn;\n\t\t\tif (this.clearValidationForName && this.name)\n\t\t\t\tthis.clearValidationForName(this.name);\n\t\t\telse\n\t\t\t\tthis.clearValidation();\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (!feedback)\n\t\t\t\tfeedback = [];\n\t\t\tif (!Array.isArray(feedback))\n\t\t\t\tfeedback = [feedback];\n\t\t\tthis.valid = valid;\n\t\t\t// NOTE(chris): On a list of radios/checkboxes only add the feedback message to the last item\n\t\t\tif (this.name && (this.lcType == 'radio' || this.lcType == 'checkbox')) {\n\t\t\t\tconst selector = 'input[type=\"' + this.lcType + '\"][name=\"' + this.name + '\"]';\n\t\t\t\tif ([...this.$el.parentNode.querySelectorAll(selector)].pop() != this.$refs.input)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.feedback = feedback;\n\t\t},\n\t\t_loadComponents() {\n\t\t\tif (this.tag == 'VueDatePicker' && !this._.components.VueDatePicker) {\n\t\t\t\tthis._.components.VueDatePicker = Vue.defineAsyncComponent(() => import(\"../vueDatepicker.js.php\"));\n\t\t\t} else if (this.tag == 'PvAutocomplete' && !this._.components.PvAutocomplete) {\n\t\t\t\tthis._.components.PvAutocomplete = primevue.autocomplete;\n\t\t\t} else if (this.tag == 'UploadImage' && !this._.components.UploadImage) {\n\t\t\t\tthis._.components.UploadImage = Vue.defineAsyncComponent(() => import(\"./Upload/Image.js\"));\n\t\t\t} else if (this.tag == 'UploadDms' && !this._.components.UploadDms) {\n\t\t\t\tthis._.components.UploadDms = Vue.defineAsyncComponent(() => import(\"./Upload/Dms.js\"));\n\t\t\t}\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis._loadComponents();\n\t},\n\tbeforeUpdate() {\n\t\tthis._loadComponents();\n\t},\n\tmounted() {\n\t\tif (this.registerToForm)\n\t\t\tthis.registerToForm(this);\n\t},\n\ttemplate: `\n\t<component :is=\"!hasContainer ? 'FhcFragment' : 'div'\" class=\"position-relative\" :class=\"autoContainerClass\">\n\t\t<label v-if=\"label && lcType != 'radio' && lcType != 'checkbox'\" :class=\"!noAutoClass && 'form-label'\" :for=\"idCmp\">{{label}}</label>\n\t\t<input v-if=\"tag == 'input'\" :type=\"lcType\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t<textarea v-else-if=\"tag == 'textarea'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\"></textarea>\n\t\t<select v-else-if=\"tag == 'select'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t\t<slot></slot>\n\t\t</select>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'VueDatePicker'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:uid=\"idCmp ? idCmp.substr(9) : idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class-name=\n\t\t\t\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class-name'] ? $attrs['input-class-name'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'PvAutocomplete'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:input-props=\"{name}\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class'] ? $attrs['input-class'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t\t<template #chip=\"data\"><slot name=\"chip\" v-bind=\"data\"></slot></template>\n\t\t\t<template #header=\"data\"><slot name=\"header\" v-bind=\"data\"></slot></template>\n\t\t\t<template #footer=\"data\"><slot name=\"footer\" v-bind=\"data\"></slot></template>\n\t\t\t<template #option=\"data\"><slot name=\"option\" v-bind=\"data\"></slot></template>\n\t\t\t<template #optiongroup=\"data\"><slot name=\"optiongroup\" v-bind=\"data\"></slot></template>\n\t\t\t<template #content=\"data\"><slot name=\"content\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loader=\"data\"><slot name=\"loader\" v-bind=\"data\"></slot></template>\n\t\t\t<template #empty=\"data\"><slot name=\"empty\" v-bind=\"data\"></slot></template>\n\t\t\t<template #dropdownicon=\"data\"><slot name=\"dropdownicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #removetokenicon=\"data\"><slot name=\"removetokenicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loadingicon=\"data\"><slot name=\"loadingicon\" v-bind=\"data\"></slot></template>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'UploadDms'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"validationClass\"\n\t\t\t:no-list=\"inputGroup\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<label v-if=\"label && (lcType == 'radio' || lcType == 'checkbox')\" :for=\"idCmp\" :class=\"!noAutoClass && 'form-check-label'\" v-html=\"label\"></label>\n\t\t<div v-if=\"valid !== undefined && feedback.length && !noFeedback\" :class=\"feedbackClass\">\n\t\t\t<template v-for=\"(msg, i) in feedback\" :key=\"i\">\n\t\t\t\t<hr v-if=\"i\" class=\"m-0\">\n\t\t\t\t{{msg}}\n\t\t\t</template>\n\t\t</div>\n\t</component>\n\t`\n}\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport BsModal from \"./Bootstrap/Modal.js\";\nimport FhcForm from \"./Form/Form.js\";\nimport FormInput from \"./Form/Input.js\";\n\n\nexport default {\n\tname: 'AppConfig',\n\tcomponents: {\n\t\tBsModal,\n\t\tFhcForm,\n\t\tFormInput\n\t},\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tendpoints: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsetup: {},\n\t\t\ttempValues: {}\n\t\t};\n\t},\n\twatch: {\n\t\t'$p.user_language.value'(n, o) {\n\t\t\tif (n !== o && o !== undefined && Object.keys(this.setup).length) {\n\t\t\t\tthis.$api\n\t\t\t\t\t.call(this.endpoints.get())\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tthis.setup = {};\n\t\t\t\t\t\tObject.keys(res.data).forEach(key => {\n\t\t\t\t\t\t\tconst binding = { ...res.data[key] };\n\t\t\t\t\t\t\tdelete binding.value;\n\t\t\t\t\t\t\tdelete binding.options;\n\t\t\t\t\t\t\tconst options = res.data[key].options;\n\t\t\t\t\t\t\tthis.setup[key] = {\n\t\t\t\t\t\t\t\tbinding,\n\t\t\t\t\t\t\t\toptions\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(this.$fhcAlert.handleSystemErrors);\n\t\t\t}\n\t\t}\n\n\t},\n\tmethods: {\n\t\tupdate() {\n\t\t\tthis.$refs.form\n\t\t\t\t.call(this.endpoints.set(this.tempValues))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$emit('update:modelValue', { ...this.tempValues });\n\t\t\t\t\tthis.$refs.modal.hide();\n\t\t\t\t\tthis.$fhcAlert.alertSuccess(this.$p.t('ui/settings_saved'));\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemErrors);\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.$api\n\t\t\t.call(this.endpoints.get())\n\t\t\t.then(res => {\n\t\t\t\tObject.keys(res.data).forEach(key => {\n\t\t\t\t\tconst binding = { ...res.data[key] };\n\t\t\t\t\tdelete binding.value;\n\t\t\t\t\tdelete binding.options;\n\t\t\t\t\tconst options = res.data[key].options;\n\t\t\t\t\tthis.tempValues[key] = res.data[key].value;\n\t\t\t\t\tthis.setup[key] = {\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\toptions\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tthis.$emit('update:modelValue', { ...this.tempValues });\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemErrors);\n\t},\n\ttemplate: /* html */`\n\t<fhc-form class=\"stv-config\" ref=\"form\" @submit.prevent=\"update\">\n\t\t<bs-modal\n\t\t\tref=\"modal\"\n\t\t\tclass=\"fade\"\n\t\t\tid=\"configModal\"\n\t\t\tdialog-class=\"modal-lg\"\n\t\t\t@hidden-bs-modal=\"tempValues = { ...modelValue }\"\n\t\t>\n\t\t\t<template #title>{{ $p.t('ui/settings') }}</template>\n\t\t\t<template #default>\n\t\t\t\t<div class=\"d-flex flex-column gap-5\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\tv-for=\"(value, key) in setup\"\n\t\t\t\t\t\tv-model=\"tempValues[key]\"\n\t\t\t\t\t\tv-bind=\"value.binding\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"(label, val) in value.options\"\n\t\t\t\t\t\t\t:key=\"val\"\n\t\t\t\t\t\t\t:value=\"val\"\n\t\t\t\t\t\t>{{ label }}</option>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template #footer>\n\t\t\t\t<button class=\"btn btn-primary\" type=\"submit\">\n\t\t\t\t\t{{ $p.t('ui/speichern') }}\n\t\t\t\t</button>\n\t\t\t</template>\n\t\t</bs-modal>\n\t</fhc-form>`\n};\n","/**\n * TODO(chris): This is only a prototype!!!\n */\n\nconst TYPE_DEFINITION = {\n\tlehreinheit: {\n\t\tid: \"lehreinheit_id\",\n\t\tdragIcon: \"fa-solid fa-chalkboard-user\",\n\t\textras: [\n\t\t\t\"stundenblockung\"\n\t\t]\n\t},\n\tvevent: {\n\t\tid: \"uid\",\n\t\tdragIcon: \"fa-solid fa-calendar\",\n\t\textras: [\n\t\t\t\"dtstart\",\n\t\t\t\"dtend\",\n\t\t\t\"summary\"\n\t\t]\n\t},\n\tperson: {\n\t\tid: \"person_id\",\n\t\tdragIcon: \"fa-solid fa-user\"\n\t},\n\tstudent: {\n\t\tid: \"student_uid\",\n\t\tdragIcon: \"fa-solid fa-user-graduate\"\n\t},\n\tprestudent: {\n\t\tid: \"prestudent_id\",\n\t\tdragIcon: \"fa-solid fa-user-graduate text-muted\"\n\t}\n\t// TODO: IMPLEMENT OTHER TYPES\n};\n\nconst VALID_TYPES = Object.keys(TYPE_DEFINITION);\n\nconst TYPE_CONSTANTS = Object.keys(TYPE_DEFINITION).reduce((res, type) => {\n\tres['TYPE_' + type.toUpperCase()] = type;\n\treturn res;\n}, {});\n\nfunction isValidDragObject(value) {\n\tif (!value)\n\t\treturn false;\n\tif (Array.isArray(value))\n\t\treturn value.every(isValidDragObject);\n\tif (!value.type)\n\t\treturn false;\n\n\tif (value.type.substr(-11) == '-collection') {\n\t\tif (!Object.prototype.hasOwnProperty.call(value, 'values'))\n\t\t\treturn false;\n\n\t\tif (!VALID_TYPES.includes(value.type.substr(0, value.type.length-11)))\n\t\t\treturn false;\n\t} else {\n\t\tif (!Object.prototype.hasOwnProperty.call(value, 'id'))\n\t\t\treturn false;\n\n\t\tif (!VALID_TYPES.includes(value.type))\n\t\t\treturn false;\n\n\t\tif (TYPE_DEFINITION[value.type].extras) {\n\t\t\tif (!TYPE_DEFINITION[value.type].extras.every(extra => Object.prototype.hasOwnProperty.call(value, extra)))\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction getValidTransferData(event, allowedTypes, strict) {\n\tlet obj = null;\n\n\ttry {\n\t\tobj = getTransferData(event, strict);\n\t\tif (!obj)\n\t\t\treturn null;\n\n\t\tif (!strict && Array.isArray(obj)) {\n\t\t\tobj = obj.filter(isValidDragObject);\n\t\t\tif (!obj.length)\n\t\t\t\treturn null;\n\t\t} else if (!isValidDragObject(obj))\n\t\t\treturn null;\n\n\t\tif (allowedTypes && allowedTypes.length) {\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tif (strict && !obj.every(v => allowedTypes.includes(v.type))) {\n\t\t\t\t\treturn null;\n\t\t\t\t} else if (!strict) {\n\t\t\t\t\tobj = obj.filter(v => allowedTypes.includes(v.type));\n\t\t\t\t\tif (!obj.length)\n\t\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else if (!allowedTypes.includes(obj.type)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t} catch(_error) {\n\t\treturn null;\n\t}\n\n\tif (Array.isArray(obj) && obj.length == 1)\n\t\treturn obj.find(Boolean);\n\n\treturn obj;\n}\n\nfunction isValidTransferData(event, allowedTypes, strict) {\n\treturn getValidTransferData(event, allowedTypes, strict) ? true : false;\n}\n\nfunction getTransferData(event, strict) {\n\tconst result = [];\n\n\tfor (const type of event.dataTransfer.types) {\n\t\tif (type.substr(0, 16) != 'application/fhc-') {\n\t\t\tif (strict)\n\t\t\t\treturn null;\n\t\t\tcontinue;\n\t\t}\n\t\tlet base_type = type.substr(16);\n\t\tlet collection = false;\n\t\tif (base_type.substr(-11) == '-collection') {\n\t\t\tbase_type = base_type.substr(0, base_type.length-11);\n\t\t\tcollection = true;\n\t\t}\n\t\tif (!VALID_TYPES.includes(base_type)) {\n\t\t\tif (strict)\n\t\t\t\treturn null;\n\t\t\tcontinue;\n\t\t}\n\t\tlet data = JSON.parse(event.dataTransfer.getData(type));\n\t\tif (collection)\n\t\t\tresult.push(...data.values);\n\t\telse\n\t\t\tresult.push(data);\n\t}\n\n\tif (!result.length)\n\t\treturn null;\n\n\tif (result.length == 1)\n\t\treturn result[0];\n\n\treturn result;\n}\n\nfunction convertToValidDragObject(data, strict) {\n\tif (Array.isArray(data)) {\n\t\tconst converted = data.map(convertToValidDragObject).filter(Boolean);\n\t\tif (!converted.length)\n\t\t\treturn undefined;\n\t\tif (strict && converted.length != data.length)\n\t\t\treturn undefined;\n\n\t\tconst sorted = converted.reduce((res, item) => {\n\t\t\tif (!res[item.type])\n\t\t\t\tres[item.type] = [];\n\t\t\tres[item.type].push(item);\n\t\t\treturn res;\n\t\t}, {});\n\n\t\treturn Object.entries(sorted).map(([type, values]) => {\n\t\t\tif (values.length > 1) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: type + '-collection',\n\t\t\t\t\tvalues\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn values[0];\n\t\t});\n\t}\n\n\tif (Object.prototype.hasOwnProperty.call(data, 'type') && isValidDragObject(data)) {\n\t\treturn data;\n\t}\n\n\tconst found = Object.entries(TYPE_DEFINITION).find(([ , typedef ]) => {\n\t\tif (!Object.prototype.hasOwnProperty.call(data, typedef.id))\n\t\t\treturn false;\n\t\tif (typedef.extras) {\n\t\t\tif (!typedef.extras.every(extra => Object.prototype.hasOwnProperty.call(data, extra)))\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n\n\tif (!found) {\n\t\treturn undefined;\n\t}\n\n\tconst [ type, typedef ] = found;\n\n\tconst newData = {};\n\tnewData.type = type;\n\tnewData.id = data[typedef.id];\n\tif (typedef.extras)\n\t\ttypedef.extras.forEach(extra => newData[extra] = data[extra]);\n\n\treturn newData;\n}\n\nfunction setTransferData(event, validDragObject, setDragImage = false) {\n\tif (setDragImage) {\n\t\tconst dragItems = Array.isArray(validDragObject) ? validDragObject : [ validDragObject ];\n\t\tconst dragElements = dragItems.map(item => {\n\t\t\tconst icon = document.createElement('i');\n\t\t\tconst label = document.createElement('span');\n\t\t\tconst iconContainer = document.createElement('span');\n\n\t\t\ticonContainer.className = 'btn btn-outline-dark bg-light';\n\t\t\tlabel.className = 'small';\n\n\t\t\tif (TYPE_DEFINITION[item.type]) {\n\t\t\t\ticon.className = TYPE_DEFINITION[item.type].dragIcon || 'fa-solid fa-question';\n\t\t\t\tlabel.textContent = item.id;\n\t\t\t} else if (item.type.substr(-11) == '-collection' && TYPE_DEFINITION[item.type.substr(0, item.type.length-11)]) {\n\t\t\t\ticonContainer.style.boxShadow = '3px 3px var(--bs-btn-border-color)';\n\t\t\t\ticon.className = TYPE_DEFINITION[item.type.substr(0, item.type.length-11)].dragIcon || 'fa-solid fa-question';\n\t\t\t\tlabel.textContent = 'x' + item.values.length;\n\t\t\t} else {\n\t\t\t\ticon.className = 'fa-solid fa-question';\n\t\t\t\tlabel.textContent = item.id || '';\n\t\t\t}\n\t\t\t\n\t\t\ticonContainer.append(icon);\n\n\t\t\tconst itemContainer = document.createElement('div');\n\t\t\titemContainer.className = 'd-flex flex-column align-items-center gap-2 small';\n\t\t\titemContainer.append(iconContainer, label);\n\t\t\treturn itemContainer;\n\t\t});\n\n\t\tconst container = document.createElement('div');\n\t\tcontainer.className = 'd-flex flex-row gap-2 small';\n\t\tcontainer.append(...dragElements);\n\n\t\tdocument.body.append(container);\n\t\tevent.dataTransfer.setDragImage(container, -25, 0);\n\t\trequestAnimationFrame(() => {\n\t\t\tdocument.body.removeChild(container);\n\t\t});\n\t}\n\tif (Array.isArray(validDragObject)) {\n\t\treturn validDragObject.forEach(data => setTransferData(event, data));\n\t}\n\t\n\tevent.dataTransfer.setData('application/fhc-' + validDragObject.type, JSON.stringify(validDragObject));\n}\n\n/**\n * check if the dataTransfer types are in the allowed types array\n * if strict is disabled at least one type must be the allowed array\n * otherwise all types have to be in the allowed array\n *\n * @param Event\t\tevent\n * @param Array\t\tallowedTypes\n * @param Boolean\tstrict\n */\nfunction eventHasTypes(event, allowedTypes, strict) {\n\tif (!allowedTypes || !allowedTypes.length)\n\t\tallowedTypes = VALID_TYPES;\n\tallowedTypes = allowedTypes.map(type => 'application/fhc-' + type);\n\n\tconst dataTypes = [...event.dataTransfer.types];\n\t\n\t// NOTE(chris): if dragging across browsers the dataTransfer object is\n\t// set to a default one without data. Since we do not support dragging\n\t// across browsers (yet) we return false which will disallow dropping.\n\tif (!dataTypes.length)\n\t\treturn false;\n\t\n\tif (!strict)\n\t\treturn allowedTypes.some(type => [...event.dataTransfer.types].includes(type));\n\t\n\treturn [...event.dataTransfer.types].every(type => allowedTypes.includes(type));\n}\n\nfunction bindDragEnterLeave(el, onEnter, onLeave) {\n\t// NOTE(chris): add save dragenter and dragleave events\n\t// that won't fire when hovering over child elements\n\n\tlet skipLeave = false;\n\tlet skipLeaveParent = true;\n\n\tfunction init(evt) {\n\t\tskipLeave = false;\n\t\tskipLeaveParent = true;\n\t\t// add global listeners\n\t\twindow.addEventListener('dragenter', globalDragenter, true);\n\t\twindow.addEventListener('dragleave', globalDragleave, true);\n\t\twindow.addEventListener('drop', globalDrop, true);\n\t\t// call enter\n\t\tonEnter(evt);\n\t\t// remove self\n\t\tel.removeEventListener('dragenter', init);\n\t}\n\n\tfunction cleanup(evt, wasDropped) {\n\t\t// remove global listeners\n\t\twindow.removeEventListener('dragenter', globalDragenter, true);\n\t\twindow.removeEventListener('dragleave', globalDragleave, true);\n\t\twindow.removeEventListener('drop', globalDrop, true);\n\t\t// call leave\n\t\tonLeave(evt, wasDropped);\n\t\t// add init\n\t\tel.addEventListener('dragenter', init);\n\t}\n\n\tfunction globalDragenter(evt) {\n\t\tskipLeaveParent = false;\n\t\tif (el != evt.target && !el.contains(evt.target)) {\n\t\t\tcleanup(evt);\n\t\t} else {\n\t\t\tskipLeave = true;\n\t\t}\n\t}\n\tfunction globalDragleave(evt) {\n\t\tif (el != evt.target && !el.contains(evt.target)) {\n\t\t\tif (skipLeaveParent) {\n\t\t\t\tskipLeaveParent = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (skipLeave) {\n\t\t\t\tskipLeave = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tcleanup(evt);\n\t}\n\tfunction globalDrop(evt) {\n\t\tcleanup(evt, true);\n\t}\n\n\tel.addEventListener('dragenter', init);\n\n\treturn () => {\n\t\t// cleanup\n\t\tel.removeEventListener('dragenter', init);\n\t}\n}\n\nexport {\n\tisValidDragObject,\n\tgetValidTransferData,\n\tisValidTransferData,\n\tgetTransferData,\n\tconvertToValidDragObject,\n\tsetTransferData,\n\teventHasTypes,\n\tbindDragEnterLeave\n};\nexport default {\n\t...TYPE_CONSTANTS,\n\tisValidDragObject,\n\tgetValidTransferData,\n\tisValidTransferData,\n\tgetTransferData,\n\tconvertToValidDragObject,\n\tsetTransferData,\n\teventHasTypes,\n\tbindDragEnterLeave\n};\n","import { getValidTransferData, eventHasTypes, bindDragEnterLeave } from '../helpers/DragAndDrop.js';\n\nconst EFFECTS = [\n\t'move',\n\t'copy',\n\t'link',\n\t'none'\n];\n\nexport default {\n\tmounted(el, binding) {\n\t\tconst allowedTypes = Object.keys(binding.modifiers);\n\t\tallowedTypes.forEach(type => {\n\t\t\tif (type.substr(-11) == '-collection') {\n\t\t\t\tconst singleType = type.substr(0, type.length-11);\n\t\t\t\tif (!allowedTypes.includes(singleType))\n\t\t\t\t\tallowedTypes.push(singleType);\n\t\t\t}\n\t\t});\n\n\t\tconst strict = binding.arg.match(/(strict-|-strict)/);\n\t\tconst arg = binding.arg.replace(/(strict-|-strict)/, '');\n\t\tconst effect = EFFECTS.includes(arg) ? arg : null;\n\n\t\tconst bcc = new BroadcastChannel('fhc-dnd');\n\t\tlet allowed = false;\n\n\t\tfunction onEnter(evt) {\n\t\t\tallowed = eventHasTypes(evt, allowedTypes, strict);\n\t\t\tif (allowed) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tbcc.postMessage('block');\n\t\t\t}\n\t\t}\n\t\tfunction onLeave(evt, wasDropped) {\n\t\t\tif (allowed && !wasDropped) {\n\t\t\t\tbcc.postMessage('release');\n\t\t\t}\n\t\t}\n\t\tfunction onOver(evt) {\n\t\t\tif (allowed) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\tif (effect)\n\t\t\t\t\tevt.dataTransfer.dropEffect = effect;\n\t\t\t}\n\t\t}\n\t\tfunction onDrop(evt) {\n\t\t\tlet result = getValidTransferData(evt, allowedTypes, strict);\n\t\t\tif (!Array.isArray(result) && !binding.modifiers[result.type] && allowedTypes.includes(result.type + '-collection'))\n\t\t\t\tresult = [result];\n\n\t\t\tconst res = binding.value(evt, result);\n\t\t\t\n\t\t\tif (res instanceof Promise) {\n\t\t\t\tres.then(r => {\n\t\t\t\t\tbcc.postMessage('release');\n\t\t\t\t\treturn r;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbcc.postMessage('release');\n\t\t\t}\n\t\t}\n\n\t\tconst cleanupEnterLeave = bindDragEnterLeave(el, onEnter, onLeave);\n\t\tel.addEventListener('dragover', onOver);\n\t\tel.addEventListener('drop', onDrop);\n\t\tel.fhcDropCleanup = () => {\n\t\t\tcleanupEnterLeave();\n\t\t\tel.removeEventListener('dragover', onOver);\n\t\t\tel.removeEventListener('drop', onDrop);\n\t\t};\n\t},\n\tbeforeUnmount(el) {\n\t\tel.fhcDropCleanup();\n\t\tdelete el.fhcDropCleanup;\n\t}\n}\n","import { bindDragEnterLeave } from '../helpers/DragAndDrop.js';\n\nexport default {\n\tmounted(el, binding) {\n\t\tconst delay = parseInt(binding.arg) || 300;\n\n\t\tlet timeout = null;\n\t\tfunction startCountdown() {\n\t\t\ttimeout = window.setTimeout(binding.value, delay);\n\t\t}\n\t\tfunction stopCountdown() {\n\t\t\tif (timeout)\n\t\t\t\twindow.clearTimeout(timeout);\n\t\t\ttimeout = null;\n\t\t}\n\n\t\tlet lastTarget;\n\t\tlet lastX;\n\t\tlet lastY;\n\n\t\tfunction onDragOver(evt) {\n\t\t\tif (lastX != evt.offsetX || lastY != evt.offsetY || lastTarget != evt.target) {\n\t\t\t\t// moved\n\t\t\t\tlastTarget = evt.target;\n\t\t\t\tlastX = evt.offsetX;\n\t\t\t\tlastY = evt.offsetY;\n\n\t\t\t\tstopCountdown();\n\t\t\t\tstartCountdown();\n\t\t\t}\n\t\t}\n\n\t\tfunction onEnter(evt) {\n\t\t\tlastTarget = evt.target;\n\t\t\tlastX = evt.offsetX;\n\t\t\tlastY = evt.offsetY;\n\n\t\t\tel.addEventListener('dragover', onDragOver);\n\n\t\t\tstartCountdown();\n\t\t}\n\t\tfunction onLeave() {\n\t\t\tstopCountdown();\n\t\t\tel.removeEventListener('dragover', onDragOver);\n\t\t}\n\n\t\tel.fhcDragClickCleanup = bindDragEnterLeave(el, onEnter, onLeave);\n\t},\n\tbeforeUnmount(el) {\n\t\tel.fhcDragClickCleanup();\n\t\tdelete el.fhcDragClickCleanup;\n\t}\n}\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tadd(uid, gruppe_kurzbz, studiensemester_kurzbz) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/gruppen/add/',\n\t\t\tparams: {\n\t\t\t\tuid,\n\t\t\t\tgruppe_kurzbz,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t}\n\t\t};\n\t},\n\tsearch(query, studiengang_kz) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/gruppen/search/',\n\t\t\tparams: {\n\t\t\t\tquery,\n\t\t\t\tstudiengang_kz\n\t\t\t}\n\t\t};\n\t},\n\tgetGruppen(id) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/Gruppen/getGruppen/' + id\n\t\t};\n\t},\n\tdeleteGroup(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/Gruppen/deleteGruppe/',\n\t\t\tparams\n\t\t};\n\t}\n}\n\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/student/get/'\n\t\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t\t+ '/'\n\t\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t};\n\t},\n\tsave(prestudent_id, studiensemester_kurzbz, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/student/save/'\n\t\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t\t+ '/'\n\t\t\t\t+ encodeURIComponent(studiensemester_kurzbz),\n\t\t\tparams\n\t\t};\n\t},\n\tsaveStudent(student_uid, studiensemester_kurzbz, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/student/saveStudent/'\n\t\t\t\t+ encodeURIComponent(student_uid)\n\t\t\t\t+ '/'\n\t\t\t\t+ encodeURIComponent(studiensemester_kurzbz),\n\t\t\tparams\n\t\t};\n\t}\n};","import drop from '../../../directives/drop.js';\nimport dragClick from '../../../directives/dragClick.js';\n\nimport ApiStvGroups from '../../../api/factory/stv/group.js';\nimport ApiStvDetails from '../../../api/factory/stv/details.js';\n\nexport default {\n\tcomponents: {\n\t\tPvTreetable: primevue.treetable,\n\t\tPvColumn: primevue.column\n\t},\n\tdirectives: {\n\t\tdrop,\n\t\tdragClick\n\t},\n\tinject: {\n\t\t$reloadList: {\n\t\t\tfrom: '$reloadList',\n\t\t\tdefault: () => {}\n\t\t},\n\t\tcurrentSemester: {\n\t\t\tfrom: 'currentSemester',\n\t\t\trequired: true\n\t\t},\n\t\tappConfig: {\n\t\t\tfrom: 'appConfig',\n\t\t\tdefault: {\n\t\t\t\tnumber_displayed_past_studiensemester: 5\n\t\t\t}\n\t\t}\n\t},\n\temits: [\n\t\t'selectVerband'\n\t],\n\tprops: {\n\t\tendpoint: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tpreselectedKey: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloading: true,\n\t\t\tnodes: [],\n\t\t\tselectedKey: [],\n\t\t\texpandedKeys: {},\n\t\t\tfilters: {}, // TODO(chris): filter only 1st level?\n\t\t\tfavorites: {on: false, list: []}\n\t\t}\n\t},\n\tcomputed: {\n\t\tfilteredNodes() {\n\t\t\tif (this.favorites.on)\n\t\t\t\treturn this.nodes.filter(node => this.favorites.list.includes(node.key));\n\t\t\t\n\t\t\treturn this.nodes;\n\t\t},\n\t\tnoSemReloadNodes() {\n\t\t\treturn this.nodes.reduce(this.mapNodesToNoSemReloadNodes, []);\n\t\t}\n\t},\n\twatch: {\n\t\t'preselectedKey': function (newVal, oldVal) {\n\t\t\tif (newVal !== oldVal) {\n\t\t\t\tthis.setPreselection();\n\t\t\t}\n\t\t},\n\t\t'appConfig.number_displayed_past_studiensemester'(newVal, oldVal) {\n\t\t\tif (oldVal !== undefined) {\n\t\t\t\tthis.noSemReloadNodes.forEach(node => {\n\t\t\t\t\tdelete node.children;\n\t\t\t\t\tthis.onExpandTreeNode(node);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tfindNodeByKey(key, arr) {\n\t\t\tif (!arr)\n\t\t\t\tarr = this.nodes;\n\t\t\tlet res = arr.filter(n => n.key == key);\n\t\t\tif (res.length)\n\t\t\t\treturn res.pop();\n\t\t\tres = arr.map(n => n.children ? this.findNodeByKey(key, n.children) : null).filter(a => a);\n\t\t\tif (res.length)\n\t\t\t\treturn res.pop();\n\t\t\treturn null;\n\t\t},\n\t\tasync onExpandTreeNode(node) {\n\t\t\tif (!node.children) {\n\t\t\t\tif (node.data.link) {\n\t\t\t\t\tlet activeEl = null;\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\tactiveEl = document.activeElement;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tthis.loading = true;\n\t\t\t\t\t\n\t\t\t\t\treturn this.$api\n\t\t\t\t\t\t.call(this.endpoint.get(node.data.link))\n\t\t\t\t\t\t.then(result => result.data)\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst subNodes = result.map(this.mapResultToTreeData);\n\t\t\t\t\t\t\tconst realNode = this.findNodeByKey(node.key);\n\t\t\t\t\t\t\tif (realNode)\n\t\t\t\t\t\t\t\trealNode.children = subNodes;\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tnode.children = subNodes; // NOTE(chris): fallback should never be the case\n\n\t\t\t\t\t\t\tlet treeitem = this.$refs.tree.$el.querySelector('[data-tree-item-key=\"' + node.key + '\"]');\n\t\t\t\t\t\t\ttreeitem = treeitem.closest('[role=\"row\"]');\n\n\t\t\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\t\t\tif (activeEl == document.activeElement)\n\t\t\t\t\t\t\t\t\ttreeitem.dispatchEvent(new KeyboardEvent('keydown', {\n\t\t\t\t\t\t\t\t\t\tcode: 'ArrowDown',\n\t\t\t\t\t\t\t\t\t\tkey: 'ArrowDown'\n\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonSelectTreeNode(node) {\n\t\t\tif (node.data.link)\n\t\t\t\tthis.$emit('selectVerband', {link: node.data.link, studiengang_kz: node.data.stg_kz, semester: node.data.semester, orgform_kurzbz: node.data.orgform_kurzbz});\n\t\t},\n\t\tmapNodesToNoSemReloadNodes(result, node) {\n\t\t\tif (node.data.no_sem_reload)\n\t\t\t\tresult.push(node);\n\t\t\tif (node.children)\n\t\t\t\tresult = node.children.reduce(this.mapNodesToNoSemReloadNodes, result);\n\t\t\treturn result;\n\t\t},\n\t\tmapResultToTreeData(el) {\n\t\t\tconst cp = {\n\t\t\t\tkey: (\"\" + el.link).replace('/', '-'),\n\t\t\t\tdata: el,\n\t\t\t\tlabel: el.name\n\t\t\t};\n\n\t\t\tif (el.children)\n\t\t\t\tcp.children = el.children.map(this.mapResultToTreeData);\n\t\t\telse\n\t\t\t\tcp.leaf = el.leaf || false;\n\n\t\t\treturn cp;\n\t\t},\n\t\tfilterFav() {\n\t\t\tthis.favorites.on = !this.favorites.on;\n\t\t\tthis.$api\n\t\t\t\t.call(this.endpoint.favorites.set(\n\t\t\t\t\tJSON.stringify(this.favorites)\n\t\t\t\t));\n\t\t},\n\t\tmarkFav(key) {\n\t\t\tlet index = this.favorites.list.indexOf(key.data.link + '');\n\n\t\t\tif (index != -1) {\n\t\t\t\tthis.favorites.list.splice(index, 1);\n\t\t\t} else {\n\t\t\t\tthis.favorites.list.push(key.data.link + '');\n\t\t\t}\n\n\t\t\tthis.$api\n\t\t\t\t.call(this.endpoint.favorites.set(\n\t\t\t\t\tJSON.stringify(this.favorites)\n\t\t\t\t));\n\t\t},\n\t\tunsetFavFocus(e) {\n\t\t\tif (e.target.dataset?.linkFavAdd !== undefined) {\n\t\t\t\te.target.tabIndex = -1;\n\t\t\t} else {\n\t\t\t\tlet items = e.target.querySelectorAll('[data-link-fav-add]:not([tabindex=\"-1\"])');\n\t\t\t\titems.forEach(el => el.tabIndex = document.activeElement == el ? 0 : -1);\n\t\t\t}\n\t\t},\n\t\tsetFavFocus(e) {\n\t\t\tif (e.target.dataset?.linkFavAdd !== undefined) {\n\t\t\t\te.target.tabIndex = 0;\n\t\t\t} else {\n\t\t\t\tlet items = e.target.querySelectorAll('[data-link-fav-add][tabindex=\"-1\"]');\n\t\t\t\titems.forEach(el => el.tabIndex = 0);\n\t\t\t}\n\t\t},\n\t\tasync setPreselection()\n\t\t{\n\t\t\tif (!this.preselectedKey)\n\t\t\t{\n\t\t\t\tthis.selectedKey = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet rawKey = this.preselectedKey\n\n\t\t\tif (!rawKey || typeof rawKey !== 'string')\n\t\t\t\treturn;\n\n\t\t\tconst parts = this.preselectedKey.split('/');\n\t\t\tlet currentKey = parts[0];\n\t\t\tlet currentNode = this.findNodeByKey(currentKey);\n\n\t\t\tif (!currentNode)\n\t\t\t\treturn;\n\n\t\t\tif(this.selectedKey)\n\t\t\t{\n\t\t\t\tconst currentSelectedKey = Object.keys(this.selectedKey).find(Boolean);\n\t\t\t\tif (currentSelectedKey) {\n\t\t\t\t\tif (currentSelectedKey == currentKey)\n\t\t\t\t\t\treturn;\n\t\t\t\t\t/**\n\t\t\t\t\t * Do not select a new entry if the current is a child of the new one.\n\t\t\t\t\t * This happens if a child entry of a new stg is selected and the router\n\t\t\t\t\t * tries to select the stg root entry (because subtrees do not have\n\t\t\t\t\t * routes yet)\n\t\t\t\t\t */\n\t\t\t\t\tconst isChild = this.findNodeByKey(\n\t\t\t\t\t\tcurrentSelectedKey,\n\t\t\t\t\t\tcurrentNode.children || []\n\t\t\t\t\t);\n\t\t\t\t\tif (isChild)\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = 1; i < parts.length; i++)\n\t\t\t{\n\t\t\t\tthis.expandedKeys[currentNode.key] = true;\n\n\t\t\t\tawait this.onExpandTreeNode(currentNode);\n\n\t\t\t\tcurrentKey += '-' + parts[i];\n\t\t\t\tcurrentNode = this.findNodeByKey(currentKey);\n\n\t\t\t\tif (!currentNode)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.selectedKey = {[currentNode.key]: true};\n\t\t\tthis.onSelectTreeNode(currentNode);\n\t\t},\n\t\tasync toggleTreeNode(node) {\n\t\t\tif (this.expandedKeys[node.key]) {\n\t\t\t\tdelete this.expandedKeys[node.key];\n\t\t\t} else if (!node.leaf) {\n\t\t\t\tawait this.onExpandTreeNode(node);\n\t\t\t\tthis.expandedKeys[node.key] = true;\n\t\t\t}\n\t\t},\n\t\tgetStudentAjaxId(student) {\n\t\t\tlet res = student.id;\n\t\t\tif (student.vorname && student.nachname)\n\t\t\t\tres += ' (' + student.vorname + ' ' + student.nachname + ')';\n\t\t\treturn res;\n\t\t},\n\t\tdropStudents(node, students) {\n\t\t\tconst data = node.data;\n\t\t\t\n\t\t\tlet endpoint;\n\t\t\tif (data.gruppe_kurzbz) {\n\t\t\t\tendpoint = students.map(student => [\n\t\t\t\t\tthis.getStudentAjaxId(student),\n\t\t\t\t\tApiStvGroups.add(\n\t\t\t\t\t\tstudent.id,\n\t\t\t\t\t\tdata.gruppe_kurzbz,\n\t\t\t\t\t\tthis.currentSemester\n\t\t\t\t\t)\n\t\t\t\t]);\n\t\t\t} else {\n\t\t\t\tconst { semester, verband, gruppe } = data;\n\t\t\t\tconst params = { semester, verband, gruppe };\n\t\t\t\tendpoint = students.map(student => [\n\t\t\t\t\tthis.getStudentAjaxId(student),\n\t\t\t\t\tApiStvDetails.saveStudent(\n\t\t\t\t\t\tstudent.id,\n\t\t\t\t\t\tthis.currentSemester,\n\t\t\t\t\t\tparams\n\t\t\t\t\t)\n\t\t\t\t]);\n\t\t\t}\n\n\t\t\treturn this.$api\n\t\t\t\t.call(endpoint)\n\t\t\t\t.then(this.$reloadList)\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$api\n\t\t\t.call(this.endpoint.get())\n\t\t\t.then(result => {\n\t\t\t\tthis.nodes = result.data.map(el => {\n\t\t\t\t\tel.root = true;\n\t\t\t\t\treturn this.mapResultToTreeData(el);\n\t\t\t\t});\n\t\t\t\tthis.setPreselection();\n\t\t\t\tthis.loading = false;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(this.endpoint.favorites.get())\n\t\t\t.then(result => {\n\t\t\t\tif (result.data) {\n\t\t\t\t\tthis.favorites = JSON.parse(result.data);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\ttemplate: /* html */`\n\t<div class=\"overflow-auto\" tabindex=\"-1\">\n\t\t<pv-treetable\n\t\t\tref=\"tree\"\n\t\t\tclass=\"stv-verband p-treetable-sm\"\n\t\t\t:value=\"filteredNodes\"\n\t\t\t@node-expand=\"onExpandTreeNode\"\n\t\t\tselection-mode=\"single\"\n\t\t\tv-model:expanded-keys=\"expandedKeys\"\n\t\t\tv-model:selection-keys=\"selectedKey\"\n\t\t\t@node-select=\"onSelectTreeNode\"\n\t\t\tscrollable\n\t\t\tscroll-height=\"flex\"\n\t\t\t@focusin=\"setFavFocus\"\n\t\t\t@focusout=\"unsetFavFocus\"\n\t\t\t:filters=\"filters\"\n\t\t>\n\t\t\t<pv-column\n\t\t\t\tfield=\"name\"\n\t\t\t\texpander\n\t\t\t\tclass=\"text-break\"\n\t\t\t>\n\t\t\t\t<template #header>\n\t\t\t\t\t<div class=\"text-right\">\n\t\t\t\t\t\t<div class=\"p-input-icon-left\">\n\t\t\t\t\t\t\t<i class=\"pi pi-search\"></i>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tv-model=\"filters['global']\"\n\t\t\t\t\t\t\t\tclass=\"form-control ps-5\"\n\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template #body=\"{ node }\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tv-if=\"['semester', 'verband', 'gruppe', 'gruppe_kurzbz'].some(key => node.data.hasOwnProperty(key))\"\n\t\t\t\t\t\t:data-tree-item-key=\"node.key\"\n\t\t\t\t\t\t:title=\"node.data.studiengang_kz\"\n\t\t\t\t\t\tv-drag-click=\"() => toggleTreeNode(node)\"\n\t\t\t\t\t\tv-drop:link-strict.student-collection=\"(evt, students) => dropStudents(node, students)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ node.data.name }}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\t:data-tree-item-key=\"node.key\"\n\t\t\t\t\t\t:title=\"node.data.studiengang_kz\"\n\t\t\t\t\t\tv-drag-click=\"() => toggleTreeNode(node)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ node.data.name }}\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t</pv-column>\n\t\t\t<pv-column\n\t\t\t\tfield=\"fav\"\n\t\t\t\tclass=\"flex-shrink-0 flex-grow-0\"\n\t\t\t\theader-class=\"flex-shrink-0 flex-grow-0\"\n\t\t\t>\n\t\t\t\t<template #header>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"favorites.on || favorites.list.length\"\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t@click.prevent=\"filterFav\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t:class=\"favorites.on ? 'fa-solid' : 'fa-regular'\"\n\t\t\t\t\t\t\tclass=\"fa-star\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t</a>\n\t\t\t\t</template>\n\t\t\t\t<template #body=\"{ node }\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"node.data.root\"\n\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\ttabindex=\"-1\"\n\t\t\t\t\t\tdata-link-fav-add\n\t\t\t\t\t\t@click.prevent=\"markFav(node)\"\n\t\t\t\t\t\t@keydown.enter.stop.prevent=\"markFav(node)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t:class=\"favorites.list.includes(node.data.link + '') ? 'fa-solid' : 'fa-regular'\"\n\t\t\t\t\t\t\tclass=\"fa-star\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t</a>\n\t\t\t\t</template>\n\t\t\t</pv-column>\n\t\t\t<pv-column field=\"studiengang_kz\" class=\"d-none\"></pv-column>\n\t\t</pv-treetable>\n\t</div>`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport const CoreFetchCmpt = {\n\temits: ['dataFetched'], // this component can emit the event dataFetched that it is catched by this component itself\n\tprops: {\n\t\trefresh: { // to refresh this component\n\t\t\ttype: Boolean\n\t\t},\n\t\tapiFunction: { // the function to call, must return a Promise\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\t\tapiFunctionParameters: {} // parameters for the apiFunction, type mixed, optional\n\t},\n\twatch: {\n\t\t/**\n\t\t * If the refresh property is changed then call fetchData\n\t\t */\n\t\trefresh: function (newValue, oldValue) {\n\t\t\tthis.fetchData();\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloading: false, // if in loading or not\n\t\t\terror: false, // if an error occurred while loading data\n\t\t\terrorMessage: null // the error message\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.fetchData();\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchData: function() {\n\t\t\tthis.loading = true; // loader started\n\t\t\tthis.error = false;\n\t\t\tthis.errorMessage = null;\n\n\t\t\t// Checks if the apifunction is a callable function\n\t\t\tif (typeof this.apiFunction == \"function\")\n\t\t\t{\n\t\t\t\t// Call the function stored in apiFunction\n\t        \t\tlet apiFunctionResult = this.apiFunction(this.apiFunctionParameters);\n\n\t\t\t\t// It is expected that the function returns a Promise\n\t\t\t\tif (apiFunctionResult instanceof Promise)\n\t\t\t\t{\n\t\t\t\t\tapiFunctionResult\n\t\t\t\t\t\t.then(this.successHandler) // on success\n\t\t\t\t\t\t.catch(this.errorHandler) // on error\n\t\t\t\t\t\t.finally(this.finallyHandler); // finally in any case\n\t\t\t\t}\n\t\t\t\telse // otherwise display an error\n\t\t\t\t{\n\t\t\t\t\tthis.setError(\"The called apiFunction does not return a Promise\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // otherwise display an error\n\t\t\t{\n\t\t\t\tthis.setError(\"Property apiFunction is not a function\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsetError: function(errorMessage) {\n\t\t\tthis.loading = false; // loading ended\n\t\t\tthis.error = true; // error occurred\n\t\t\tthis.errorMessage = errorMessage; // save the error message\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsuccessHandler: function(response) {\n\t\t\tthis.$emit('dataFetched', response ? response.data : undefined); // trigger the event dataFetched\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\terrorHandler: function(error) {\n\t\t\tif (error.response?.data?.retval)\n\t\t\t\tthis.setError(error.response.data.retval);\n\t\t\telse if (error.data?.message)\n\t\t\t\tthis.setError(error.data.message);\n\t\t\telse\n\t\t\t\tthis.setError(error.message);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfinallyHandler: function() {\n\t\t\tthis.loading = false; // loading ended\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot v-if=\"loading\" name=\"loading\">\n\t\t\t<div class=\"fetch-loader\">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if=\"error\" name=\"error\" :error-message=\"errorMessage\">\n\t\t\t<div class=\"fetch-error\">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\temits: {\n\t\tswitchFilter: ['filterId'],\n\t\tapplyFilterConfig: ['filterFields'],\n\t\tsaveCustomFilter: ['customFilterName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentFields: []\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypes() {\n\t\t\treturn this.columns.reduce((a,c) => {\n\t\t\t\tlet type = c.type.toLowerCase();\n\t\t\t\tif (type.indexOf('int') >= 0)\n\t\t\t\t\ta[c.name] = 'Numeric';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('varchar') >= 0 || \n\t\t\t\t\ttype.indexOf('text') >= 0 || \n\t\t\t\t\ttype.indexOf('bpchar') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Text';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('timestamp') >= 0 || \n\t\t\t\t\ttype.indexOf('date') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Date';\n\t\t\t\telse\n\t\t\t\t\ta[c.name] = '';\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t}\n\t},\n\twatch: {\n\t\tfields(n) {\n\t\t\tthis.currentFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\tswitchFilter(evt) {\n\t\t\tthis.$emit('switchFilter', evt.currentTarget.value);\n\t\t},\n\t\tapplyFilterConfig() {\n\t\t\tconst filteredFields = this.currentFields.filter(el => el.name != FILTER_COMPONENT_NEW_FILTER);\n\t\t\tif (filteredFields.filter(el => el.condition == \"\").length)\n\t\t\t\talert(\"Please fill all the filter options\");\n\t\t\telse\n\t\t\t\tthis.$emit('applyFilterConfig', filteredFields);\n\t\t},\n\t\taddField(evt) {\n\t\t\tthis.currentFields.push({\n\t\t\t\tname: FILTER_COMPONENT_NEW_FILTER\n\t\t\t});\n\t\t},\n\t\tremoveField(index) {\n\t\t\tthis.currentFields.splice(index, 1);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-config\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div v-if=\"filters.length\" class=\"mb-4\">\n\t\t\t\t\t<select class=\"form-select\" @change=\"switchFilter\">\n\t\t\t\t\t\t<option value=\"\">Bitte auswhlen...</option>\n\t\t\t\t\t\t<option v-for=\"filter in filters\" :value=\"filter.id\">\n\t\t\t\t\t\t\t{{ filter.description }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=addField>\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span> Neuer Filter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter-config-fields my-3\">\n\t\t\t\t\t<div v-for=\"(filterField, index) in currentFields\" class=\"filter-config-field row\">\n\n\t\t\t\t\t\t<div class=\"col-5\">\n\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">Filter {{ index + 1 }}</span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\t\t\t\tv-model=\"filterField.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Feld zum Filter hinzufgen...</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"col in columns\" :value=\"col.name\">\n\t\t\t\t\t\t\t\t\t\t{{ col.title }}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Numeric -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Numeric'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Grer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Text'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"contains\">Enthlt</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ncontains\">Enthlt nicht</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Timestamp and date -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Date'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Grer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"set\">Eingestellt ist</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nset\">Eingestellt nicht ist</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-1\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.option\">\n\t\t\t\t\t\t\t\t\t<option value=\"minutes\">Minuten</option>\n\t\t\t\t\t\t\t\t\t<option value=\"hours\">Stunden</option>\n\t\t\t\t\t\t\t\t\t<option value=\"days\">Tage</option>\n\t\t\t\t\t\t\t\t\t<option value=\"months\">Monate</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"col text-end\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-dark\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"removeField(index)\"\n\t\t\t\t\t\t\t\ttitle=\"Filter entfernen\"\n\t\t\t\t\t\t\t\taria-title=\"Filter entfernen\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fa-solid fa-minus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Filter save options -->\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-7\">\n\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t<input ref=\"filterName\" type=\"text\" class=\"form-control\" placeholder=\"Filternamen eingeben...\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"$emit('saveCustomFilter', $refs.filterName.value)\">Filter speichern</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" @click=\"applyFilterConfig\">Filter anwenden</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfields: Array,\n\t\tselected: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tnames: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t}\n\t},\n\temits: {\n\t\thide: ['fieldName'],\n\t\tshow: ['fieldName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tselectedFields: []\n\t\t};\n\t},\n\twatch: {\n\t\tselected(n) {\n\t\t\tthis.selectedFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle(field) {\n\t\t\tif (this.selectedFields.indexOf(field) != -1)\n\t\t\t{\n\t\t\t\tthis.selectedFields.splice(this.selectedFields.indexOf(field), 1);\n\t\t\t\tthis.$emit('hide', field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedFields.push(field);\n\t\t\t\tthis.$emit('show', field);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-columns\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"d-flex flex-wrap gap-2 p-3 justify-content-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"fieldToDisplay in fields\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:class=\"selectedFields.indexOf(fieldToDisplay) != -1 ? 'btn-dark' : 'btn-outline-dark' \"\n\t\t\t\t\t@click=\"toggle(fieldToDisplay)\"\n\t\t\t\t>\n\t\t\t\t\t{{ names[fieldToDisplay] || fieldToDisplay }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst DEFAULT_ICONS = {\n\tjsonLines: 'fa-file-lines',\n\txlsx: 'fa-file-excel',\n\tpdf: 'fa-file-pdf',\n\thtml: 'fa-file-code',\n\tjson: 'fa-file',\n\tcsv: 'fa-file-csv'\n};\nconst DEFAULT_LABELS = {\n\tjsonLines: 'Download as JSONLINES',\n\txlsx: 'Download as XLSX',\n\tpdf: 'Download as PDF',\n\thtml: 'Download as HTML',\n\tjson: 'Download as JSON',\n\tcsv: 'Download as CSV '\n};\n\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\ttabulator: Object,\n\t\tconfig: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\ticonClass: [String, Array, Object]\n\t},\n\tcomputed: {\n\t\tcurrentConfig() {\n\t\t\tif (!this.config)\n\t\t\t\treturn false;\n\n\t\t\tlet config = this.config;\n\n\t\t\tif (config instanceof Function)\n\t\t\t\treturn [config];\n\n\t\t\tif (config === null)\n\t\t\t\treturn [];\n\n\t\t\tif (this.config === true)\n\t\t\t\tconfig = ['csv'];\n\n\t\t\tif (Object.prototype.toString.call(config) === \"[object String]\")\n\t\t\t\tconfig = config.split(',');\n\n\t\t\tif (typeof config === 'object' && !Array.isArray(config)) {\n\t\t\t\tlet newConfig = [];\n\t\t\t\tfor (var k in config) {\n\t\t\t\t\tvar v = config[k], type;\n\t\t\t\t\t\n\t\t\t\t\tif (!v)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\n\t\t\t\t\tif (Object.prototype.toString.call(v) === \"[object String]\") {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(v);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: v === k ? DEFAULT_LABELS[type] : k,\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\t\tif(type !== null) {\n\t\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\t\tlabel: v,\n\t\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('neither ' + k + ' nor ' + v + ' are supported download file types');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof v === 'object' && !Array.isArray(v)) {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tif (v.formatter === undefined)\n\t\t\t\t\t\t\t\tv.formatter = type;\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = DEFAULT_LABELS[type];\n\t\t\t\t\t\t\tif (v.icon === undefined)\n\t\t\t\t\t\t\t\tv.icon = DEFAULT_ICONS[type];\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = k;\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[type],\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(k + ' is not a supported download file type');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconfig = newConfig;\n\t\t\t}\n\n\t\t\tif (Array.isArray(config))\n\t\t\t{\n\t\t\t\tconfig = config.map(el => {\n\t\t\t\t\tif (Object.prototype.toString.call(el) === \"[object String]\") {\n\t\t\t\t\t\tlet formatter = this.stringToFileFormatter(el);\n\t\t\t\t\t\tif (formatter === null)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[formatter],\n\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[formatter],\n\t\t\t\t\t\t\tformatter\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (el instanceof Function)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tformatter: el\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (typeof el === 'object' && !Array.isArray(el) && el !== null) {\n\t\t\t\t\t\tif (el.formatter instanceof Function)\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\tif (this.validateFileFormatter(el.formatter))\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(el => el !== null);\n\n\t\t\t\tif (config.length < 2)\n\t\t\t\t\treturn config;\n\n\t\t\t\tif (config.filter(el => el.label || el.icon).length == config.length)\n\t\t\t\t\treturn config;\n\n\t\t\t\talert('Config not valid');\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n\tmethods: {\n\t\tstringToFileFormatter(input) {\n\t\t\tlet lcInput = input.toLowerCase();\n\t\t\t\n\t\t\tif (lcInput == 'jsonlines')\n\t\t\t\treturn 'jsonLines';\n\t\t\t\n\t\t\tif (['xlsx', 'pdf', 'html', 'json', 'csv'].includes(lcInput))\n\t\t\t\treturn lcInput;\n\n\t\t\treturn null;\n\t\t},\n\t\tvalidateFileFormatter(input) {\n\t\t\tlet formatter = this.stringToFileFormatter(input);\n\t\t\tif (!formatter) {\n\t\t\t\talert(input + ' is not a supported file formatter');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (formatter == 'xlsx') {\n\t\t\t\tif (!window.XLSX) {\n\t\t\t\t\talert('XLSX Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (formatter == 'pdf') {\n\t\t\t\tif (!window.jspdf) {\n\t\t\t\t\talert('jsPDF Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar doc = new jspdf.jsPDF({});\n\t\t\t\tif (!doc.autoTable) {\n\t\t\t\t\talert('jsPDF-AutoTable Plugin not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdownload(config) {\n\t\t\tthis.tabulator.download(config.formatter, config.file, config.options)\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"currentConfig\">\n\t\t<template v-if=\"currentConfig.length == 1\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\t@click.prevent=\"download(currentConfig[0])\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t</template>\n\t\t<div v-else class=\"dropdown d-inline\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\trole=\"button\"\n\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t\t<li v-for=\"(conf, i) in currentConfig\" :key=\"i\">\n\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" @click.prevent=\"download(conf)\">\n\t\t\t\t\t\t<span v-if=\"conf.icon\" :class=\"conf.icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{conf.label}}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</template>\n\t`\n};\n\n","const elementDataMap = new WeakMap();\n\nexport default {\n\tmounted(el, binding) {\n\t\tlet open = false;\n\t\telementDataMap.set(el, evt => {\n\t\t\tif (!open)\n\t\t\t\treturn;\n\n\t\t\tif (el.contains(evt.target))\n\t\t\t\treturn;\n\n\t\t\tconst collapse = bootstrap.Collapse.getInstance(el)\n\t\t\tif (collapse)\n\t\t\t\tcollapse.hide();\n\t\t});\n\t\tel.addEventListener('shown.bs.collapse', () => {\n\t\t\topen = true;\n\t\t});\n\t\tel.addEventListener('hide.bs.collapse', () => {\n\t\t\topen = false;\n\t\t});\n\t\tdocument.addEventListener('click', elementDataMap.get(el), true);\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tdocument.removeEventListener('click', elementDataMap.get(el));\n\t\tdelete el.collapsibleAutoHideFunc;\n\t}\n}","/**\n * This may need changes if Tabulator gets updated!\n *\n * Current working Version: 5.5.2\n * \n * This is a copy of the fitDataStretch function. The only difference\n * is the check for frozen columns on line 22.\n */\n\nexport default window.Tabulator?.extendModule(\"layout\", \"modes\", {\n\tfitDataStretchFrozen(columns, forced) {\n\t\tvar colsWidth = 0,\n\t\ttableWidth = this.table.rowManager.element.clientWidth,\n\t\tgap = 0,\n\t\tlastCol = false;\n\n\t\tcolumns.forEach((column, i) => {\n\t\t\tif (!column.widthFixed) {\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible && !column.definition.frozen) {\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol){\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tlastCol.setWidth(0);\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/saveCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t};\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/applyFilterFields',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t};\n\t},\n\taddFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/addFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tgetFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport FilterConfig from './Filter/Config.js';\nimport FilterColumns from './Filter/Columns.js';\nimport TableDownload from './Table/Download.js';\nimport collapseAutoClose from '../../directives/collapseAutoClose.js';\n\nimport moduleLayoutFitDataStretchFrozen from '../../tabulator/layouts/fitDataStretchFrozen.js';\n\nimport ApiFilter from '../../api/factory/filter.js';\n\n//\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\nconst FILTER_COMPONENT_NEW_FILTER_TYPE = 'Filter Component New Filter Type';\n\nvar _uuid = 0;\n\n/**\n *\n */\nexport const CoreFilterCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt,\n\t\tFilterConfig,\n\t\tFilterColumns,\n\t\tTableDownload\n\t},\n\tdirectives: {\n\t\tcollapseAutoClose\n\t},\n\temits: [\n\t\t'nwNewEntry',\n\t\t'click:new',\n\t\t'tableBuilt',\n\t\t'uuidDefined'\n\t],\n\tprops: {\n\t\tonNwNewEntry: Function, // NOTE(chris): Hack to get the nwNewEntry listener into $props\n\t\ttitle: String,\n\t\tdescription: String,\n\t\tsideMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tfilterType: {\n\t\t\ttype: String\n\t\t},\n\t\ttabulatorOptions: Object,\n\t\ttabulatorEvents: Array,\n\t\ttableOnly: Boolean,\n\t\tnoColumnFilter:Boolean,\n\t\treload: Boolean,\n\t\treloadBtnInfotext: String,\n\t\tdownload: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\tnewBtnShow: Boolean,\n\t\tnewBtnClass: [String, Array, Object],\n\t\tnewBtnDisabled: Boolean,\n\t\tnewBtnLabel: String,\n\t\tuniqueId: String,\n\n\t\tidField: String,\n\t\tparentIdField: String,\n\t\tcountOnly: Boolean,\n\t\tuseSelectionSpan: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tuuid: 0,\n\t\t\t// FilterCmpt properties\n\t\t\tfilterName: null,\n\t\t\tfilterActive: false,\n\t\t\tfields: null,\n\t\t\tdataset: null,\n\t\t\tdatasetMetadata: null,\n\t\t\tselectedFields: null,\n\t\t\tfilterFields: null,\n\n\t\t\tavailableFilters: null,\n\t\t\tselectedFilter: null,\n\n\t\t\t// FetchCmpt binded properties\n\t\t\tfetchCmptRefresh: false,\n\t\t\tfetchCmptApiFunction: null,\n\t\t\tfetchCmptApiFunctionParams: null,\n\t\t\tfetchCmptDataFetched: null,\n\n\t\t\tfetchResult: null,\n\n\t\t\ttabulator: null,\n\t\t\ttableBuilt: false,\n\t\t\ttabulatorHasSelector: false,\n\t\t\tselectedData: [],\n\t\t\tpersistence: {\n\t\t\t\tsort: true,\n\t\t\t\tcolumns: true,\n\t\t\t\tfilter: false,\n\t\t\t\theaderFilter: false,\n\t\t\t\tgroup: false,\n\t\t\t\tpage: false,\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotSelectedFields() {\n\t\t\tif (!this.fields || !this.selectedFields)\n\t\t\t\treturn null;\n\t\t\treturn this.fields.filter(x => this.selectedFields.indexOf(x) === -1)\n\t\t},\n\t\tfilteredData() {\n\t\t\tif (!this.dataset)\n\t\t\t\treturn [];\n\t\t\treturn JSON.parse(JSON.stringify(this.dataset));\n\t\t},\n\t\tfilteredColumns() {\n\t\t\tlet fields = JSON.parse(JSON.stringify(this.fields)) || [];\n\t\t\tlet selectedFields = JSON.parse(JSON.stringify(this.selectedFields)) || [];\n\n\t\t\tlet columns = null;\n\n\t\t\t// If the tabulator options has been provided and it contains the property columns\n\t\t\tif (this.tabulatorOptions && this.tabulatorOptions.hasOwnProperty('columns'))\n\t\t\t\tcolumns = this.tabulatorOptions.columns;\n\n\t\t\t// If columns is not an array or it is an array with less elements then the array fields\n\t\t\tif (!Array.isArray(columns) || (Array.isArray(columns) && columns.length < fields.length))\n\t\t\t{\n\t\t\t\tcolumns = []; // set it as an empty array\n\n\t\t\t\t// Loop throught all the retrieved columns from database\n\t\t\t\tfor (let field of fields)\n\t\t\t\t{\n\t\t\t\t\t// Create a new column having the title equal to the field name\n\t\t\t\t\tlet column = {\n\t\t\t\t\t\ttitle: field,\n\t\t\t\t\t\tfield: field\n\t\t\t\t\t};\n\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\tcolumn.visible = selectedFields.indexOf(field) >= 0;\n\n\t\t\t\t\t// Add the new column to the list of columns\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // the property columns has been provided in the tabulator options\n\t\t\t{\n\t\t\t\t// Loop throught the property columns of the tabulator options\n\t\t\t\tfor (let col of columns)\n\t\t\t\t{\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\t/* fields.indexOf(col.field) == -1; ensures displaying formatter colums\n\t\t\t\t\te.g. column with rowSelection checkboxes or with custom formatted action buttons */\n\t\t\t\t\tcol.visible = selectedFields.indexOf(col.field) >= 0 || fields.indexOf(col.field) == -1;\n\n\t\t\t\t\tif (col.hasOwnProperty('resizable'))\n\t\t\t\t\t\tcol.resizable = col.visible;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn columns;\n\t\t},\n\t\tfieldIdsForVisibilty() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn [];\n\t\t\treturn this.tabulator.getColumns().filter(col => {\n\t\t\t\tlet def = col.getDefinition();\n\t\t\t\treturn !def.frozen && def.title && def.formatter != \"responsiveCollapse\";\n\t\t\t}).map(col => col.getField());\n\t\t},\n\t\tfieldNames() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn {};\n\t\t\treturn this.tabulator.getColumns().reduce((res, col) => {\n\t\t\t\tres[col.getField()] = col.getDefinition().title;\n\t\t\t\treturn res;\n\t\t\t}, {});\n\t\t},\n\t\tidExtra() {\n\t\t\tif (!this.uuid)\n\t\t\t\treturn '';\n\t\t\treturn '-' + this.uuid;\n\t\t},\n\t\tcolumnsForFilter() {\n\t\t\tif (!this.filteredColumns || !this.datasetMetadata)\n\t\t\t\treturn [];\n\t\t\tconst filterTitles = this.filteredColumns.reduce((a,c) => {\n\t\t\t\ta[c.field] = c.title;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\treturn this.datasetMetadata.map(el => ({...el, ...{title: filterTitles[el.name]}}));\n\t\t}\n\t},\n\tmethods: {\n\t\treloadTable() {\n\t\t\tif (this.tableOnly)\n\t\t\t\tthis.tabulator.setData();\n\t\t\telse\n\t\t\t\tthis.getFilter();\n\t\t},\n\t\tasync initTabulator() {\n\t\t\tlet placeholder = '< Phrasen Plugin not loaded! >';\n\t\t\tif (this.$p) {\n\t\t\t\tawait this.$p.loadCategory('ui');\n\t\t\t\tplaceholder = this.$p.t('ui/keineDatenVorhanden');\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\t// prefetch data to get fields & selectedFields for filteredColumns & filteredData\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tconst filterId = window.location.hash ? window.location.hash.slice(1) : null;\n\n\t\t\t\t\tconst resolvePromiseFunc = data => {\n\t\t\t\t\t\tthis.setRenderData(data);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\t\t\t\t\t// get the filter data\n\t\t\t\t\tif (filterId === null)\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t\t\t{ filterId },\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Define a default tabulator options in case it was not provided\n\t\t\tlet tabulatorOptions = {...{\n\t\t\t\t\tlayout: \"fitDataStretchFrozen\",\n\t\t\t\t\tmovableColumns: true,\n\t\t\t\t\tcolumnDefaults:{\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tpersistence: this.persistence,\n\t\t\t\t}, ...(this.tabulatorOptions || {})};\n\n\t\t\t// set default height if no height property is set\n\t\t\tif (tabulatorOptions.height === undefined &&\n\t\t\t\ttabulatorOptions.minHeight === undefined &&\n\t\t\t\ttabulatorOptions.maxHeight === undefined) {\n\t\t\t\ttabulatorOptions.height = 500;\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\ttabulatorOptions.data = this.filteredData;\n\t\t\t\ttabulatorOptions.columns = this.filteredColumns;\n\t\t\t} else {\n\t\t\t\ttabulatorOptions.columns.forEach(col => {\n\t\t\t\t\tif (col.visible === undefined)\n\t\t\t\t\t\tcol.visible = true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tabulatorOptions.selectable || (tabulatorOptions.columns && tabulatorOptions.columns.filter(el => el.formatter == 'rowSelection').length))\n\t\t\t\tthis.tabulatorHasSelector = true;\n\n\t\t\tif (this.idField) {\n\t\t\t\t// enable nested tabulator if parent Id given\n\t\t\t\tif (this.parentIdField) tabulatorOptions.dataTree = true;\n\t\t\t\t// set tabulator index\n\t\t\t\ttabulatorOptions.index = this.idField;\n\t\t\t}\n\n\t\t\t// Start the tabulator with the build options\n\t\t\tthis.tabulator = new Tabulator(\n\t\t\t\tthis.$refs.table,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n\t\t\t// If event handlers have been provided\n\t\t\tif (Array.isArray(this.tabulatorEvents) && this.tabulatorEvents.length > 0)\n\t\t\t{\n\t\t\t\t// Attach all the provided event handlers to the started tabulator\n\t\t\t\tfor (let evt of this.tabulatorEvents)\n\t\t\t\t\tthis.tabulator.on(evt.event, evt.handler);\n\t\t\t}\n\t\t\tthis.tabulator.on('tableBuilt', () => {this.tableBuilt = true; this.$emit('tableBuilt');});\n\t\t\tthis.tabulator.on(\"rowSelectionChanged\", data => {\n\t\t\t\tthis.selectedData = data;\n\t\t\t});\n\n\t\t\t// if nested tabulator, restructure data\n\t\t\tif (this.parentIdField && this.idField) {\n\t\t\t\tthis.tabulator.on(\"dataLoading\", data => {\n\t\t\t\t\tlet toDelete = [];\n\n\t\t\t\t\t// loop through all data\n\t\t\t\t\tfor (let childIdx = 0; childIdx < data.length; childIdx++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet child = data[childIdx];\n\n\t\t\t\t\t\t// if it has parent id, it is a child\n\t\t\t\t\t\tif (child[this.parentIdField])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// append the child on the right place. If parent found, mark original sw child on 0 level for deleting\n\t\t\t\t\t\t\tif (this.appendChild(data, child)) toDelete.push(childIdx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete the marked children from 0 level\n\t\t\t\t\tfor (let counter = 0; counter < toDelete.length; counter++)\n\t\t\t\t\t{\n\t\t\t\t\t\t// decrease index by counter as index of data array changes after every deletion\n\t\t\t\t\t\tdata.splice(toDelete[counter] - counter, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.tableOnly) {\n\t\t\t\tthis.tabulator.on('tableBuilt', () => {\n\t\t\t\t\tconst cols = this.tabulator.getColumns();\n\t\t\t\t\tthis.fields = cols.map(col => col.getField());\n\t\t\t\t\tthis.selectedFields = cols.filter(col => col.isVisible()).map(col => col.getField());\n\t\t\t\t\tif (this.tabulator.options.persistence.headerFilter)\n\t\t\t\t\t\tthis._setHeaderFilter();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.tabulator.on(\"dataFiltered\", filters => {\n\t\t\t\tthis.filterActive = filters.length > 0;\n\t\t\t});\n\t\t},\n\t\tupdateTabulator() {\n\t\t\tif (this.tabulator) {\n\t\t\t\tif (this.tableBuilt)\n\t\t\t\t\tthis._updateTabulator();\n\t\t\t\telse\n\t\t\t\t\tthis.tabulator.on('tableBuilt', this._updateTabulator);\n\t\t\t}\n\t\t},\n\t\t_updateTabulator() {\n\t\t\tthis.tabulatorHasSelector = this.tabulatorOptions.selectable || this.filteredColumns.filter(el => el.formatter == 'rowSelection').length;\n\t\t\tthis.tabulator.setColumns(this.filteredColumns);\n\t\t\tthis.tabulator.setData(this.filteredData);\n\t\t\tthis._setHeaderFilter()\n\t\t},\n\t\tclearFilters()\n\t\t{\n\t\t\tlet existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, \"\");\n\t\t\t});\n\t\t\tthis.tabulator.clearFilter();\n\t\t\tthis.filterActive = false;\n\t\t},\n\t\t_setHeaderFilter()\n\t\t{\n\t\t\tconst existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, filter.value);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetFilter() {\n\t\t\tif (this.selectedFilter === null)\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t{\n\t\t\t\t\t\tfilterId: this.selectedFilter\n\t\t\t\t\t},\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t},\n\t\tsetRenderData(data) {\n\t\t\tthis.fetchResult = data;\n\t\t\tthis.filterName = data.filterName;\n\t\t\tthis.dataset = data.dataset;\n\t\t\tthis.datasetMetadata = data.datasetMetadata;\n\n\t\t\tthis.fields = data.fields;\n\t\t\tthis.selectedFields = data.selectedFields;\n\t\t\tthis.filterFields = [];\n\n\t\t\tfor (let i = 0; i < data.datasetMetadata.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < data.filters.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (data.datasetMetadata[i].name == data.filters[j].name)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet filter = data.filters[j];\n\t\t\t\t\t\tfilter.type = data.datasetMetadata[i].type;\n\n\t\t\t\t\t\tthis.filterFields.push(filter);\n\t\t\t\t\t\t//break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\trender(response) {\n\t\t\tlet data = response;\n\n\t\t\tthis.setRenderData(data);\n\n\t\t\t// If the side menu is active\n\t\t\tif (this.sideMenu === true)\n\t\t\t{\n\t\t\t\tthis.setSideMenu(data);\n\t\t\t}\n\t\t\telse // otherwise use the dropdown in the filter options\n\t\t\t{\n\t\t\t\tthis.setDropDownMenu(data);\n\t\t\t}\n\t\t\tthis.updateTabulator();\n\t\t},\n\t\t/**\n\t\t * Set the menu\n\t\t */\n\t\tsetSideMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc,\n\t\t\t\t\tsubscriptDescription: personalFilters[filtersCount].subscriptDescription,\n\t\t\t\t\tsubscriptLinkClass: personalFilters[filtersCount].subscriptLinkClass,\n\t\t\t\t\tsubscriptLinkValue: personalFilters[filtersCount].subscriptLinkValue,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById,\n\t\t\t\t\tonClickSubscriptCall: this.handlerRemoveCustomFilter\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\n\t\t\tthis.$emit(\n\t\t\t\t'nwNewEntry',\n\t\t\t\t{\n\t\t\t\t\tlink: \"#\",\n\t\t\t\t\tdescription: \"Filters\",\n\t\t\t\t\ticon: \"filter\",\n\t\t\t\t\tchildren: filtersArray\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Set the drop down menu\n\t\t */\n\t\tsetDropDownMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\toption: filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\toption: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\t\t},\n\t\t/**\n\t\t * Used to start/refresh the FetchCmpt\n\t\t */\n\t\tstartFetchCmpt(apiFunction, apiFunctionParameters, dataFetchedCallback) {\n\t\t\t// Assign the function api of the FetchCmpt binded property\n\t\t\tthis.fetchCmptApiFunction = apiFunction;\n\n\t\t\t// In case a null value is provided set the parameters as an empty object\n\t\t\tif (apiFunctionParameters == null) apiFunctionParameters = {};\n\n\t\t\t// Always needed parameters\n\t\t\tapiFunctionParameters.filterUniqueId = FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t\tapiFunctionParameters.filterType = this.filterType;\n\n\t\t\tif (this.uniqueId)\n\t\t\t\tapiFunctionParameters.filterUniqueId += '_' + this.uniqueId;\n\n\t\t\t// Assign parameters to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptApiFunctionParams = apiFunctionParameters;\n\t\t\t// Assign data fetch callback to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptDataFetched = dataFetchedCallback;\n\t\t\t// Set the FetchCmpt binded property refresh to have the component to refresh\n\t\t\t// NOTE: this should be the last one to be called because it triggers the FetchCmpt to start to refresh\n\t\t\tthis.fetchCmptRefresh === true ? this.fetchCmptRefresh = false : this.fetchCmptRefresh = true;\n\t\t},\n\n\t\t// ------------------------------------------------------------------------------------------------------------------\n\t\t// Event handlers\n\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerSaveCustomFilter(customFilterName) {\n\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.saveCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tcustomFilterName\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerRemoveCustomFilter(event) {\n\t\t\tlet filterId = event.currentTarget.getAttribute(\"href\").substring(1);\n\t\t\tif (filterId === this.selectedFilter)\n\t\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.removeCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterId: filterId\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t/*\n\t\t *\n\t\t */\n\t\thandlerGetFilterById: function(event) {\n\n\t\t\tlet filterId = null;\n\n\t\t\t// Get the attribute href if side menu is rendered\n\t\t\tlet attr = event.currentTarget.getAttribute(\"href\");\n\n\t\t\t// Otherwise get the value of the drop down menu\n\t\t\tif (attr == null)\n\t\t\t{\n\t\t\t\tfilterId = event.currentTarget.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfilterId = attr.substring(1);\n\t\t\t}\n\n\t\t\tthis.switchFilter(filterId);\n\t\t},\n\t\tswitchFilter(filterId) {\n\t\t\tthis.selectedFilter = filterId;\n\t\t\tthis.getFilter();\n\t\t},\n\t\tapplyFilterConfig(filterFields) {\n\t\t\tthis.selectedFilter = null;\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.applyFilterFields(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterFields\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t// append child to it's parent\n\t\tappendChild(data, child) {\n\t\t\t// get parent id\n\t\t\tlet parentId = child[this.parentIdField];\n\n\t\t\t// loop thorugh all data\n\t\t\tfor (let parentIdx = 0; parentIdx < data.length; parentIdx++)\n\t\t\t{\n\t\t\t\tlet parent = data[parentIdx];\n\n\t\t\t\t// if it's the parent\n\t\t\t\tif (parent[this.idField] == parentId)\n\t\t\t\t{\n\t\t\t\t\t// create children array if not done yet\n\t\t\t\t\tif (!parent._children) parent._children = [];\n\n\t\t\t\t\t// if child is not included in children array, append the child\n\t\t\t\t\tif (!parent._children.includes(child)) parent._children.push(child);\n\n\t\t\t\t\t// parent found\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// search children for parents\n\t\t\t\telse if (parent._children) this.appendChild(parent._children, child);\n\t\t\t}\n\n\t\t\t// parent not found\n\t\t\treturn false;\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tif (!this.tableOnly == !this.filterType)\n\t\t\talert('You can not have a filter-type in table-only mode!');\n\t},\n\tcreated() {\n\t\tif (this.sideMenu && (!this.$props.onNwNewEntry || !(this.$props.onNwNewEntry instanceof Function)))\n\t\t\talert('\"nwNewEntry\" listener is mandatory when sideMenu is true');\n\t\tthis.uuid = _uuid++;\n\t\tthis.$emit('uuidDefined', this.uuid)\n\t},\n\tmounted() {\n\t\tthis.initTabulator().then(() => {\n\t\t\tif (!this.tableOnly) {\n\t\t\t\tthis.selectedFilter = window.location.hash ? window.location.hash.slice(1) : null;\n\t\t\t\tthis.render(this.fetchResult);\n\t\t\t}\n\t\t});\n\n\t},\n\ttemplate: `\n\t\t<!-- Load filter data -->\n\t\t<core-fetch-cmpt\n\t\t\tv-if=\"!tableOnly && fetchCmptApiFunction\"\n\t\t\tv-bind:api-function=\"fetchCmptApiFunction\"\n\t\t\tv-bind:api-function-parameters=\"fetchCmptApiFunctionParams\"\n\t\t\tv-bind:refresh=\"fetchCmptRefresh\"\n\t\t\t@data-fetched=\"fetchCmptDataFetched\">\n\t\t</core-fetch-cmpt>\n\n\t\t<div class=\"row\" v-if=\"title != null && title != ''\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<h3 class=\"page-header mt-1 mb-4\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"'filterCollapsables' + idExtra\">\n\n\t\t\t<div class=\"d-flex flex-row justify-content-between flex-wrap\">\n\t\t\t\t<div v-if=\"newBtnShow || reload || $slots.search || $slots.actions\" class=\"d-flex gap-2 align-items-baseline flex-wrap\">\n\t\t\t\t\t<button v-if=\"newBtnShow\" class=\"btn btn-primary\" :class=\"newBtnClass\" :title=\"newBtnLabel ? undefined : 'New'\" :aria-label=\"newBtnLabel ? undefined : 'New'\" @click=\"$emit('click:new', $event)\" :disabled=\"newBtnDisabled\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{ newBtnLabel }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"reload\" class=\"btn btn-outline-secondary\" aria-label=\"Reload\" @click=\"reloadTable\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-rotate-right\" aria-hidden=\"true\"  :title=\"reloadBtnInfotext ? reloadBtnInfotext : 'Reload'\" ></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span v-if=\"$slots.actions && tabulatorHasSelector && useSelectionSpan\">\n\t\t\t\t\t\t<span v-if=\"countOnly\">{{ selectedData.length }} ausgewhlt</span>\n\t\t\t\t\t\t<span v-else id=\"selected-info-text\"> Mit {{ selectedData.length }} ausgewhlten:</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<slot name=\"actions\" v-bind=\"{selected: tabulatorHasSelector ? selectedData : []}\"></slot>\n\t\t\t\t\t<slot name=\"search\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-1 align-items-baseline flex-grow-1 justify-content-end\">\n\t\t\t\t\t<span v-if=\"!tableOnly\">[ {{ filterName }} ]</span>\n\t\t\t\t\t<span v-else-if=\"description\" v-html=\"description\"></span>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"!tableOnly || $slots.filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseFilters' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"filterActive\"  class=\"btn btn-link px-0 fhc-text\" :title=\"$p.t('ui','filterdelete')\" @click=\"clearFilters\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter-circle-xmark\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseColumns' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-table-columns\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<table-download class=\"btn btn-link px-0 fhc-text\" :tabulator=\"tabulator\" :config=\"download\"></table-download>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<filter-columns\n\t\t\t\t:id=\"'collapseColumns' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:fields=\"fieldIdsForVisibilty\"\n\t\t\t\t:selected=\"selectedFields\"\n\t\t\t\t:names=\"fieldNames\"\n\t\t\t\t@hide=\"tabulator.hideColumn($event)\"\n\t\t\t\t@show=\"tabulator.showColumn($event)\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-columns>\n\n\t\t\t<filter-config\n\t\t\t\tv-if=\"!tableOnly\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:filters=\"!sideMenu ? (availableFilters || []) : []\"\n\t\t\t\t:columns=\"columnsForFilter\"\n\t\t\t\t:fields=\"filterFields || []\"\n\t\t\t\t@switch-filter=\"switchFilter\"\n\t\t\t\t@apply-filter-config=\"applyFilterConfig\"\n\t\t\t\t@save-custom-filter=\"handlerSaveCustomFilter\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-config>\n\t\t\t<div\n\t\t\t\tv-else-if=\"$slots.filter\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t\t>\n\t\t\t\t<slot name=\"filter\"></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tabulator -->\n\t\t<div ref=\"table\" :id=\"'filterTableDataset' + idExtra\" class=\"filter-table-dataset\"></div>\n\t`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n//--------------------------------------------------------------------------------------------------------------------\n// Configs\n\n// To see debug messages into the browser console set this parameter as true\nconst CORE_REST_CLIENT_DEBUG = false;\n\n// Default timeout (milliseconds)\nconst CORE_REST_CLIENT_TIMEOUT = 5000;\n\n//--------------------------------------------------------------------------------------------------------------------\n// Constants\n\n// Success\nconst CORE_REST_CLIENT_SUCCESS = 0;\n\n// Properties present in a response\nconst CORE_REST_CLIENT_ERROR = \"error\";\nconst CORE_REST_CLIENT_RETVAL = \"retval\";\n\n// HTTP method parameters\nconst CRC_HTTP_GET_METHOD = \"get\";\nconst CRC_HTTP_POST_METHOD = \"post\";\n\n/**\n * Definition and initialization of the object CoreRESTClient\n */\nexport const CoreRESTClient = {\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Public methods\n\n\t/**\n\t * Performs a call using the HTTP GET method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tget: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_GET_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Performs a call using the HTTP POST method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tpost: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_POST_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Checks if the response is a success\n\t */\n\tisSuccess: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR)\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL) && response.error == CORE_REST_CLIENT_SUCCESS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Checks if the response is an error\n\t */\n\tisError: function(response) {\n\t\treturn !CoreRESTClient.isSuccess(response);\n\t},\n\n\t/**\n\t * Checks if the response has data\n\t */\n\thasData: function(response) {\n\n\t\tif (CoreRESTClient.isSuccess(response))\n\t\t{\n\t\t\tif ((typeof response[CORE_REST_CLIENT_RETVAL] === \"object\" && Object.keys(response[CORE_REST_CLIENT_RETVAL]).length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"array\" && response[CORE_REST_CLIENT_RETVAL].length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"string\" && response[CORE_REST_CLIENT_RETVAL].trim() != \"\")\n\t\t\t\t|| typeof response[CORE_REST_CLIENT_RETVAL] === \"number\")\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Retrives data from response object\n\t */\n\tgetData: function(response) {\n\n\t\tif (CoreRESTClient.hasData(response))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Retrives error message from response object\n\t */\n\tgetError: function(response) {\n\n\t\tif (typeof response === \"object\"\n\t\t\t&& Object.keys(response).length > 0\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn \"Generic error\";\n\t},\n\n\t/**\n\t * Retrives code from response object\n\t */\n\tgetErrorCode: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_ERROR];\n\t\t}\n\n\t\treturn 1; // Generic error\n\t},\n\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Private methods\n\n\t/**\n\t * Generate the router URI using the connection parameters\n\t */\n\t_generateRouterURI: function(wsURL) {\n\t\tvar uri = null;\n\n\t\t// Checks if global JS object FHC_JS_DATA_STORAGE_OBJECT exists\n\t\tif (typeof FHC_JS_DATA_STORAGE_OBJECT !== \"undefined\")\n\t\t{\n\t\t\turi = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\" + wsURL;\n\t\t}\n\n\t\treturn uri;\n\t},\n\n\t/**\n\t * Method to print debug info after a controller has been called\n\t */\n\t_printDebug: function(parameters, response, errorThrown) {\n\n\t\tif (CORE_REST_CLIENT_DEBUG === true) // If global const CORE_REST_CLIENT_DEBUG is true, but really true!\n\t\t{\n\t\t\t// Print info about called controller\n\t\t\tconsole.log(\"Called controller: \" + parameters.remoteController);\n\t\t\tconsole.log(\"Call parameters:\"); // parameters given to this call\n\t\t\tconsole.log(parameters);\n\n\t\t\tif (response != null) // if there is a response...\n\t\t\t{\n\t\t\t\tconsole.log(\"Controller Response:\");\n\t\t\t\tconsole.log(response); // ...print it\n\t\t\t}\n\t\t\tif (errorThrown != null) // if there is a jQuery error...\n\t\t\t{\n\t\t\t\tconsole.log(\"jQuery error:\");\n\t\t\t\tconsole.log(errorThrown); // ...print it\n\t\t\t}\n\t\t\tconsole.log(\"--------------------------------------------------------------------------------------------\");\n\t\t}\n\t},\n\n\t/**\n\t * Performs a call to the server were the CI PHP layer is running\n\t * - wsURL: alias of the core controller to call\n\t * - wsParameters: parameters to give to the called controller\n\t * - type: POST or GET HTTP method\n\t * - axiosParameters: an object to configure the axios call\n\t */\n\t_axiosCall: function(wsURL, wsParameters, type, axiosParameters) {\n\n\t\t// Axios config object\n\t\tlet axiosCallObj = {\n\t\t\tmethod: type,\n\t\t\turl: CoreRESTClient._generateRouterURI(wsURL),\n\t\t\ttimeout: CORE_REST_CLIENT_TIMEOUT // default time out\n\t\t};\n\n\t\t// The ajax call is HTTP GET\n\t\tif (type == CRC_HTTP_GET_METHOD)\n\t\t{\n\t\t\taxiosCallObj.params = wsParameters;\n\t\t}\n\t\t// The ajax call is HTTP POST\n\t\telse\n\t\t{\n\t\t\taxiosCallObj.data = wsParameters;\n\t\t}\n\n\t\t// Check if axiosParameters is an object\n\t\tif (typeof axiosParameters === \"object\")\n\t\t{\n\t\t\t// And then copies the its properties into axiosCallObj\n\t\t\tfor (var prop in axiosParameters) axiosCallObj[prop] = axiosParameters[prop];\n\t\t}\n\n\t\t// Perform the ajax call via axios\n\t\treturn axios(axiosCallObj);\n\t}\n};\n\n","export default {\n\tinject: [\n\t\t'$registerToForm'\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tfeedback: {\n\t\t\t\tsuccess: [],\n\t\t\t\tdanger: []\n\t\t\t}\n\t\t};\n\t},\n\tmethods: {\n\t\tclearValidation() {\n\t\t\tthis.feedback = {\n\t\t\t\tsuccess: [],\n\t\t\t\tdanger: []\n\t\t\t};\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (!feedback)\n\t\t\t\tfeedback = [];\n\t\t\tif (!Array.isArray(feedback))\n\t\t\t\tfeedback = [feedback];\n\t\t\tconst ts = Date.now();\n\t\t\tthis.feedback[valid ? 'success' : 'danger']\n\t\t\t\t.push(...feedback.map(msg => [msg, ts]));\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.$registerToForm)\n\t\t\tthis.$registerToForm(this);\n\t},\n\ttemplate: `\n\t<template v-for=\"(arr, key) in feedback\" :key=\"key\">\n\t\t<div v-for=\"[msg, ts] in arr\" :key=\"ts + msg\" class=\"alert alert-dismissible fade show\" :class=\"'alert-' + key\" role=\"alert\">\n\t\t\t{{msg}}\n\t\t\t<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n\t\t</div>\n\t</template>\n\t`\n};\n","export default {\n\tcreated(el, binding) {\n\t\tswitch (binding.arg) {\n\t\t\tcase 'tab':\n\t\t\t\tel.style.cursor = 'pointer';\n\t\t\t\tconst [prev, next] = binding.modifiers.vertical ? ['ArrowUp', 'ArrowDown'] : ['ArrowLeft', 'ArrowRight'];\n\t\t\t\tel.addEventListener('click', () => {\n\t\t\t\t\tlet act = el.parentNode.querySelector('[tabindex=\"0\"]');\n\t\t\t\t\tif (act)\n\t\t\t\t\t\tact.tabIndex = -1;\n\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t});\n\t\t\t\tel.addEventListener('focus', () => {\n\t\t\t\t\tel.ariaSelected = \"true\";\n\t\t\t\t});\n\t\t\t\tel.addEventListener('blur', () => {\n\t\t\t\t\tel.ariaSelected = \"false\";\n\t\t\t\t});\n\t\t\t\tel.addEventListener('keydown', e => {\n\t\t\t\t\tswitch (e.code) {\n\t\t\t\t\t\tcase prev:\n\t\t\t\t\t\t\tif (el.previousSibling?.tabIndex !== undefined) {\n\t\t\t\t\t\t\t\tel.previousSibling.tabIndex = 0;\n\t\t\t\t\t\t\t\tel.tabIndex = -1;\n\t\t\t\t\t\t\t\tel.previousSibling.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase next:\n\t\t\t\t\t\t\tif (el.nextSibling?.tabIndex !== undefined) {\n\t\t\t\t\t\t\t\tel.nextSibling.tabIndex = 0;\n\t\t\t\t\t\t\t\tel.tabIndex = -1;\n\t\t\t\t\t\t\t\tel.nextSibling.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\t\tel.click();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tmounted(el, binding) {\n\t\tswitch (binding.arg) {\n\t\t\tcase 'tab':\n\t\t\t\tlet activetab = -1;\n\t\t\t\tArray.from(el.parentNode.children).forEach((node, index) => {\n\t\t\t\t\tnode.ariaSetSize = el.parentNode.children.length;\n\t\t\t\t\tnode.ariaPosInSet = index;\n\t\t\t\t\tif (node.tabIndex === 0)\n\t\t\t\t\t\tactivetab = index;\n\t\t\t\t});\n\t\t\t\tif (activetab == -1) {\n\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t} else if (el.classList.contains('active')) {\n\t\t\t\t\tel.parentNode.children[activetab].tabIndex = -1;\n\t\t\t\t\tel.tabIndex = 0;\n\t\t\t\t} else {\n\t\t\t\t\tel.tabIndex = -1;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tswitch (binding.arg) {\n\t\t\tcase 'tab':\n\t\t\t\tif (el.tabIndex === 0) {\n\t\t\t\t\tif (el.previousSibling?.tabIndex !== undefined)\n\t\t\t\t\t\tel.previousSibling.tabIndex = 0;\n\t\t\t\t\telse if (el.nextSibling?.tabIndex !== undefined)\n\t\t\t\t\t\tel.nextSibling.tabIndex = 0;\n\t\t\t\t}\n\t\t\t\tconst pos = parseInt(el.ariaPosInSet);\n\t\t\t\tArray.from(el.parentNode.children).forEach((node, index) => {\n\t\t\t\t\tnode.ariaSetSize = el.parentNode.children.length;\n\t\t\t\t\tif (index > pos)\n\t\t\t\t\t\tnode.ariaPosInSet = index-1;\n\t\t\t\t});\n\t\t\tbreak;\n\t\t}\n\t}\n}","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: url\n\t\t};\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: url\n\t\t};\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: url\n\t\t};\n\t},\n\tsearch(params, studiensemester_kurzbz) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/students/search/'\n\t\t\t\t+ encodeURIComponent(studiensemester_kurzbz),\n\t\t\tparams\n\t\t};\n\t},\n\tverband(relative_path) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/students/' + relative_path\n\t\t};\n\t},\n\tgetPerson(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/student/getPerson',\n\t\t\tparams\n\t\t};\n\t},\n\tadd(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/student/add',\n\t\t\tparams\n\t\t};\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tget(uid) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/kontakt/getAdressen/' + uid\n\t\t};\n\t},\n\tadd(uid, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/kontakt/addNewAddress/' + uid,\n\t\t\tparams\n\t\t};\n\t},\n\tload(address_id){\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/kontakt/loadAddress/',\n\t\t\tparams: { address_id }\n\t\t};\n\t},\n\tupdate(address_id, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tparams\n\t\t};\n\t},\n\tdelete(address_id) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/kontakt/deleteAddress/',\n\t\t\tparams: { address_id }\n\t\t};\n\t},\n\tgetTypes() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/kontakt/getAdressentypen/'\n\t\t};\n\t},\n\tgetPlaces(plz) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/address/getPlaces/' + plz\n\t\t};\n\t},\n\tgetNations() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/address/getNations/'\n\t\t};\n\t},\n\tgetAllFirmen(){\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/kontakt/getAllFirmen/'\n\t\t}\n\t}\n};","export default {\n\n\tgetAll(order = null, start = null)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/organisation/studiensemester/getAll',\n\t\t\tparams: { order, start }\n\t\t};\n\t}\n}","export default {\n\n\tgetStudienplaeneBySemester(studiengang_kz, studiensemester_kurzbz, ausbildungssemester, orgform_kurzbz)\n\t{\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/organisation/studienplan/getBySemester',\n\t\t\tparams: { studiengang_kz, studiensemester_kurzbz, ausbildungssemester, orgform_kurzbz },\n\t\t};\n\t}\n}","import {CoreRESTClient} from '../../../../RESTClient.js';\nimport BsModal from '../../../Bootstrap/Modal.js';\nimport FhcForm from '../../../Form/Form.js';\nimport FormValidation from '../../../Form/Validation.js';\nimport FormInput from '../../../Form/Input.js';\nimport accessibility from '../../../../directives/accessibility.js';\n\nimport ApiStvStudents from '../../../../api/factory/stv/students.js';\nimport ApiStvAddress from '../../../../api/factory/stv/kontakt/address.js';\nimport ApiStudiensemester from '../../../../api/factory/studiensemester.js';\nimport ApiStudienplan from '../../../../api/factory/studienplan.js';\n\nvar _uuid = 0;\nconst FORMDATA_DEFAULT = {\n\taddress: {\n\t\tchecked: true,\n\t\tnation: 'A'\n\t},\n\tvorname: '',\n\tnachname: '',\n\tgeburtsnation: 'A',\n\tstaatsbuergerschaft: 'A',\n\tausbildungssemester: 1,\n\torgform_kurzbz: '',\n\tstudienplan_id: ''\n};\n\nexport default {\n\tcomponents: {\n\t\tBsModal,\n\t\tFhcForm,\n\t\tFormValidation,\n\t\tFormInput\n\t},\n\tdirectives: {\n\t\taccessibility\n\t},\n\tinject: [\n\t\t'lists'\n\t],\n\temits: ['saved'],\n\tprops: {\n\t\tpersonOnly: Boolean,\n\t\tstudiengangKz: Number,\n\t\tstudiensemesterKurzbz: String\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tplaces: [],\n\t\t\tformData: null,\n\t\t\tsuggestions: {},\n\t\t\tperson: null,\n\t\t\tsemester: [],\n\t\t\tstudienplaene: [],\n\t\t\tabortController: {\n\t\t\t\tsuggestions: null,\n\t\t\t\tplaces: null\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tformDataPerson() {\n\t\t\tif (this.person)\n\t\t\t\treturn this.person;\n\t\t\treturn this.formData;\n\t\t},\n\t\torte() {\n\t\t\treturn this.places.filter(ort => ort.name == this.formData?.address.gemeinde);\n\t\t},\n\t\tgemeinden() {\n\t\t\treturn Object.values(this.places.reduce((res,place) => {\n\t\t\t\tres[place.name] = place;\n\t\t\t\treturn res;\n\t\t\t}, {}));\n\t\t},\n\t\tformDataStg: {\n\t\t\tget() {\n\t\t\t\treturn this.formData?.studiengang_kz !== undefined ? this.formData?.studiengang_kz : this.studiengangKz;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tthis.formData.studiengang_kz = v;\n\t\t\t}\n\t\t},\n\t\tformDataSem: {\n\t\t\tget() {\n\t\t\t\treturn this.formData?.studiensemester_kurzbz !== undefined ? this.formData?.studiensemester_kurzbz : this.studiensemesterKurzbz;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tthis.formData.studiensemester_kurzbz = v;\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tformDataStg() {\n\t\t\tthis.loadStudienplaene();\n\t\t},\n\t\tformDataSem() {\n\t\t\tthis.loadStudienplaene();\n\t\t}\n\t},\n\tmethods: {\n\t\topen() {\n\t\t\tthis.$refs.modal.show();\n\t\t},\n\t\treset() {\n\t\t\tthis.formData = JSON.parse(JSON.stringify(FORMDATA_DEFAULT));\n\t\t\tthis.person = null;\n\t\t\tthis.suggestions = [];\n\t\t\tif (this.$refs.form) this.$refs.form.clearValidation();\n\t\t},\n\t\tloadSuggestions() {\n\t\t\tif (this.abortController.suggestions)\n\t\t\t\tthis.abortController.suggestions.abort();\n\t\t\tif (this.person !== null)\n\t\t\t\treturn;\n\n\t\t\tthis.abortController.suggestions = new AbortController();\n\n\t\t\tthis.$api\n\t\t\t\t.call(ApiStvStudents.getPerson({\n\t\t\t\t\tvorname: this.formData?.vorname,\n\t\t\t\t\tnachname: this.formData?.nachname,\n\t\t\t\t\tgebdatum: this.formData?.gebdatum\n\t\t\t\t}), {\n\t\t\t\t\tsignal: this.abortController.suggestions.signal\n\t\t\t\t})\n\t\t\t\t.then(result => this.suggestions = result.data)\n\t\t\t\t.catch(error => {\n\n\t\t\t\t\tif (error.code == 'ERR_BAD_REQUEST') {\n\t\t\t\t\t\treturn this.suggestions = [];\n\t\t\t\t\t}\n\n\t\t\t\t\t// NOTE(chris): repeat request\n\t\t\t\t\tif (error.code != \"ERR_CANCELED\")\n\t\t\t\t\t\twindow.setTimeout(this.loadSuggestions, 100);\n\t\t\t\t});\n\t\t},\n\t\tloadPlaces() {\n\t\t\tif (this.abortController.places)\n\t\t\t\tthis.abortController.places.abort();\n\t\t\tif (this.formData?.address?.nation != 'A' || !this?.formData?.address?.plz)\n\t\t\t\treturn;\n\n\t\t\tthis.abortController.places = new AbortController();\n\t\t\tthis.$refs.form.call(\n\t\t\t\tApiStvAddress.getPlaces(this.formData?.address.plz)\n\t\t\t\t//~ undefined,\n\t\t\t\t//~ {\n\t\t\t\t\t//~ signal: this.abortController.places.signal\n\t\t\t\t//~ }\n\t\t\t)\n\t\t\t.then(result => {\n\t\t\t\tthis.places = result.data\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (error.code != \"ERR_CANCELED\")\n\t\t\t\t\twindow.setTimeout(this.loadPlaces, 100);\n\t\t\t\telse\n\t\t\t\t\tthis.$fhcAlert.handleSystemError(error);\n\t\t\t});\n\t\t},\n\t\tloadStudienplaene() {\n\t\t\tif (this.formDataStg) {\n\t\t\t\tthis.$api\n\t\t\t\t\t.call(ApiStudienplan.getStudienplaeneBySemester(\n\t\t\t\t\t\tthis.formDataStg,\n\t\t\t\t\t\tthis.formDataSem,\n\t\t\t\t\t\tthis.formData?.ausbildungssemester,\n\t\t\t\t\t\tthis.formData?.orgform_kurzbz\n\t\t\t\t\t))\n\t\t\t\t\t.then(result => result.data || [])\n\t\t\t\t\t.then(result => {\n\t\t\t\t\t\tthis.studienplaene = result;\n\t\t\t\t\t\tif (this.formData?.studienplan_id !== '' && !this.studienplaene.filter(plan => plan.studienplan_id == this.formData?.studienplan_id).length)\n\t\t\t\t\t\t\tthis.formData.studienplan_id = '';\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tif (error.code == 'ERR_BAD_REQUEST') {\n\t\t\t\t\t\t\treturn this.studienplaene = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// NOTE(chris): repeat request\n\t\t\t\t\t\tif (error.code != \"ERR_CANCELED\")\n\t\t\t\t\t\t\twindow.setTimeout(this.loadStudienplaene, 100);\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tchangeAddressNation(e) {\n\t\t\tif (this.formData.geburtsnation == this.formData?.address.nation)\n\t\t\t\tthis.formData.geburtsnation = e.target.value;\n\t\t\tif (this.formData.staatsbuergerschaft == this.formData?.address.nation)\n\t\t\t\tthis.formData.staatsbuergerschaft = e.target.value;\n\t\t\tthis.loadPlaces();\n\t\t},\n\t\tsend(e) {\n\t\t\tif (this.person === null)\n\t\t\t\treturn this.person = 0;\n\n\t\t\t//this.$fhcAlert.resetFormValidation(this.$refs.form);\n\t\t\tconst data = {...this.formData, ...(this.person || {})};\n\t\t\tif (data.studiengang_kz === undefined)\n\t\t\t\tdata.studiengang_kz = this.studiengangKz;\n\t\t\tif (data.studiensemester_kurzbz === undefined)\n\t\t\t\tdata.studiensemester_kurzbz = this.studiensemesterKurzbz;\n\n\t\t\tdata.personOnly = this.personOnly;\n\n\t\t\tthis.$refs.form.call(\n\t\t\t\tApiStvStudents.add(data)\n\t\t\t)\n\t\t\t.then(result => {\n\t\t\t\tthis.$emit('saved', result.data);\n\t\t\t\tthis.$fhcAlert.alertSuccess('Gespeichert');\n\t\t\t\tthis.$refs.modal.hide();\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tsetPerson(suggestion)\n\t\t{\n\t\t\tthis.person = suggestion;\n\t\t\tthis.formData.address.checked = false;\n\t\t},\n\t\tdateFormatter(val)\n\t\t{\n\t\t\tif (!val)\n\t\t\t\treturn '';\n\t\t\tlet date = new Date(val);\n\t\t\treturn date.toLocaleDateString('de-AT', {\n\t\t\t\t\"day\": \"2-digit\",\n\t\t\t\t\"month\": \"2-digit\",\n\t\t\t\t\"year\": \"numeric\"\n\t\t\t});\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.uuid = _uuid++;\n\t\tthis.reset();\n\t\tthis.$api.call(ApiStudiensemester.getAll())\n\t\t.then(result => result.data || [])\n\t\t.then(result => {\n\t\t\tthis.semester = result;\n\t\t})\n\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\ttemplate: `\n\t<fhc-form ref=\"form\" class=\"stv-list-new\" @submit.prevent=\"send\">\n\t\t<bs-modal ref=\"modal\" dialog-class=\"modal-lg modal-dialog-scrollable\" style=\"min-height: 500px\" @hidden-bs-modal=\"reset\">\n\t\t\t<template #title>\n\t\t\t\t{{ personOnly ? $p.t('person', 'personAnlegen') : $p.t('lehre', 'interessentAnlegen') }}\n\t\t\t</template>\n\t\t\t<template #default>\n\n\t\t\t\t<template v-if=\"person === null\">\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'nachname')+'*'\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-nachname\"\n\t\t\t\t\t\t\t\tname=\"nachname\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['nachname']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t@input=\"loadSuggestions\"\n\t\t\t\t\t\t\t\t:min-length=\"3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'vorname')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t:id=\"'stv-list-new-vorname-' + uuid\"\n\t\t\t\t\t\t\t\tname=\"vorname\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['vorname']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t@input=\"loadSuggestions\"\n\t\t\t\t\t\t\t\t:min-length=\"3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'geburtsdatum')\"\n\t\t\t\t\t\t\t\ttype=\"datepicker\"\n\t\t\t\t\t\t\t\tuid=\"stv-list-new-gebdatum\"\n\t\t\t\t\t\t\t\tname=\"gebdatum\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['gebdatum']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t@update:model-value=\"loadSuggestions\"\n\t\t\t\t\t\t\t\ttext-input\n\t\t\t\t\t\t\t\tauto-apply\n\t\t\t\t\t\t\t\tno-today\n\t\t\t\t\t\t\t\t:enable-time-picker=\"false\"\n\t\t\t\t\t\t\t\tformat=\"dd.MM.yyyy\"\n\t\t\t\t\t\t\t\t:teleport=\"true\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table class=\"table caption-top table-striped table-hover\" >\n\t\t\t\t\t\t<caption>{{ $p.t('person', 'personExistiertPruefung') }}</caption>\n\t\t\t\t\t\t<thead v-if=\"suggestions?.length\">\n\t\t\t\t\t\t\t<th>{{ $p.t('person', 'nachname') }}</th>\n\t\t\t\t\t\t\t<th>{{ $p.t('person', 'vorname') }}</th>\n\t\t\t\t\t\t\t<th>{{ $p.t('person', 'weitereVornamen') }}</th>\n\t\t\t\t\t\t\t<th>{{ $p.t('person', 'geburtsdatum') }}</th>\n\t\t\t\t\t\t\t<th>{{ $p.t('person', 'geschlecht') }}</th>\n\t\t\t\t\t\t\t<th>{{ $p.t('person', 'adresse') }}</th>\n\t\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\tv-for=\"(suggestion, index) in suggestions\"\n\t\t\t\t\t\t\t\t:key=\"suggestion.person_id\"\n\t\t\t\t\t\t\t\t:class=\"{'active': index == 2}\"\n\t\t\t\t\t\t\t\t@click=\"(index == 2) ? suggestions.shift() : setPerson(suggestion)\"\n\t\t\t\t\t\t\t\tv-accessibility:tab.vertical\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<td>{{ suggestion.nachname }}</td>\n\t\t\t\t\t\t\t\t<td>{{ suggestion.vorname }}</td>\n\t\t\t\t\t\t\t\t<td>{{ suggestion.vornamen }}</td>\n\t\t\t\t\t\t\t\t<td>{{ dateFormatter(suggestion.gebdatum) }}</td>\n\t\t\t\t\t\t\t\t<td>{{ suggestion.geschlecht_bezeichnung }}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div v-for=\"adresse in suggestion.adressen\">\n\t\t\t\t\t\t\t\t\t\t{{ (adresse.plz ?? '') + (adresse.plz && adresse.ort ? ' ' : '') + (adresse.ort ?? '') + (adresse.ort && adresse.strasse ? ', ' : '') + (adresse.strasse ?? '') }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div v-for=\"status in suggestion.status\">\n\t\t\t\t\t\t\t\t\t\t{{ status.status_kurzbz + \" \" + status.studiengang_kuerzel }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'anrede')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-anrede\"\n\t\t\t\t\t\t\t\tname=\"anrede\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['anrede']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'titelPre')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-titelpre\"\n\t\t\t\t\t\t\t\tname=\"titelpre\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['titelpre']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'titelPost')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-titelpost\"\n\t\t\t\t\t\t\t\tname=\"titelpost\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['titelpost']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'nachname')+'*'\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-nachname\"\n\t\t\t\t\t\t\t\tname=\"nachname\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['nachname']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t@input=\"loadSuggestions\"\n\t\t\t\t\t\t\t\t:min-length=\"3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'vorname')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-vorname\"\n\t\t\t\t\t\t\t\tname=\"vorname\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['vorname']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t@input=\"loadSuggestions\"\n\t\t\t\t\t\t\t\t:min-length=\"3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'weitereVornamen')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-vornamen\"\n\t\t\t\t\t\t\t\tname=\"vornamen\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['vornamen']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'wahlname')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-wahlname\"\n\t\t\t\t\t\t\t\tname=\"wahlname\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['wahlname']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'geschlecht')+'*'\"\n\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-geschlecht\"\n\t\t\t\t\t\t\t\tname=\"geschlecht\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['geschlecht']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option v-for=\"geschlecht in lists.geschlechter\" :key=\"geschlecht.geschlecht\" :value=\"geschlecht.geschlecht\">{{geschlecht.bezeichnung}}</option>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'geburtsdatum')\"\n\t\t\t\t\t\t\t\ttype=\"datepicker\"\n\t\t\t\t\t\t\t\tuid=\"stv-list-new-gebdatum\"\n\t\t\t\t\t\t\t\tname=\"gebdatum\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['gebdatum']\"\n\t\t\t\t\t\t\t\t:disabled=\"!!person\"\n\t\t\t\t\t\t\t\t@update:model-value=\"loadSuggestions\"\n\t\t\t\t\t\t\t\ttext-input\n\t\t\t\t\t\t\t\tauto-apply\n\t\t\t\t\t\t\t\tno-today\n\t\t\t\t\t\t\t\t:enable-time-picker=\"false\"\n\t\t\t\t\t\t\t\tformat=\"dd.MM.yyyy\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-sm-6 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'adresseHinzufuegen')\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\tid=\"stv-new-adresse\"\n\t\t\t\t\t\t\t\tname=\"adresseChecked\"\n\t\t\t\t\t\t\t\tv-model=\"formData['address']['checked']\"\n\t\t\t\t\t\t\t\tvalue=\"true\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<fieldset v-if=\"formData['address']['checked']\">\n\t\t\t\t\t<hr>\n\t\t\t\t\t\t<legend>Adresse</legend>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'land')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-address-nation\"\n\t\t\t\t\t\t\t\t\tname=\"address[nation]\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['address']['nation']\"\n\t\t\t\t\t\t\t\t\t@input=\"changeAddressNation\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option v-for=\"nation in lists.nations\" :key=\"nation.nation_code\" :value=\"nation.nation_code\" :disabled=\"nation.sperre\">{{nation.langtext}}</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'plz')\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-address-plz\"\n\t\t\t\t\t\t\t\t\tname=\"address[plz]\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['address']['plz']\"\n\t\t\t\t\t\t\t\t\t@input=\"loadPlaces\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'gemeinde')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tv-if=\"formData['address']['nation'] == 'A'\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-address-gemeinde\"\n\t\t\t\t\t\t\t\t\tname=\"address[gemeinde]\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['address']['gemeinde']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option v-if=\"!gemeinden.length\" disabled>$p.t('ui', 'bittePlzWaehlen')</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"gemeinde in gemeinden\" :key=\"gemeinde.name\" :value=\"gemeinde.name\">{{gemeinde.name}}</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'gemeinde')\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-address-gemeinde\"\n\t\t\t\t\t\t\t\t\tname=\"address[gemeinde]\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['address']['gemeinde']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'ort')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tv-if=\"formData['address']['nation'] == 'A'\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-address-ort\"\n\t\t\t\t\t\t\t\t\tname=\"address[ort]\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['address']['ort']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option v-if=\"!orte.length\" disabled>Bitte gltige Gemeinde whlen</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"ort in orte\" :key=\"ort.ortschaftsname\" :value=\"ort.ortschaftsname\">{{ort.ortschaftsname}}</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'ort')\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-address-ort\"\n\t\t\t\t\t\t\t\t\tname=\"address[ort]\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['address']['ort']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-12 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'adresse')\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-address-address\"\n\t\t\t\t\t\t\t\t\tname=\"address[address]\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['address']['address']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<hr>\n\t\t\t\t\t</fieldset>\n\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'geburtsnation')\"\n\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-geburtsnation\"\n\t\t\t\t\t\t\t\tname=\"geburtsnation\" class=\"form-select\"\n\t\t\t\t\t\t\t\tv-model=\"formData['geburtsnation']\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option v-for=\"nation in lists.nations\" :key=\"nation.nation_code\" :value=\"nation.nation_code\" :disabled=\"nation.sperre\">{{nation.langtext}}</option>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'staatsbuergerschaft')\"\n\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-staatsbuergerschaft\"\n\t\t\t\t\t\t\t\tname=\"staatsbuergerschaft\"\n\t\t\t\t\t\t\t\tv-model=\"formData['staatsbuergerschaft']\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option v-for=\"nation in lists.nations\" :key=\"nation.nation_code\" :value=\"nation.nation_code\" :disabled=\"nation.sperre\">{{nation.langtext}}</option>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\tlabel=\"E-Mail\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-email\"\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['email']\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'telefon')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-telefon\"\n\t\t\t\t\t\t\t\tname=\"telefon\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['telefon']\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t:label=\"$p.t('person', 'mobil')\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"stv-list-new-mobil\"\n\t\t\t\t\t\t\t\tname=\"mobil\"\n\t\t\t\t\t\t\t\tv-model=\"formDataPerson['mobil']\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<fieldset v-if=\"!personOnly\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'letzeAusbildung')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-letzteausbildung\"\n\t\t\t\t\t\t\t\t\tname=\"letzteausbildung\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['letzteausbildung']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option v-for=\"ausbildung in lists.ausbildungen\" :key=\"ausbildung.ausbildungcode\" :value=\"ausbildung.ausbildungcode\">{{ausbildung.ausbildungbez}}</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'ausbildungsart')\"\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-ausbildungsart\"\n\t\t\t\t\t\t\t\t\tname=\"ausbildungsart\"\n\t\t\t\t\t\t\t\t\tv-model=\"formDataPerson['ausbildungsart']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-sm-8 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'anmerkungen')\"\n\t\t\t\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-anmerkungen\"\n\t\t\t\t\t\t\t\t\tname=\"anmerkungen\"\n\t\t\t\t\t\t\t\t\tv-model=\"formDataPerson['anmerkungen']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'studiengang')+'*'\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-studiengang_kz\"\n\t\t\t\t\t\t\t\t\tname=\"studiengang_kz\"\n\t\t\t\t\t\t\t\t\tv-model=\"formDataStg\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option v-for=\"stg in lists.active_stgs\" :key=\"stg.studiengang_kz\" :value=\"stg.studiengang_kz\">{{stg.kuerzel}}</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'studiensemester')+'*'\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-studiensemester_kurzbz\"\n\t\t\t\t\t\t\t\t\tname=\"studiensemester_kurzbz\"\n\t\t\t\t\t\t\t\t\tv-model=\"formDataSem\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option v-for=\"sem in semester\" :key=\"sem.studiensemester_kurzbz\" :value=\"sem.studiensemester_kurzbz\">{{sem.studiensemester_kurzbz}}</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'ausbildungssemester')+'*'\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-ausbildungssemester\"\n\t\t\t\t\t\t\t\t\tname=\"ausbildungssemester\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['ausbildungssemester']\"\n\t\t\t\t\t\t\t\t\t:disabled=\"formData['incoming']\"\n\t\t\t\t\t\t\t\t\t@change=\"loadStudienplaene\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option v-for=\"sem in Array.from({length:8}).map((u,i) => i+1)\" :key=\"sem\" :value=\"sem\">{{sem}}. Semester</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'organisationsform')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-orgform_kurzbz\"\n\t\t\t\t\t\t\t\t\tname=\"orgform_kurzbz\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['orgform_kurzbz']\"\n\t\t\t\t\t\t\t\t\t@change=\"loadStudienplaene\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">-- keine Auswahl --</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"orgform in lists.orgforms\" :key=\"orgform.orgform_kurzbz\" :value=\"orgform.orgform_kurzbz\">{{orgform.bezeichnung}}</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-sm-4 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'studienplan')\"\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tid=\"stv-list-new-studienplan_id\"\n\t\t\t\t\t\t\t\t\tname=\"studienplan_id\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData['studienplan_id']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">-- keine Auswahl --</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"plan in studienplaene\" :key=\"plan.studienplan_id\" :value=\"plan.studienplan_id\">{{plan.bezeichnung}}</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-10 mb-3\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\t\tlabel=\"Incoming\"\n\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\tid=\"stv-list-new-incoming\"\n\t\t\t\t\t\t\t\t\t\tname=\"incoming\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"formData['incoming']\"\n\t\t\t\t\t\t\t\t\t\tvalue=\"1\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</fieldset>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t\t<template #footer>\n\t\t\t\t<button v-if=\"person !== null\" type=\"button\" class=\"btn btn-secondary\" @click=\"person = null; formData.address.checked = true;\"><i class=\"fa fa-chevron-left\"></i>{{ $p.t('ui', 'zurueck') }}</button>\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\">{{ person === null || personOnly ? $p.t('person', 'personAnlegen') : $p.t('lehre', 'interessentAnlegen') }}</button>\n\t\t\t</template>\n\t\t</bs-modal>\n\t</fhc-form>`\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tconfigFilter() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/config/filter'\n\t\t};\n\t},\n\tconfigStudent() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/config/student'\n\t\t};\n\t},\n\tconfigStudents() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/config/students'\n\t\t};\n\t}\n};","import FilterItem from './Filter/Item.js';\n\nimport ApiStvApp from '../../../../api/factory/stv/app.js';\n\nexport default {\n\tname: \"ListPrestudentsFilter\",\n\tcomponents: {\n\t\tFilterItem\n\t},\n\temits: [\n\t\t'change'\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tfilters: [],\n\t\t\tfilterConfig: [// TODO(chris): get from BE!\n\t\t\t\t{\n\t\t\t\t\tname: 'stv/konto_filter_count_0',\n\t\t\t\t\ttype: 'konto',\n\t\t\t\t\tfixed: {\n\t\t\t\t\t\tmissing: true,\n\t\t\t\t\t\tusestdsem: true\n\t\t\t\t\t},\n\t\t\t\t\tdynamic: {\n\t\t\t\t\t\tbuchungstyp_kurzbz: {\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\tvalues: {\n\t\t\t\t\t\t\t\ttest1: 'Test1',\n\t\t\t\t\t\t\t\ttest2: 'Test2'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'stv/konto_filter_missing_counter',\n\t\t\t\t\ttype: 'konto_counter',\n\t\t\t\t\tdynamic: {\n\t\t\t\t\t\tbuchungstyp_kurzbz: {\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\tvalues: {\n\t\t\t\t\t\t\t\ttest1: 'Test1',\n\t\t\t\t\t\t\t\ttest2: 'Test2'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsamestg: {\n\t\t\t\t\t\t\ttype: 'bool',\n\t\t\t\t\t\t\tlabel: 'stv/konto',\n\t\t\t\t\t\t\tdefault: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\tcomputed: {\n\t\tcleanFilters() {\n\t\t\treturn this.filters.filter(filter => {\n\t\t\t\tif (!filter.type)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Object.values(filter).some(v => v === undefined))\n\t\t\t\t\treturn false;\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t},\n\twatch: {\n\t\tcleanFilters(n) {\n\t\t\tthis.$emit('change', n);\n\t\t}\n\t},\n\tmethods: {\n\t\tadd() {\n\t\t\tthis.filters.push({});\n\t\t},\n\t\tremove(index) {\n\t\t\tthis.filters.splice(index, 1);\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.$api\n\t\t\t.call(ApiStvApp.configFilter())\n\t\t\t.then(result => {\n\t\t\t\tthis.filterConfig = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\ttemplate: /* html */`\n\t<div class=\"stv-list-filter h-100\">\n\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=\"add\">\n\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t{{ $p.t('filter/filter') }}\n\t\t</button>\n\t\t<filter-item\n\t\t\tv-for=\"(filter, i) in filters\"\n\t\t\t:key=\"i\"\n\t\t\tv-model=\"filters[i]\"\n\t\t\t:filter-config=\"filterConfig\"\n\t\t\tclass=\"mt-3\"\n\t\t\t@remove=\"remove(i)\"\n\t\t/>\n\t</div>`\n};\n","export default {\n\tname: \"FilterItem\",\n\tprops: {\n\t\tmodelValue: Object,\n\t\tfilterConfig: Array\n\t},\n\temits: [\n\t\t'update:modelValue',\n\t\t'remove'\n\t],\n\tdata() {\n\t\treturn {\n\t\t\t//type: this.modelValue.type\n\t\t};\n\t},\n\tcomputed: {\n\t\tvalue: {\n\t\t\tget() {\n\t\t\t\treturn this.modelValue;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tthis.$emit('update:modelValue', value);\n\t\t\t}\n\t\t},\n\t\tfilterid: {\n\t\t\tget() {\n\t\t\t\treturn this.modelValue.filterid\n\t\t\t},\n\t\t\tset(filterid) {\n\t\t\t\tconst config = this.filterConfig.find(config => config.id == filterid);\n\t\t\t\tconst dynamic = Object.fromEntries(\n\t\t\t\t\tObject.keys(config.dynamic || {}).map(key => {\n\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\tconfig.dynamic[key].default\n\t\t\t\t\t\t];\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tthis.value = {\n\t\t\t\t\tfilterid,\n\t\t\t\t\ttype: config.type,\n\t\t\t\t\t...(config.fixed || {}),\n\t\t\t\t\t...dynamic\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tcurrentConfig() {\n\t\t\treturn this.filterConfig.find(config => config.id == this.filterid);\n\t\t}\n\t},\n\tmethods: {\n\t\tupdate() {\n\t\t\tthis.$emit('update:modelValue', this.value);\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<div class=\"stv-list-filter-item input-group\">\n\t\t<label\n\t\t\tclass=\"input-group-text col-4\"\n\t\t\tfor=\"stv-list-filter-konto-count-0\"\n\t\t>\n\t\t\t{{ $p.t('stv/filter_for') }}\n\t\t</label>\n\t\t<select\n\t\t\tv-model=\"filterid\"\n\t\t\tid=\"stv-list-filter-konto-count-0\"\n\t\t\tclass=\"form-select\"\n\t\t>\n\t\t\t<option\n\t\t\t\tv-for=\"(filter, i) in filterConfig\"\n\t\t\t\t:key=\"i\"\n\t\t\t\t:value=\"filter.id\"\n\t\t\t>\n\t\t\t\t{{ filter.label }}\n\t\t\t</option>\n\t\t</select>\n\t\t<template v-for=\"(conf, key) in currentConfig?.dynamic\" :key=\"key\">\n\t\t\t<select\n\t\t\t\tv-if=\"conf.type == 'select'\"\n\t\t\t\tv-model=\"modelValue[key]\"\n\t\t\t\tclass=\"form-select\"\n\t\t\t\t@input=\"update\"\n\t\t\t>\n\t\t\t\t<option\n\t\t\t\t\tv-for=\"(label, value) in conf.values\"\n\t\t\t\t\t:key=\"conf.value_key ? label[conf.value_key] : value\"\n\t\t\t\t\t:value=\"conf.value_key ? label[conf.value_key] : value\"\n\t\t\t\t>\n\t\t\t\t\t{{ conf.label_key ? label[conf.label_key] : label }}\n\t\t\t\t</option>\n\t\t\t</select>\n\t\t\t<template v-else-if=\"conf.type == 'bool'\">\n\t\t\t\t<div class=\"input-group-text\">\n\t\t\t\t\t<label class=\"form-check-label\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tv-model=\"modelValue[key]\"\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tclass=\"form-check-input me-1\"\n\t\t\t\t\t\t\t@input=\"update\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{{ conf.label }}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</template>\n\t\t<button\n\t\t\tclass=\"btn btn-outline-secondary\"\n\t\t\t:title=\"$p.t('ui/entfernen')\"\n\t\t\t:aria-label=\"$p.t('ui/entfernen')\"\n\t\t\t@click=\"$emit('remove')\"\n\t\t><i class=\"fa fa-times\"></i></button>\n\t</div>`\n};\n","export function capitalize(string) {\n\tif (!string) return '';\n\treturn string[0].toUpperCase() + string.slice(1);\n}","import { setTransferData, convertToValidDragObject } from '../helpers/DragAndDrop.js';\n\nconst EFFECTS = [\n\t'none',\n\t'copy',\n\t'copyLink',\n\t'copyMove',\n\t'link',\n\t'linkMove',\n\t'move',\n\t'all',\n\t'uninitialized'\n];\n\nexport default {\n\tmounted(el, binding) {\n\t\tupdateValue(el, binding.value);\n\t\tupdateEffectAllowed(el, binding.arg);\n\n\t\t// if modifier capture is set we assume it's on a parent element\n\t\t// i.e: for dragging multiple elements\n\t\t// otherwise set draggable attribute\n\t\tif (!binding.modifiers.capture) {\n\t\t\tel.draggable = true;\n\t\t}\n\n\t\tconst bcc = new BroadcastChannel('fhc-dnd');\n\t\tlet blocked = false;\n\n\t\tfunction onStart(evt) {\n\t\t\tconst value = el.dataset.fhcDraggableValue;\n\t\t\tif (value) {\n\t\t\t\tsetTransferData(evt, JSON.parse(value), true);\n\t\t\t\tif (el.dataset.fhcEffectAllowed)\n\t\t\t\t\tevt.dataTransfer.effectAllowed = el.dataset.fhcEffectAllowed;\n\n\t\t\t\tbcc.onmessage = e => {\n\t\t\t\t\tif (e.data == 'block') {\n\t\t\t\t\t\tblocked = true;\n\t\t\t\t\t} else if (e.data == 'release') {\n\t\t\t\t\t\tlet evt = null;\n\t\t\t\t\t\tif (blocked && blocked.evt) {\n\t\t\t\t\t\t\tevt = blocked.evt;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tblocked = false;\n\t\t\t\t\t\tif (evt)\n\t\t\t\t\t\t\tel.dispatchEvent(evt);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t}\n\n\t\tfunction onEnd(evt) {\n\t\t\tif (blocked) {\n\t\t\t\tblocked = {\n\t\t\t\t\tevt,\n\t\t\t\t\tdt: evt.dataTransfer\n\t\t\t\t};\n\t\t\t\tevt.stopPropagation();\n\t\t\t\tel.dispatchEvent(new DragEvent(\"beforedragend\", evt));\n\t\t\t} else {\n\t\t\t\tbcc.onmessage = () => {};\n\t\t\t}\n\t\t}\n\t\tel.addEventListener('dragstart', onStart, binding.modifiers.capture);\n\n\t\tel.addEventListener('dragend', onEnd, true);\n\n\t\tel.fhcDraggableCleanup = () => {\n\t\t\tel.removeEventListener('dragstart', onStart, binding.modifiers.capture);\n\t\t\tel.removeEventListener('dragend', onEnd, true);\n\t\t};\n\t},\n\tupdated(el, binding) {\n\t\tupdateValue(el, binding.value);\n\t\tupdateEffectAllowed(el, binding.arg);\n\t},\n\tbeforeUnmount(el) {\n\t\tel.fhcDraggableCleanup();\n\t\tdelete el.fhcDraggableCleanup;\n\t}\n}\n\n// Helper functions\nfunction updateValue(el, value) {\n\tvalue = convertToValidDragObject(value);\n\tif (value) {\n\t\tel.dataset.fhcDraggableValue = JSON.stringify(value);\n\t} else if (el.dataset.fhcDraggableValue) {\n\t\tdelete el.dataset.fhcDraggableValue;\n\t}\n}\nfunction updateEffectAllowed(el, effectAllowed) {\n\tif (effectAllowed && EFFECTS.includes(effectAllowed)) {\n\t\tel.dataset.fhcEffectAllowed = effectAllowed;\n\t} else if (el.dataset.fhcEffectAllowed) {\n\t\tdelete el.dataset.fhcEffectAllowed;\n\t}\n}\n","import {CoreFilterCmpt} from \"../../filter/Filter.js\";\nimport ListNew from './List/New.js';\nimport ListFilter from './List/Filter.js';\n\nimport { capitalize } from '../../../helpers/StringHelpers.js';\n\nimport draggable from '../../../directives/draggable.js';\n\nexport default {\n\tname: \"ListPrestudents\",\n\tcomponents: {\n\t\tCoreFilterCmpt,\n\t\tListNew,\n\t\tListFilter\n\t},\n\tdirectives: {\n\t\tdraggable\n\t},\n\tinject: {\n\t\tlists: {\n\t\t\tfrom: 'lists',\n\t\t\trequired: true\n\t\t},\n\t\t$reloadList: {\n\t\t\tfrom: '$reloadList',\n\t\t\trequired: true\n\t\t},\n\t\tcurrentSemester: {\n\t\t\tfrom: 'currentSemester',\n\t\t\trequired: true\n\t\t}\n\t},\n\tprops: {\n\t\tselected: Array,\n\t\tstudiengangKz: Number,\n\t\tstudiensemesterKurzbz: String\n\t},\n\temits: [\n\t\t'update:selected'\n\t],\n\tdata() {\n\t\tfunction dateFormatter(cell)\n\t\t{\n\t\t\tlet val = cell.getValue();\n\t\t\tif (!val)\n\t\t\t\treturn '&nbsp;';\n\t\t\tlet date = new Date(val);\n\t\t\treturn date.toLocaleDateString('de-AT', {\n\t\t\t\t\"day\": \"2-digit\",\n\t\t\t\t\"month\": \"2-digit\",\n\t\t\t\t\"year\": \"numeric\"\n\t\t\t});\n\t\t}\n\n\t\treturn {\n\t\t\ttabulatorOptions: {\n\t\t\t\tcolumns:[\n\t\t\t\t\t{title:\"UID\", field:\"uid\", headerFilter: true},\n\t\t\t\t\t{title:\"TitelPre\", field:\"titelpre\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"Nachname\", field:\"nachname\", headerFilter: true},\n\t\t\t\t\t{title:\"Vorname\", field:\"vorname\", headerFilter: true},\n\t\t\t\t\t{title:\"Wahlname\", field:\"wahlname\", visible:false, headerFilter: true},\n\t\t\t\t\t{title:\"Vornamen\", field:\"vornamen\", visible:false, headerFilter: true},\n\t\t\t\t\t{title:\"TitelPost\", field:\"titelpost\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"Ersatzkennzeichen\", field:\"ersatzkennzeichen\", headerFilter: true},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"Geburtsdatum\",\n\t\t\t\t\t\tfield: \"gebdatum\",\n\t\t\t\t\t\tformatter: dateFormatter, \n\t\t\t\t\t\theaderFilter: true,\n\t\t\t\t\t\theaderFilterFunc(headerValue, rowValue) {\n\t\t\t\t\t\t\tconst matches = headerValue.match(/^(([0-9]{2})\\.)?([0-9]{2})\\.([0-9]{4})?$/);\n\t\t\t\t\t\t\tlet comparestr = headerValue;\n\t\t\t\t\t\t\tif(matches !== null) {\n\t\t\t\t\t\t\t\tconst year = (matches[4] !== undefined) ? matches[4] : '';\n\t\t\t\t\t\t\t\tconst month = matches[3];\n\t\t\t\t\t\t\t\tconst day = (matches[2] !== undefined) ? matches[2] : '';\n\t\t\t\t\t\t\t\tcomparestr = year + '-' + month + '-' + day;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn rowValue.match(comparestr);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{title:\"Geschlecht\", field:\"geschlecht\", headerFilter: \"list\", headerFilterParams: {values:{'m':'mnnlich','w':'weiblich','x':'divers','u':'unbekannt'}, listOnEmpty:true, autocomplete:true}},\n\t\t\t\t\t{title:\"Sem.\", field:\"semester\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"Verb.\", field:\"verband\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"Grp.\", field:\"gruppe\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"Studiengang\", field:\"studiengang\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"Studiengang_kz\", field:\"studiengang_kz\", visible:false, headerFilter: true},\n\t\t\t\t\t{title:\"Personenkennzeichen\", field:\"matrikelnr\", headerFilter: true},\n\t\t\t\t\t{title:\"PersonID\", field:\"person_id\", headerFilter: true},\n\t\t\t\t\t{title:\"Status\", field:\"status\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"Status Datum\", field:\"status_datum\", visible:false, formatter:dateFormatter},\n\t\t\t\t\t{title:\"Status Bestaetigung\", field:\"status_bestaetigung\", visible:false, formatter:dateFormatter, headerFilter: true},\n\t\t\t\t\t{title:\"EMail (Privat)\", field:\"mail_privat\", visible:false, headerFilter: true},\n\t\t\t\t\t{title:\"EMail (Intern)\", field:\"mail_intern\", visible:false, headerFilter: true},\n\t\t\t\t\t{title:\"Anmerkungen\", field:\"anmerkungen\", visible:false, headerFilter: true},\n\t\t\t\t\t{title:\"AnmerkungPre\", field:\"anmerkung\", visible:false, headerFilter: true},\n\t\t\t\t\t{title:\"OrgForm\", field:\"orgform_kurzbz\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"Aufmerksamdurch\", field:\"aufmerksamdurch_kurzbz\", visible:false},\n\t\t\t\t\t{title:\"Gesamtpunkte\", field:\"punkte\", visible:false},\n\t\t\t\t\t{title:\"Aufnahmegruppe\", field:\"aufnahmegruppe_kurzbz\", visible:false},\n\t\t\t\t\t{title:\"Dual\", field:\"dual\", visible:false, \n\t\t\t\t\t\tformatter:'tickCross', formatterParams: {\n\t\t\t\t\t\t\ttickElement: '<i class=\"fas fa-check text-success\"></i>',\n\t\t\t\t\t\t\tcrossElement: '<i class=\"fas fa-times text-danger\"></i>'\n\t\t\t\t\t\t},\t\t\t\t\t\t\n\t\t\t\t\t\theaderFilter:\"tickCross\", headerFilterParams: {\n\t\t\t\t\t\t\t\"tristate\":true, elementAttributes:{\"value\":\"true\"}\n\t\t\t\t\t\t}, headerFilterEmptyCheck:function(value){return value === null}\n\t\t\t\t\t},\n\t\t\t\t\t{title:\"Matrikelnummer\", field:\"matr_nr\", visible:false, headerFilter: true},\n\t\t\t\t\t{title:\"Studienplan\", field:\"studienplan_bezeichnung\", headerFilter: \"list\", headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}},\n\t\t\t\t\t{title:\"PreStudentInnenID\", field:\"prestudent_id\", headerFilter: true},\n\t\t\t\t\t{title:\"Prioritt\", field:\"priorisierung_relativ\"},\n\t\t\t\t\t{title:\"Mentor\", field:\"mentor\", visible:false},\n\t\t\t\t\t{title:\"Aktiv\", field:\"bnaktiv\", visible:false, \n\t\t\t\t\t\tformatter:'tickCross', formatterParams: {\n\t\t\t\t\t\t\tallowEmpty:true,\n\t\t\t\t\t\t\ttickElement: '<i class=\"fas fa-check text-success\"></i>',\n\t\t\t\t\t\t\tcrossElement: '<i class=\"fas fa-times text-danger\"></i>'\n\t\t\t\t\t\t},\t\t\t\t\t\t\n\t\t\t\t\t\theaderFilter:\"tickCross\", headerFilterParams: {\n\t\t\t\t\t\t\t\"tristate\":true, elementAttributes:{\"value\":\"true\"}\n\t\t\t\t\t\t}, headerFilterEmptyCheck:function(value){return value === null}\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\trowFormatter(row) {\n\t\t\t\t\tif (row.getData().bnaktiv === false) {\n\t\t\t\t\t\trow.getElement().classList.add('text-black','text-opacity-50','fst-italic');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tajaxRequestFunc: (url, config, params) => {\n\t\t\t\t\tif( url === '' ) \n\t\t\t\t\t{\n\t\t\t\t\t\treturn Promise.resolve({ data: []});\n\t\t\t\t\t}\n\t\t\t\t\t/**\n\t\t\t\t\t * NOTE(chris): Because of a bug in Tabulator\n\t\t\t\t\t * we need to get the params from elsewhere.\n\t\t\t\t\t * @see https://github.com/olifolkerd/tabulator/issues/4318\n\t\t\t\t\t */\n\t\t\t\t\tconst apiconfig = {\n\t\t\t\t\t\t...this.tabulatorOptions.ajaxConfig,\n\t\t\t\t\t\turl: this.tabulatorOptions.ajaxURL,\n\t\t\t\t\t\tparams: this.tabulatorOptions.ajaxParams\n\t\t\t\t\t};\n\t\t\t\t\treturn this.$api.call(apiconfig);\n\t\t\t\t},\n\t\t\t\tajaxResponse: (url, params, response) => {\n\t\t\t\t\treturn response?.data;\n\t\t\t\t},\n\n\t\t\t\tlayout: 'fitDataStretch',\n\t\t\t\tlayoutColumnsOnNewData: false,\n\t\t\t\theight: '100%',\n\t\t\t\tselectable: true,\n\t\t\t\tselectableRangeMode: 'click',\n\t\t\t\tindex: 'prestudent_id',\n\t\t\t\tpersistenceID: 'stv-list'\n\t\t\t},\n\t\t\ttabulatorEvents: [\n\t\t\t\t{\n\t\t\t\t\tevent: 'rowSelectionChanged',\n\t\t\t\t\thandler: this.rowSelectionChanged\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tevent: 'dataProcessed',\n\t\t\t\t\thandler: this.autoSelectRows\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tevent: 'dataLoaded',\n\t\t\t\t\thandler: data => this.count = data.length\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tevent: 'dataFiltered',\n\t\t\t\t\thandler: (filters, rows) => this.filteredcount = rows.length\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tevent: 'rowClick',\n\t\t\t\t\thandler: this.handleRowClick // TODO(chris): this should be in the filter component\n\t\t\t\t}\n\t\t\t],\n\t\t\tfocusObj: null, // TODO(chris): this should be in the filter component\n\t\t\tlastSelected: null,\n\t\t\tfilter: [],\n\t\t\tcount: 0,\n\t\t\tfilteredcount: 0,\n\t\t\tselectedcount: 0,\n\t\t\tcurrentEndpoint: null\n\t\t}\n\t},\n\tcomputed: {\n\t\tcountsToHTML: function() {\n\t\t\treturn this.$p.t('global/ausgewaehlt')\n\t\t\t\t+ ': <strong>' + (this.selectedcount || 0) + '</strong>'\n\t\t\t\t+ ' | '\n\t\t\t\t+ this.$p.t('global/gefiltert')\n\t\t\t\t+ ': '\n\t\t\t\t+ '<strong>' + (this.filteredcount || 0) + '</strong>'\n\t\t\t\t+ ' | '\n\t\t\t\t+ this.$p.t('global/gesamt')\n\t\t\t\t+ ': <strong>' + (this.count || 0) + '</strong>';\n\t\t},\n\t\tselectedDragObject() {\n\t\t\treturn this.selected.map(item => {\n\t\t\t\tlet type, id;\n\t\t\t\tif (item.uid) {\n\t\t\t\t\ttype = 'student';\n\t\t\t\t\tid = item.uid;\n\t\t\t\t} else if (item.prestudent_id) {\n\t\t\t\t\ttype = 'prestudent';\n\t\t\t\t\tid = item.prestudent_id;\n\t\t\t\t} else if (item.person_id) {\n\t\t\t\t\ttype = 'person';\n\t\t\t\t\tid = item.person_id;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\t...item,\n\t\t\t\t\ttype,\n\t\t\t\t\tid\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\tdownloadConfig() {\n\t\t\treturn {\n\t\t\t\tcsv: {\n\t\t\t\t\tformatter: 'csv',\n\t\t\t\t\tfile: this.fileString,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tdelimiter: ';',\n\t\t\t\t\t\tbom: true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tfileString() {\n\t\t\tlet today = new Date().toLocaleDateString('en-GB')\n\t\t\t\t.replace(/\\//g, '_');\n\t\t\treturn \"StudentList_\" + today + \".csv\";\n\t\t}\n\t},\n\twatch: {\n\t\t'$p.user_language.value'(n, o) {\n\t\t\tif (n !== o && o !== undefined && this.$refs.table.tableBuilt) {\n\t\t\t\tthis.translateTabulator();\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\ttranslateTabulator() {\n\t\t\tthis.$p\n\t\t\t\t.loadCategory(['global', 'person', 'lehre', 'ui', 'profilUpdate', 'admission', 'stv'])\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst translations = {\n\t\t\t\t\t\tuid: capitalize(this.$p.t('person/uid')),\n\t\t\t\t\t\ttitelpre: capitalize(this.$p.t('person/titelpre')),\n\t\t\t\t\t\tnachname: capitalize(this.$p.t('person/nachname')),\n\t\t\t\t\t\tvorname: capitalize(this.$p.t('person/vorname')),\n\t\t\t\t\t\twahlname: capitalize(this.$p.t('person/wahlname')),\n\t\t\t\t\t\tvornamen: capitalize(this.$p.t('person/vornamen')),\n\t\t\t\t\t\ttitelpost: capitalize(this.$p.t('person/titelpost')),\n\t\t\t\t\t\tersatzkennzeichen: capitalize(this.$p.t('person/ersatzkennzeichen')),\n\t\t\t\t\t\tgebdatum: capitalize(this.$p.t('person/geburtsdatum')),\n\t\t\t\t\t\tgeschlecht: capitalize(this.$p.t('person/geschlecht')),\n\t\t\t\t\t\tsemester: capitalize(this.$p.t('lehre/sem')),\n\t\t\t\t\t\tverband: capitalize(this.$p.t('lehre/verb')),\n\t\t\t\t\t\tgruppe: capitalize(this.$p.t('lehre/grp')),\n\t\t\t\t\t\tstudiengang: capitalize(this.$p.t('lehre/studiengang')),\n\t\t\t\t\t\tstudiengang_kz: capitalize(this.$p.t('lehre/studiengang_kz')),\n\t\t\t\t\t\tmatrikelnr: capitalize(this.$p.t('person/personenkennzeichen')),\n\t\t\t\t\t\tperson_id: capitalize(this.$p.t('person/person_id')),\n\t\t\t\t\t\tstatus: capitalize(this.$p.t('global/status')),\n\t\t\t\t\t\tstatus_datum: capitalize(this.$p.t('profilUpdate/statusDate')),\n\t\t\t\t\t\tstatus_bestaetigung: capitalize(this.$p.t('global/status_bestaetigung')),\n\t\t\t\t\t\tmail_privat: capitalize(this.$p.t('person/email_private')),\n\t\t\t\t\t\tmail_intern: capitalize(this.$p.t('person/email_intern')),\n\t\t\t\t\t\tanmerkungen: capitalize(this.$p.t('stv/notes_person')),\n\t\t\t\t\t\tanmerkung: capitalize(this.$p.t('stv/notes_prestudent')),\n\t\t\t\t\t\torgform_kurzbz: capitalize(this.$p.t('lehre/orgform')),\n\t\t\t\t\t\taufmerksamdurch_kurzbz: capitalize(this.$p.t('person/aufmerksamDurch')),\n\t\t\t\t\t\tpunkte: capitalize(this.$p.t('admission/gesamtpunkte')),\n\t\t\t\t\t\taufnahmegruppe_kurzbz: capitalize(this.$p.t('stv/aufnahmegruppe_kurzbz')),\n\t\t\t\t\t\tdual: capitalize(this.$p.t('lehre/dual_short')),\n\t\t\t\t\t\tmatr_nr: capitalize(this.$p.t('person/matrikelnummer')),\n\t\t\t\t\t\tstudienplan_bezeichnung: capitalize(this.$p.t('lehre/studienplan')),\n\t\t\t\t\t\tprestudent_id: capitalize(this.$p.t('ui/prestudent_id')),\n\t\t\t\t\t\tpriorisierung_relativ: capitalize(this.$p.t('lehre/prioritaet')),\n\t\t\t\t\t\tmentor: capitalize(this.$p.t('stv/mentor')),\n\t\t\t\t\t\tbnaktiv: capitalize(this.$p.t('person/aktiv'))\n\t\t\t\t\t};\n\n\t\t\t\t\t/** NOTE(chris):\n\t\t\t\t\t * use this approach because updateDefinition\n\t\t\t\t\t * on the Tabulator columns is way slower and\n\t\t\t\t\t * freezes up the GUI.\n\t\t\t\t\t */\n\t\t\t\t\t// Overwrite definition for column show/hide\n\t\t\t\t\tthis.$refs.table.tabulator.getColumns().forEach(col => {\n\t\t\t\t\t\tconst trans = translations[col.getField()];\n\t\t\t\t\t\tif (!trans)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcol.getDefinition().title = trans;\n\t\t\t\t\t});\n\t\t\t\t\t// Overwrite node in dom\n\t\t\t\t\tthis.$refs.table.tabulator.element\n\t\t\t\t\t\t.querySelectorAll('.tabulator-col[tabulator-field]')\n\t\t\t\t\t\t.forEach(el => {\n\t\t\t\t\t\t\tconst field = el.getAttribute('tabulator-field');\n\t\t\t\t\t\t\tif (!translations[field])\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\tconst title = el.querySelector('.tabulator-col-title');\n\t\t\t\t\t\t\tif (!title)\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\ttitle.innerText = translations[field];\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\treload() {\n\t\t\tthis.$refs.table.reloadTable();\n\t\t},\n\t\tactionNewPrestudent() {\n\t\t\tthis.$refs.new.open();\n\t\t},\n\t\trowSelectionChanged(data, rows) {\n\t\t\tthis.selectedcount = data.length;\n\t\t\tthis.lastSelected = this.selected;\n\t\t\tthis.$emit('update:selected', data);\n\n\t\t\t// set selected elements draggable\n\t\t\tconst tableEl = this.$refs.table?.$refs?.table;\n\t\t\tif (tableEl) {\n\t\t\t\tconst oldDragables = tableEl.querySelectorAll('[draggable]');\n\t\t\t\tfor (const draggable of oldDragables)\n\t\t\t\t\tdraggable.removeAttribute('draggable');\n\t\t\t}\n\t\t\trows.forEach(row => row.getElement().draggable = true);\n\t\t},\n\t\tautoSelectRows(data) {\n\t\t\tif (this.lastSelected) {\n\t\t\t\t// NOTE(chris): reselect rows on refresh\n\t\t\t\tlet selected = this.lastSelected.map(el => this.$refs.table.tabulator.getRow(el.prestudent_id))\n\t\t\t\t// TODO(chris): unselect current item if it's no longer in the table?\n\t\t\t\t// or maybe reselect only the last one?\n\t\t\t\tselected = selected.filter(el => el);\n\n\t\t\t\tif (selected.length)\n\t\t\t\t\tthis.$refs.table.tabulator.selectRow(selected);\n\t\t\t} else if(this.lastSelected === undefined) {\n\t\t\t\t// NOTE(chris): select row if it's the only one (preferably only on startup)\n\t\t\t\tif (data.length == 1) {\n\t\t\t\t\tthis.$refs.table.tabulator.selectRow(this.$refs.table.tabulator.getRows());\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tupdateFilter(filter) {\n\t\t\tthis.filter = filter;\n\t\t\tthis.updateUrl();\n\t\t},\n\t\tupdateUrl(endpoint, first) {\n\t\t\tthis.lastSelected = first ? undefined : this.selected;\n\n\t\t\tconsole.log('function param endpoint: ' + JSON.stringify(endpoint));\n\t\t\tconsole.log('current endpoint: ' + JSON.stringify(this.currentEndpoint));\n\n\t\t\tif( endpoint === undefined && this.currentEndpoint === null)\n\t\t\t{\n\t\t\t\tendpoint = { url: '' };\n\t\t\t}\n\t\t\telse if( endpoint === undefined )\n\t\t\t{\n\t\t\t\tendpoint = JSON.parse(JSON.stringify(this.currentEndpoint));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.currentEndpoint = JSON.parse(JSON.stringify(endpoint));\n\t\t\t}\n\n\t\t\tendpoint.url = endpoint.url.replace(\n\t\t\t\t'CURRENT_SEMESTER',\n\t\t\t\tencodeURIComponent(this.currentSemester)\n\t\t\t\t);\n\n\t\t\tconst params = (endpoint?.params !== undefined) ? endpoint.params : {};\n\t\t\tlet method = (endpoint?.method !== undefined) ? endpoint.method : 'get';\n\t\t\tif (this.filter.length && !endpoint.url.match(/\\/search\\//))\n\t\t\t{\n\t\t\t\tparams.filter = this.filter;\n\t\t\t\tmethod = 'post';\n\t\t\t}\n\n\t\t\tthis.tabulatorOptions.ajaxURL = endpoint.url;\n\t\t\tthis.tabulatorOptions.ajaxParams = { ...params };\n\t\t\tthis.tabulatorOptions.ajaxConfig = {method};\n\t\t\tif (!this.$refs.table.tableBuilt) {\n\t\t\t\tif (this.$refs.table.tabulator) {\n\t\t\t\t\tthis.$refs.table.tabulator.on(\"tableBuilt\", () => {\n\t\t\t\t\t\tthis.$refs.table.tabulator.setData(endpoint.url, params, method);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else\n\t\t\t\tthis.$refs.table.tabulator.setData(endpoint.url, params, method);\n\t\t},\n\t\tdragCleanup(evt) {\n\t\t\tif (evt.dataTransfer.dropEffect == 'none')\n\t\t\t\treturn; // aborted or wrong target\n\t\t\t\n\t\t\tthis.$reloadList();\n\t\t},\n\t\tonKeydown(e) { // TODO(chris): this should be in the filter component\n\t\t\tif (!this.focusObj)\n\t\t\t\treturn;\n\n\t\t\tvar next;\n\t\t\tswitch (e.code) {\n\t\t\t\tcase 'Enter':\n\t\t\t\tcase 'Space':\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar e2 = new Event('click', e);\n\t\t\t\t\te2.altKey = e.altKey;\n\t\t\t\t\te2.ctrlKey = e.ctrlKey;\n\t\t\t\t\te2.shiftKey = e.shiftKey;\n\t\t\t\t\tthis.focusObj.dispatchEvent(e2);\n\t\t\t\t\t//row.component.toggleSelect();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tnext = this.focusObj.previousElementSibling;\n\t\t\t\t\tif (next)\n\t\t\t\t\t\tthis.changeFocus(this.focusObj, next);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tnext = this.focusObj.nextElementSibling;\n\t\t\t\t\tif (next)\n\t\t\t\t\t\tthis.changeFocus(this.focusObj, next);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\tchangeFocus(a, b) { // TODO(chris): this should be in the filter component\n\t\t\tif (b) {\n\t\t\t\tb.tabIndex = 0;\n\t\t\t\tthis.focusObj = b;\n\t\t\t\tb.focus();\n\t\t\t} else {\n\t\t\t\tthis.focusObj = null;\n\t\t\t}\n\t\t\ta.tabIndex = -1;\n\t\t\treturn this.focusObj;\n\t\t},\n\t\tonFocus(e) { // TODO(chris): this should be in the filter component\n\t\t\tif (!this.focusObj) {\n\t\t\t\tvar container, target;\n\t\t\t\tif (e.target.classList.contains('tabulator-container')) {\n\t\t\t\t\tcontainer = e.target;\n\t\t\t\t\ttarget = container.querySelector('.tabulator-row');\n\t\t\t\t} else if (e.target.classList.contains('tabulator-row')) {\n\t\t\t\t\tcontainer = e.target.closest('.tabulator-container');\n\t\t\t\t\ttarget = e.target;\n\t\t\t\t}\n\t\t\t\tif (container && target) {\n\t\t\t\t\tthis.changeFocus(container, target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thandleRowClick(e, row) { // TODO(chris): this should be in the filter component\n\t\t\tif (this.focusObj) {\n\t\t\t\tlet el = row.getElement();\n\t\t\t\tif (el != this.focusObj)\n\t\t\t\t\tthis.changeFocus(this.focusObj, el);\n\t\t\t}\n\t\t}\n\t},\n\t// TODO(chris): focusin, focusout, keydown and tabindex should be in the filter component\n\t// TODO(chris): filter component column chooser has no accessibilty features\n\ttemplate: `\n\t<div class=\"stv-list h-100 pt-3\">\n\t\t<div\n\t\t\tclass=\"tabulator-container d-flex flex-column h-100\"\n\t\t\t:class=\"{'has-filter': filter.length}\"\n\t\t\ttabindex=\"0\"\n\t\t\t@focusin=\"onFocus\"\n\t\t\t@keydown=\"onKeydown\"\n\t\t\tv-draggable:copyLink.capture=\"selectedDragObject\"\n\t\t\t@dragend=\"dragCleanup\"\n\t\t>\n\t\t\t<core-filter-cmpt\n\t\t\t\tref=\"table\"\n\t\t\t\t:description=\"countsToHTML\"\n\t\t\t\t:tabulator-options=\"tabulatorOptions\"\n\t\t\t\t:tabulator-events=\"tabulatorEvents\"\n\t\t\t\ttable-only\n\t\t\t\t:side-menu=\"false\"\n\t\t\t\treload\n\t\t\t\t:download=\"downloadConfig\"\n\t\t\t\tnew-btn-show\n\t\t\t\t:new-btn-label=\"$p.t('stv/action_new')\"\n\t\t\t\t@click:new=\"actionNewPrestudent\"\n\t\t\t\t@table-built=\"translateTabulator\"\n\t\t\t>\n\t\t\t<template #filter>\n\t\t\t\t<div class=\"card\">\n\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t<list-filter @change=\"updateFilter\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t</core-filter-cmpt>\n\t\t</div>\n\t\t<list-new ref=\"new\" :studiengang-kz=\"studiengangKz\" :studiensemester-kurzbz=\"studiensemesterKurzbz\"></list-new>\n\t</div>`\n};\n","import accessibility from \"../directives/accessibility.js\";\n\nimport TabView from '../../../index.ci.php/public/js/components/primevue/tabview/tabview.esm.min.js';\nimport TabPanel from '../../../index.ci.php/public/js/components/primevue/tabpanel/tabpanel.esm.min.js';\n\nexport default {\n\tcomponents: {\n\t\ttabview: TabView,\n\t\ttabpanel: TabPanel\n\t},\n\tdirectives: {\n\t\taccessibility\n\t},\n\temits: [\n\t\t'update:modelValue',\n\t\t'change',\n\t\t'changed'\n\t],\n\tprops: {\n\t\tconfig: {\n\t\t\ttype: [String, Array, Object, Promise],\n\t\t\trequired: true\n\t\t},\n\t\tdefault: String,\n\t\tmodelValue: [String, Number, Boolean, Array, Object, Date, Function, Symbol],\n\t\tvertical: Boolean,\n\t\tborder: Boolean,\n\t\tuseprimevue: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrent: null,\n\t\t\ttabs: {},\n\t\t\tcount: null\n\t\t}\n\t},\n\tcomputed: {\n\t\tcurrentTab() {\n\t\t\tif (this.tabs[this.current])\n\t\t\t\treturn this.tabs[this.current];\n\n\t\t\treturn { component: 'div' };\n\t\t},\n\t\tvalue: {\n\t\t\tget() {\n\t\t\t\treturn this.modelValue;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tthis.$emit('update:modelValue', v);\n\t\t\t}\n\t\t},\n\t\tcalcActiveIndex: function() {\n\t\t\tlet keys = Object.keys(this.tabs);\n\t\t\tlet index = keys.indexOf(this.default);\n\t\t\tif( index === -1 ) {\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t},\n\twatch: {\n\t\tconfig(n) {\n\t\t\tthis.initConfig(n);\n\t\t}\n\t},\n\tmethods: {\n\t\thandleTabClick: function (e) {\n\t\t\tlet keys = Object.keys(this.tabs);\n\t\t\tthis.change(keys[e.index]);\n\t\t},\n\t\tchange(key) {\n\t\t\tthis.$emit(\"change\", key)\n\t\t\tthis.current = key;\n\t\t\tthis.$nextTick(() => this.$emit(\"changed\", key));\n\t\t},\n\t\tinitConfig(config) {\n\t\t\tif (!config)\n\t\t\t\treturn;\n\t\t\tif (config instanceof Promise)\n\t\t\t\treturn config\n\t\t\t\t\t.then(result => result.data)\n\t\t\t\t\t.then(this.initConfig)\n\t\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t\tif (typeof config === 'string' || config instanceof String)\n\t\t\t\treturn this.$api\n\t\t\t\t\t.get(config)\n\t\t\t\t\t.then(result => result.data)\n\t\t\t\t\t.then(this.initConfig)\n\t\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\t\tconst tabs = {};\n\n\t\t\tfunction _addToTabs(key, item) {\n\t\t\t\tif (!item.component)\n\t\t\t\t\treturn console.error('Component missing for ' + key);\n\n\t\t\t\t//making it reactive for showing headerSuffix\n\t\t\t\tconst value = Vue.reactive({\n\t\t\t\t\tsuffix: '',\n\t\t\t\t\tshowSuffix: item.showSuffix || false\n\t\t\t\t});\n\n\t\t\t\ttabs[key] = {\n\t\t\t\t\tcomponent: Vue.markRaw(Vue.defineAsyncComponent(() => import(item.component))),\n\t\t\t\t\ttitle: Vue.computed(() => item.title || key),\n\t\t\t\t\tconfig: item.config,\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue,\n\t\t\t\t\tsuffixhelper: item.suffixhelper ?? null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (Array.isArray(config)) {\n\t\t\t\tconfig.forEach((item, key) => _addToTabs(key, item));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tObject.entries(config).forEach(([key, item]) => _addToTabs(key, item));\n\t\t\t}\n\n\t\t\tif (this.current === null || !tabs[this.current]) {\n\t\t\t\tif (tabs[this.default])\n\t\t\t\t\tthis.current = this.default;\n\t\t\t\telse\n\t\t\t\t\tthis.current = Object.keys(tabs)[0];\n\t\t\t}\n\t\t\tthis.tabs = tabs;\n\t\t},\n\t\tupdateSuffix() {\n\t\t\tthis.getTabSuffix(this.currentTab);\n\t\t},\n\t\tremoveInvalidCountTabs(){\n\t\t\tif(this.modelValue.length)\n\t\t\t{\n\t\t\t\tlet countIst = this.modelValue.length;\n\t\t\t\tconst tabsToDelete = [];\n\n\t\t\t\tObject.entries(this.config).forEach(([key, item]) => {\n\n\t\t\t\t\tconst target = item?.config ? item : item?.value || item;\n\n\t\t\t\t\t// check config for validCountMulti\n\t\t\t\t\tif (target.config?.validCountMulti !== undefined) {\n\t\t\t\t\t\tlet tab;\n\t\t\t\t\t\tlet countSoll;\n\t\t\t\t\t\ttab = key;\n\t\t\t\t\t\tcountSoll = target.config.validCountMulti;\n\n\t\t\t\t\t\t//check if tab is existing\n\t\t\t\t\t\tif (countSoll !== undefined && countSoll == countIst) {\n\t\t\t\t\t\t\t//add tab if it was removed before\n\t\t\t\t\t\t\tif (tab in this.tabs == false) {\n\t\t\t\t\t\t\t\tconst value = Vue.reactive({\n\t\t\t\t\t\t\t\t\tsuffix: '',\n\t\t\t\t\t\t\t\t\tshowSuffix: item.showSuffix || false\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tthis.tabs[tab] = {\n\t\t\t\t\t\t\t\t\tcomponent: Vue.markRaw(Vue.defineAsyncComponent(() => import(item.component))),\n\t\t\t\t\t\t\t\t\ttitle: Vue.computed(() => item.title || tab),\n\t\t\t\t\t\t\t\t\tconfig: item.config,\n\t\t\t\t\t\t\t\t\ttab,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\tsuffixhelper: item.suffixhelper ?? null\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//add to toDeleteArray if count is not allowed\n\t\t\t\t\t\tif (countSoll !== undefined && countSoll !== countIst) {\n\t\t\t\t\t\t\ttabsToDelete.push(tab);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Delete all tabs with count not allowed\n\t\t\t\ttabsToDelete.forEach(k => {\n\t\t\t\t\tdelete this.tabs[k];\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\tasync getTabSuffix(tab) {\n\t\t\tif (!tab.value.showSuffix) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (tab.suffixhelper !== null) {\n\t\t\t\tconst suffixhelper = await import(tab.suffixhelper);\n\t\t\t\tconst suffix = await suffixhelper.getSuffix(this.$api, this.modelValue);\n\t\t\t\ttab.value.suffix = suffix;\n\t\t\t} else {\n\t\t\t\ttab.value.suffix = '';\n\t\t\t}\n\t\t},\n\t\tgetTabSuffixes() {\n\t\t\tObject.entries(this.tabs).forEach(([key, item]) => this.getTabSuffix(item));\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.initConfig(this.config);\n\t},\n\tmounted() {\n\t\tthis.getTabSuffixes();\n\t\tthis.removeInvalidCountTabs();\n\t},\n\tupdated() {\n\t\tthis.getTabSuffixes();\n\t\tthis.removeInvalidCountTabs();\n\t},\n\ttemplate: `\n\t<template v-if=\"useprimevue\">\n\n\t\t<tabview\n\t\t\tclass=\"d-flex flex-column\"\n\t\t\t:scrollable=\"true\"\n\t\t\t:lazy=\"true\"\n\t\t\t:activeIndex=\"calcActiveIndex\"\n\t\t\t:pt=\"{navContainer:{style: 'flex: 0 0 auto;'}, panelContainer:{class: 'overflow-y-scroll', style: 'flex: 1 1 auto;'}}\"\n\t\t\t@tab-click=\"handleTabClick\"\n\t\t>\n\t\t\t<tabpanel\n\t\t\t\tv-for=\"tab in tabs\"\n\t\t\t\t:key=\"tab.key\"\n\t\t\t\t:header=\"tab.title + ((tab.value.showSuffix && tab.value.suffix !== '') ? ' ' + tab.value.suffix : '')\"\n\t\t\t>\n\t\t\t\t<keep-alive>\n\t\t\t\t\t<component\n\t\t\t\t\t\t:is=\"tab.component\"\n\t\t\t\t\t\tv-model=\"value\"\n\t\t\t\t\t\t:config=\"tab.config\"\n\t\t\t\t\t\t@update:suffix=\"updateSuffix($event)\"\n\t\t\t\t\t\t></component>\n\t\t\t\t</keep-alive>\n\t\t\t</tabpanel>\n\t\t</tabview>\n\n\t</template>\n\t<template v-else=\"\">\n\n\t<div class=\"fhc-tabs d-flex\" :class=\"vertical ? 'align-items-stretch gap-3' : (border ? 'flex-column' : 'flex-column gap-3')\" v-if=\"Object.keys(tabs).length\">\n\t\t<div class=\"nav\" :class=\"vertical ? 'nav-pills flex-column' : 'nav-tabs'\">\n\n\t\t\t<div\n\t\t\t\tv-for=\"tab in tabs\"\n\t\t\t\t:key=\"tab.key\"\n\t\t\t\tclass=\"nav-item nav-link\"\n\t\t\t\t:class=\"{active: tab.key == current}\"\n\t\t\t\t@click=\"change(tab.key)\"\n\t\t\t\t:aria-current=\"tab.key == current ? 'page' : ''\"\n\t\t\t\tv-accessibility:tab.[vertical]\n\t\t\t\t>\n\t\t\t\t{{tab.title}} <span v-if=\"tab.value.showSuffix && tab.value.suffix\"> {{ tab.value.suffix }}</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :style=\"vertical ? '' : 'flex: 1 1 0%; height: 0%'\" class=\"overflow-auto flex-grow-1\" :class=\"vertical || !border ? '' : 'p-3 border-bottom border-start border-end'\">\n\t\t\t<keep-alive>\n\t\t\t\t<component\n\t\t\t\t\tref=\"current\"\n\t\t\t\t\t:is=\"currentTab.component\"\n\t\t\t\t\tv-model=\"value\"\n\t\t\t\t\t:config=\"currentTab.config\"\n\t\t\t\t\t@update:suffix=\"updateSuffix($event)\"\n\t\t\t\t\t></component>\n\t\t\t</keep-alive>\n\t\t</div>\n\t</div>\n\n\t</template>`\n};\n\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(person_id){\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/vertraege/vertraege/getHeader/' + person_id,\n\t\t};\n\t},\n\tgetPersonAbteilung(mitarbeiter_uid){\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/vertraege/vertraege/getPersonAbteilung/' + mitarbeiter_uid,\n\t\t};\n\t},\n\tgetLeitungOrg(oekurzbz){\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/vertraege/vertraege/getLeitungOrg/' + oekurzbz,\n\t\t};\n\t},\n}","import FhcTabs from \"../../Tabs.js\";\nimport FhcHeader from \"../../DetailHeader/DetailHeader.js\";\n\nimport ApiStvApp from '../../../api/factory/stv/app.js';\n\n// TODO(chris): alt & title\n// TODO(chris): phrasen\n\nexport default {\n\tname: \"DetailsPrestudent\",\n\tcomponents: {\n\t\tFhcTabs,\n\t\tFhcHeader\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tconfigStudent: {},\n\t\t\tconfigStudents: {}\n\t\t};\n\t},\n\tprops: {\n\t\tstudents: Array\n\t},\n\tcomputed: {\n\t\tappRoot() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.app_root;\n\t\t},\n\t\tconfig() {\n\t\t\tif (!this.students.length)\n\t\t\t\treturn {};\n\t\t\tif (this.students.length == 1) {\n\t\t\t\tconst student = this.students[0];\n\t\t\t\tif (student.uid)\n\t\t\t\t\treturn Object.fromEntries(Object.entries(this.configStudent).filter(([ , value ]) => !value.showOnlyWithoutUid));\n\t\t\t\treturn Object.fromEntries(Object.entries(this.configStudent).filter(([ , value ]) => !value.showOnlyWithUid));\n\t\t\t} else if (this.students.every(student => student.uid)) {\n\t\t\t\treturn Object.fromEntries(Object.entries(this.configStudents).filter(([ , value ]) => !value.showOnlyWithoutUid));\n\t\t\t} else if (this.students.every(student => !student.uid)) {\n\t\t\t\t\treturn Object.fromEntries(Object.entries(this.configStudents).filter(([ , value ]) => !value.showOnlyWithUid));\n\t\t\t}\n\t\t\treturn Object.fromEntries(Object.entries(this.configStudents).filter(([ , value ]) => !value.showOnlyWithUid && !value.showOnlyWithUid));\n\t\t}\n\t},\n\twatch: {\n\t\t'$p.user_language.value'(n, o) {\n\t\t\tif (n !== o && o !== undefined)\n\t\t\t\tthis.loadConfig();\n\t\t}\n\t},\n\tmethods: {\n\t\tloadConfig() {\n\t\t\tthis.$api\n\t\t\t\t.call(ApiStvApp.configStudent())\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.configStudent = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t\tthis.$api\n\t\t\t\t.call(ApiStvApp.configStudents())\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.configStudents = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\treload() {\n\t\t\tif (this.$refs.tabs?.$refs?.current?.reload)\n\t\t\t\tthis.$refs.tabs.$refs.current.reload();\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.loadConfig();\n\t},\n\ttemplate: `\n\t<div class=\"stv-details h-100 d-flex flex-column\">\n\t\t<div v-if=\"!students?.length\" class=\"justify-content-center d-flex h-100 align-items-center\">\n\t\t\t{{$p.t('ui', 'chooseStudent')}}\n\t\t</div>\n\t\t<div v-else-if=\"configStudent && configStudents\" class=\"d-flex flex-column h-100\">\n\t\t\t<fhc-header\n\t\t\t\t:headerData=\"students\"\n\t\t\t\ttypeHeader=\"student\"\n\t\t\t>\n\t\t\t</fhc-header>\n\t\t\t<fhc-tabs\n\t\t\t\tv-if=\"students.length == 1\"\n\t\t\t\tref=\"tabs\" \n\t\t\t\t:useprimevue=\"true\"\n\t\t\t\t:modelValue=\"students[0]\"\n\t\t\t\t:config=\"config\"\n\t\t\t\t:default=\"$route.params.tab\"\n\t\t\t\tstyle=\"flex: 1 1 0%; height: 0%\"\n\t\t\t\t@changed=\"reload\"\n\t\t\t\t>\n\t\t\t\t</fhc-tabs>\n\t\t\t<fhc-tabs v-else ref=\"tabs\" :useprimevue=\"true\" :modelValue=\"students\" :config=\"config\" :default=\"$route.params.tab\" style=\"flex: 1 1 0%; height: 0%\" @changed=\"reload\"></fhc-tabs>\n\t\t</div>\n\t\t<div v-else>\n\t\t\tLoading...\n\t\t</div>\n\t</div>`\n};\n","import ApiDetailHeader from \"../../api/factory/detailHeader.js\";\n\nexport default {\n\tname: 'DetailHeader',\n\tinject: {\n\t\tdomain: {\n\t\t\tfrom: 'configDomain',\n\t\t\tdefault: 'technikum-wien.at'\n\t\t},\n\t},\n\tprops: {\n\t\theaderData: {\n\t\t\ttype: Object,\n\t\t\trequired: false\n\t\t},\n\t\tperson_id: {\n\t\t\ttype: Number,\n\t\t\trequired: false\n\t\t},\n\t\ttypeHeader: {\n\t\t\ttype: String,\n\t\t\tdefault: 'student',\n\t\t\tvalidator(value) {\n\t\t\t\treturn [\n\t\t\t\t\t'student',\n\t\t\t\t\t'mitarbeiter',\n\t\t\t\t].includes(value)\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tappRoot() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.app_root;\n\t\t},\n\t\tvalidatedHeaderData() {\n\t\t\tif (this.typeHeader === 'student') return this.headerData;\n\t\t\tif (this.typeHeader === 'mitarbeiter') return this.person_id;\n\t\t\treturn null;\n\t\t}\n\t},\n\tcreated(){\n\t\tif(this.person_id) {\n\t\t\tthis.getHeader(this.person_id);\n\n\t\t\tthis.loadDepartmentData(this.mitarbeiter_uid)\n\t\t\t\t.then(() => {\n\t\t\t\t\t// Call getLeitungOrg only after departmentData is loaded\n\t\t\t\t\tthis.getLeitungOrg(this.departmentData.oe_kurzbz);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.error(\"Error loading department data:\", error);\n\t\t\t\t});\n\t\t}\n\t},\n\twatch: {\n\t\tperson_id: {\n\t\t\thandler(newVal) {\n\t\t\t\tif (newVal) {\n\t\t\t\t\tthis.getHeader(this.person_id);\n\t\t\t\t\tthis.loadDepartmentData(this.person_id).\n\t\t\t\t\tthen(() => {\n\t\t\t\t\t\tthis.getLeitungOrg(this.departmentData.oe_kurzbz);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true,\n\t\t},\n\t},\n\tdata(){\n\t\treturn{\n\t\t\theaderDataMa: {},\n\t\t\tdepartmentData: {},\n\t\t\tleitungData: {},\n\t\t};\n\t},\n\tmethods: {\n\t\tgetHeader(person_id) {\n\t\t\treturn this.$api\n\t\t\t\t.call(ApiDetailHeader.getHeader(person_id))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.headerDataMa = result.data;\n\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tloadDepartmentData(mitarbeiter_uid) {\n\t\t\treturn this.$api\n\t\t\t\t.call(ApiDetailHeader.getPersonAbteilung(mitarbeiter_uid))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.departmentData = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tgetLeitungOrg(oekurzbz){\n\t\t\treturn this.$api\n\t\t\t\t.call(ApiDetailHeader.getLeitungOrg(oekurzbz))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.leitungData = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tredirectToLeitung(){\n\t\t\tthis.$emit('redirectToLeitung', {\n\t\t\t\tperson_id: this.leitungData.person_id});\n\t\t},\n\t\tgetFotoSrc(foto) {\n\t\t\tif(foto === null) {\n\t\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.app_root + 'skin/images/profilbild_dummy.jpg';\n\t\t\t} else {\n\t\t\t\treturn 'data:image/jpeg;base64,' + foto;\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"core-header d-flex justify-content-start align-items-center w-100 overflow-auto pb-3 gap-3\" style=\"max-height:9rem; min-width: 37.5rem;\">\n\n\t\t\t<template v-if=\"typeHeader==='student'\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"person in headerData\"\n\t\t\t\t\t\t:key=\"person.person_id\"\n\t\t\t\t\t\tclass=\"d-flex flex-column align-items-center h-100 position-relative d-inline-block\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t  class=\"d-block rounded\"\n\t\t\t\t\t\t  style=\"height: 84px;\"\n\t\t\t\t\t\t  alt=\"Profilbild\"\n\t\t\t\t\t\t  :src=\"getFotoSrc(person.foto)\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<template v-if=\"person.foto_sperre\">\n\t\t\t\t\t\t\t<i\n\t\t\t\t\t\t\t  class=\" fa fa-lock text-secondary bg-light rounded d-flex justify-content-center align-items-center position-absolute top-0 end-0\"\n\t\t\t\t\t\t\t  style=\"z-index: 1; font-size: 1rem; width: 1.25rem; height: 1.25rem;\"\n\t\t\t\t\t\t\t></i>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t<small class=\"text-muted\">{{person.uid}}</small>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-if=\"headerData.length == 1\">\n\t\t\t\t\t\t<h2 class=\"h4\">\n\t\t\t\t\t\t\t{{headerData[0].titelpre}}\n\t\t\t\t\t\t\t{{headerData[0].vorname}}\n\t\t\t\t\t\t\t{{headerData[0].nachname}}<span v-if=\"headerData[0].titelpost\">, </span>\n\t\t\t\t\t\t\t{{headerData[0].titelpost}}\n\t\t\t\t\t\t</h2>\n\n\t\t\t\t\t\t<h5 class=\"h6\">\n\t\t\t\t\t\t <strong class=\"text-muted\">Person ID </strong>\n\t\t\t\t\t\t\t{{headerData[0].person_id}}\n\t\t\t\t\t\t\t<strong class=\"text-muted\">| {{$p.t('lehre', 'studiengang')}} </strong>\n\t\t\t\t\t\t\t {{headerData[0].stg_bezeichnung}} ({{headerData[0].studiengang}})\n\t\t\t\t\t\t\t<strong v-if=\"headerData[0].semester\" class=\"text-muted\"> | {{$p.t('lehre', 'semester')}} </strong>\n\t\t\t\t\t\t\t  {{headerData[0].semester}}\n\t\t\t\t\t\t\t<strong v-if=\"headerData[0].verband\" class=\"text-muted\"> | {{$p.t('lehre', 'verband')}}</strong>\n\t\t\t\t\t\t\t{{headerData[0].verband}}\n\t\t\t\t\t\t\t<strong v-if=\"headerData[0].gruppe\" class=\"text-muted\"> | {{$p.t('lehre', 'gruppe')}} </strong>\n\t\t\t\t\t\t\t{{headerData[0].gruppe}}\n\t\t\t\t\t\t </h5>\n\n\t\t\t\t\t  <h5 class=\"h6\">\n\t\t\t\t\t\t<strong class=\"text-muted\">Email </strong>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t<a :href=\"'mailto:'+headerData[0]?.mail_intern\">{{headerData[0].mail_intern}}</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<strong v-if=\"headerData[0].statusofsemester\" class=\"text-muted\"> | Status </strong>\n\t\t\t\t\t\t {{headerData[0].statusofsemester}}\n\t\t\t\t\t\t<strong class=\"text-muted\"> | {{$p.t('person', 'matrikelnummer')}} </strong>\n\t\t\t\t\t\t  {{headerData[0].matr_nr}}\n\t\t\t\t\t  </h5>\n\n\t\t\t\t\t</div>\n\t\t</template>\n\n\t\t<template v-if=\"typeHeader==='mitarbeiter'\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-md-2 d-flex justify-content-start align-items-center w-30 pb-3 gap-3 position-relative\"\n\t\t\t\t\t\tstyle=\"max-height: 8rem; max-width: 6rem; overflow: hidden;\">\n\t\t\t\t\t<img\n\t\t\t\t\t  class=\"d-block rounded\"\n\t\t\t\t\t  style=\"height: 84px;\"\n\t\t\t\t\t  alt=\"Profilbild\"\n\t\t\t\t\t  :src=\"'data:image/jpeg;base64,' + headerDataMa.foto\"\n\t\t\t\t\t/>\n\t\t\t\t\t<template v-if=\"headerDataMa.foto_sperre\">\n\t\t\t\t\t\t<i\n\t\t\t\t\t\t  class=\" fa fa-lock text-secondary bg-light rounded d-flex justify-content-center align-items-center position-absolute top-0 end-0\"\n\t\t\t\t\t\t  style=\"z-index: 1; font-size: 1rem; width: 1.25rem; height: 1.25rem;\"\n\t\t\t\t\t\t></i>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\n\t\t\t\t<!--show Ma-Details-->\n\t\t\t\t<div class=\"col-md-10\">\n\t\t\t\t\t<h5>{{headerDataMa.titelpre}} {{headerDataMa.vorname}} {{headerDataMa.nachname}}<span v-if=\"headerDataMa?.titelpost\">, </span> {{headerDataMa.titelpost}}\n\t\t\t\t\t</h5>\n\t\t\t\t\t<strong class=\"text-muted\">{{departmentData.organisationseinheittyp_kurzbz}}</strong>\n\t\t\t\t\t\t{{departmentData.bezeichnung}}\n\t\t\t\t\t<span v-if=\"leitungData.uid\"> | </span>\n\t\t\t\t\t<strong v-if=\"leitungData.uid\" class=\"text-muted\">Vorgesetzte*r </strong>\n\t\t\t\t\t<a href=\"#\" @click.prevent=\"redirectToLeitung\">\n\t\t\t\t\t\t{{leitungData.titelpre}} {{leitungData.vorname}} {{leitungData.nachname}}\n\t\t\t\t\t</a>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<strong class=\"text-muted\">Email </strong>\n\t\t\t\t\t\t <span v-if=\"!headerDataMa?.alias\">\n\t\t\t\t\t\t\t<a :href=\"'mailto:'+headerDataMa?.uid+'@'+domain\">{{headerDataMa.uid}}@{{domain}}</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span v-if=\"headerDataMa?.alias\">\n\t\t\t\t\t\t\t<a :href=\"'mailto:'+headerDataMa?.alias+'@'+domain\">{{headerDataMa.alias}}@{{domain}}</a>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span v-if=\"headerDataMa?.telefonklappe\" class=\"mb-2\"> | <strong class=\"text-muted\">DW </strong>{{headerDataMa?.telefonklappe}}</span>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</div>\n\t`\n}\n","import {CoreRESTClient} from '../../../RESTClient.js';\n\nexport default {\n\temits: [\n\t\t'update:studiensemesterKurzbz'\n\t],\n\tprops: {\n\t\tstudiensemesterKurzbz: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcurrent: 0,\n\t\t\tloading: true,\n\t\t\tlist: [],\n\t\t\ttoday: -1\n\t\t};\n\t},\n\tmethods: {\n\t\tset(n) {\n\t\t\tthis.loading = true;\n\t\t\tlet fallback = this.current;\n\t\t\tthis.current = n;\n\t\t\tthis.save(fallback);\n\t\t},\n\t\tnext() {\n\t\t\tthis.loading = true;\n\t\t\tlet fallback = this.current;\n\t\t\tif (this.current++ >= this.list.length)\n\t\t\t\tthis.current = this.list.length - 1;\n\t\t\tthis.save(fallback);\n\t\t},\n\t\tprev() {\n\t\t\tthis.loading = true;\n\t\t\tlet fallback = this.current;\n\t\t\tif (this.current-- < 0)\n\t\t\t\tthis.current = 0;\n\t\t\tthis.save(fallback);\n\t\t},\n\t\tsetToToday() {\n\t\t\tif (this.today > 0) {\n\t\t\t\tif (this.today == this.current)\n\t\t\t\t\treturn;\n\t\t\t\treturn this.set(this.today);\n\t\t\t}\n\n\t\t\tthis.loading = true;\n\t\t\tCoreRESTClient\n\t\t\t\t.get('components/stv/studiensemester/now')\n\t\t\t\t.then(result => CoreRESTClient.getData(result.data))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.today = this.list.indexOf(result);\n\t\t\t\t\tif (this.today >= 0) {\n\t\t\t\t\t\tif (this.today != this.current)\n\t\t\t\t\t\t\tthis.set(this.today);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// TODO(chris): handle error (list might not be loaded yet)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tsave(fallback) {\n\t\t\tCoreRESTClient\n\t\t\t\t.post('components/stv/studiensemester/set', {\n\t\t\t\t\tstudiensemester: this.list[this.current]\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.$emit('update:studiensemesterKurzbz', this.list[this.current]);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.current = fallback;\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.$fhcAlert.handleFormValidation(error);\n\t\t\t\t});\n\t\t}\n\t},\n\twatch: {\n\t\t'studiensemesterKurzbz': function () {\n\t\t\tthis.current = this.list.indexOf(this.studiensemesterKurzbz);\n\t\t}\n\t},\n\tcreated() {\n\t\tCoreRESTClient\n\t\t\t.get('components/stv/studiensemester')\n\t\t\t.then(result => CoreRESTClient.getData(result.data) || [])\n\t\t\t.then(result => {\n\t\t\t\tthis.list = result.map(el => el.studiensemester_kurzbz);\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.current = this.list.indexOf(this.studiensemesterKurzbz);\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\ttemplate: `\n\t<div class=\"stv-studiensemester\">\n\t\t<div class=\"btn-toolbar w-100 dropup\" role=\"toolbar\" aria-label=\"Studiensemester\">\n\t\t\t<div class=\"btn-group flex-grow-1 position-static\" role=\"group\" aria-label=\"Studiensemester einstellen\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary flex-grow-0\" @click=\"prev\"><i class=\"fa-solid fa-caret-left\"></i></button>\n\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-toggle=\"dropdown\" data-bs-display=\"static\" data-bs-offset=\"0,0\" aria-expanded=\"false\">\n\t\t\t\t\t{{list[current]}}\n\t\t\t\t\t<i v-if=\"loading\" class=\"fa-solid fa-spinner fa-spin\"></i>\n\t\t\t\t</button>\n\t\t\t\t<ul class=\"dropdown-menu dropdown-menu-dark overflow-auto w-100\" style=\"max-height:60vh\">\n\t\t\t\t\t<li v-for=\"(item, index) in list\" :key=\"index\">\n\t\t\t\t\t\t<a class=\"dropdown-item\" :class=\"{active: index == current}\" :aria-current=\"index == current ? 'true' : 'false'\" href=\"#\" @click=\"set(index)\">{{item}}</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary flex-grow-0\" @click=\"next\"><i class=\"fa-solid fa-caret-right\"></i></button>\n\t\t\t</div>\n\t\t\t<div class=\"btn-group flex-grow-0\" role=\"group\" aria-label=\"aktuelles Studiensemester\">\n\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"setToToday\"><i class=\"fa-solid fa-bullseye\"></i></button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n}","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/search',\n\t\t\tparams\n\t\t};\n\t},\n\tsearchCis(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/searchCis',\n\t\t\tparams\n\t\t};\n\t},\n\tsearchStv(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/searchStv',\n\t\t\tparams\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetSprachen() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/lists/getSprachen'\n\t\t};\n\t},\n\tgetGeschlechter() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/lists/getGeschlechter'\n\t\t};\n\t},\n\tgetAusbildungen() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/lists/getAusbildungen'\n\t\t};\n\t},\n\tgetStgs() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/lists/getStgs'\n\t\t};\n\t},\n\tgetOrgforms() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/lists/getOrgforms'\n\t\t};\n\t},\n\tgetStudiensemester() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/lists/getStudiensemester'\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tget(path) {\n\t\tlet url = 'api/frontend/v1/stv/verband';\n\t\tif (path)\n\t\t\turl += '/' + path;\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl\n\t\t};\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn {\n\t\t\t\tmethod: 'get',\n\t\t\t\turl: 'api/frontend/v1/stv/favorites'\n\t\t\t};\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn {\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: 'api/frontend/v1/stv/favorites/set',\n\t\t\t\tparams: { favorites }\n\t\t\t};\n\t\t}\n\t}\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport app from './stv/app.js';\nimport lists from './stv/lists.js';\nimport verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport admissionDates from './stv/admissionDates.js';\n\nexport default {\n\tapp,\n\tlists,\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tadmissionDates\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tget(person_id, only_open, studiengang_kz) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/konto/get',\n\t\t\tparams: {\n\t\t\t\tperson_id,\n\t\t\t\tonly_open,\n\t\t\t\tstudiengang_kz\n\t\t\t}\n\t\t};\n\t},\n\tcheckDoubles(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/konto/checkDoubles',\n\t\t\tparams,\n\t\t\tconfig: {\n\t\t\t\tconfirmErrorHandler: error => true\n\t\t\t}\n\t\t};\n\t},\n\tinsert(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/konto/insert',\n\t\t\tparams\n\t\t};\n\t},\n\tcounter(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/konto/counter',\n\t\t\tparams\n\t\t};\n\t},\n\tedit(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/konto/update',\n\t\t\tparams\n\t\t};\n\t},\n\tdelete(buchungsnr) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/konto/delete',\n\t\t\tparams: { buchungsnr }\n\t\t};\n\t},\n\tgetBuchungstypen() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/konto/getBuchungstypen'\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport address from './kontakt/address.js';\nimport bankaccount from './kontakt/bankaccount.js';\nimport contact from './kontakt/contact.js';\nimport company from './kontakt/company.js';\n\nexport default {\n\taddress,\n\tbankaccount,\n\tcontact,\n\tcompany\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tget() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/stv/config/get'\n\t\t};\n\t},\n\tset(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/stv/config/set',\n\t\t\tparams\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport CoreSearchbar from \"../searchbar/searchbar.js\";\nimport NavLanguage from \"../navigation/Language.js\";\nimport VerticalSplit from \"../verticalsplit/verticalsplit.js\";\nimport AppMenu from \"../AppMenu.js\";\nimport AppConfig from \"../AppConfig.js\";\nimport StvVerband from \"./Studentenverwaltung/Verband.js\";\nimport StvList from \"./Studentenverwaltung/List.js\";\nimport StvDetails from \"./Studentenverwaltung/Details.js\";\nimport StvStudiensemester from \"./Studentenverwaltung/Studiensemester.js\";\n\nimport ApiSearchbar from \"../../api/factory/searchbar.js\";\nimport ApiStv from \"../../api/factory/stv.js\";\nimport ApiStvVerband from '../../api/factory/stv/verband.js';\nimport ApiStvConfig from '../../api/factory/stv/config.js';\n\n\nexport default {\n\tname: 'Studentenverwaltung',\n\tcomponents: {\n\t\tCoreSearchbar,\n\t\tNavLanguage,\n\t\tVerticalSplit,\n\t\tAppMenu,\n\t\tAppConfig,\n\t\tStvVerband,\n\t\tStvList,\n\t\tStvDetails,\n\t\tStvStudiensemester\n\t},\n\tprops: {\n\t\tdefaultSemester: String,\n\t\tconfig: Object,\n\t\tpermissions: Object,\n\t\tstvRoot: String,\n\t\tcisRoot: String,\n\t\tavatarUrl: String,\n\t\tlogoutUrl: String,\n\t\tactiveAddons: String, // semicolon separated list of active addons\n\t\turl_studiensemester_kurzbz: String,\n\t\turl_mode: String,\n\t\turl_prestudent_id: String,\n\t\turl_tab: String,\n\t\turl_studiengang: String\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\tcisRoot: this.cisRoot,\n\t\t\tactiveAddonBewerbung: this.activeAddons.split(';').includes('bewerbung'),\n\t\t\tconfigGenerateAlias: this.config.generateAlias,\n\t\t\tconfigShowHintKommPrfg: this.config.showHintKommPrfg,\n\t\t\thasBpkPermission: this.permissions['student/bpk'],\n\t\t\thasAliasPermission: this.permissions['student/alias'],\n\t\t\thasPrestudentPermission: this.permissions['basis/prestudent'],\n\t\t\thasPrestudentstatusPermission: this.permissions['basis/prestudentstatus'],\n\t\t\thasAssistenzPermissionForStgs: this.permissions['assistenz_stgs'],\n\t\t\thasSchreibrechtAss: this.permissions['assistenz_schreibrechte'],\n\t\t\thasAdminPermission: this.permissions['admin'],\n\t\t\thasPermissionToSkipStatusCheck: this.permissions['student/keine_studstatuspruefung'],\n\t\t\thasPermissionRtAufsicht: this.permissions['lehre/reihungstestAufsicht'],\n\t\t\thasPermissionOutputformat: this.permissions['system/change_outputformat'],\n\t\t\tlists: this.lists,\n\t\t\tcurrentSemester: Vue.computed(() => this.studiensemesterKurzbz),\n\t\t\tdefaultSemester: this.defaultSemester,\n\t\t\t$reloadList: () => {\n\t\t\t\tthis.$refs.stvList.reload();\n\t\t\t},\n\t\t\tconfigShowAufnahmegruppen: this.config.showAufnahmegruppen,\n\t\t\tconfigAllowUebernahmePunkte: this.config.allowUebernahmePunkte,\n\t\t\tconfigUseReihungstestPunkte: this.config.useReihungstestPunkte,\n\t\t\tappConfig: Vue.computed(() => this.appconfig),\n\t\t\thasZGVBakkPermission: this.permissions['student/editBakkZgv'],\n\t\t\thasZGVMasterPermission: this.permissions['student/editMakkZgv'],\n\t\t\thasZGVDoctorPermission: this.permissions['student/editDokZgv'],\n\t\t\thasBismeldenPermission: this.permissions['student/editBismelden'],\n\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tappconfig: {},\n\t\t\tconfigEndpoints: ApiStvConfig,\n\t\t\tselected: [],\n\t\t\tsearchbaroptions: {\n\t\t\t\torigin: 'stv',\n\t\t\t\tcalcheightonly: true,\n\t\t\t\tnolivesearch: true,\n\t\t\t\ttypes: {\n\t\t\t\t\tstudent: Vue.computed(() => this.$p.t('search/type_student')),\n\t\t\t\t\tprestudent: Vue.computed(() => this.$p.t('search/type_prestudent'))\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tstudent: {\n\t\t\t\t\t\tdefaultaction: {\n\t\t\t\t\t\t\ttype: \"link\",\n\t\t\t\t\t\t\taction: this.buildStudentSearchResultLink\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchildactions: [\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tprestudent: {\n\t\t\t\t\t\tdefaultaction: {\n\t\t\t\t\t\t\ttype: \"link\",\n\t\t\t\t\t\t\taction: this.buildPrestudentSearchResultLink\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchildactions: [\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tmergedPerson: {\n\t\t\t\t\t\tdefaultaction: {\n\t\t\t\t\t\t\ttype: \"link\",\n\t\t\t\t\t\t\taction: this.buildPersonSearchResultLink\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdefaultactionstudent: {\n\t\t\t\t\t\t\ttype: \"link\",\n\t\t\t\t\t\t\taction: this.buildMergedPersonSearchResultLink\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchildactions: []\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmergeResults: 'person'\n\t\t\t},\n\t\t\tstudiengangKz: undefined,\n\t\t\tstudiengangKuerzel: '',\n\t\t\tstudiensemesterKurzbz: this.defaultSemester,\n\t\t\tselected_semester: undefined,\n\t\t\tselected_orgform: undefined,\n\t\t\tlists: {\n\t\t\t\tnations: [],\n\t\t\t\tsprachen: [],\n\t\t\t\tgeschlechter: []\n\t\t\t},\n\t\t\tverbandEndpoint: ApiStvVerband\n\t\t}\n\t},\n\tcomputed: {\n\t\tappMenuExtraItems() {\n\t\t\tconst extraItems = [];\n\n\t\t\tif (this.studiengangKz !== undefined && this.selected_semester !== undefined) {\n\t\t\t\tconst studiengang_kz = String(this.studiengangKz);\n\t\t\t\tconst semester = String(this.selected_semester);\n\t\t\t\tconst orgform = this.selected_orgform || '';\n\n\t\t\t\textraItems.push({\n\t\t\t\t\tlink: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t\t\t+ 'content/statistik/notenspiegel.php?typ=xls'\n\t\t\t\t\t\t+ '&studiengang_kz=' + studiengang_kz\n\t\t\t\t\t\t+ '&semester=' + semester\n\t\t\t\t\t\t+ '&studiensemester=' + this.studiensemesterKurzbz\n\t\t\t\t\t\t+ '&orgform=' + orgform,\n\t\t\t\t\tdescription: 'stv/grade_report_xls'\n\t\t\t\t});\n\t\t\t\textraItems.push({\n\t\t\t\t\tlink: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t\t\t+ 'content/statistik/notenspiegel_erweitert.php?typ=xls'\n\t\t\t\t\t\t+ '&studiengang_kz=' + studiengang_kz\n\t\t\t\t\t\t+ '&semester=' + semester\n\t\t\t\t\t\t+ '&studiensemester=' + this.studiensemesterKurzbz\n\t\t\t\t\t\t+ '&orgform=' + orgform,\n\t\t\t\t\tdescription: 'stv/grade_report_xls_extended'\n\t\t\t\t});\n\t\t\t\textraItems.push({\n\t\t\t\t\tlink: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t\t\t+ 'content/statistik/notenspiegel.php?typ=html'\n\t\t\t\t\t\t+ '&studiengang_kz=' + studiengang_kz\n\t\t\t\t\t\t+ '&semester=' + semester\n\t\t\t\t\t\t+ '&studiensemester=' + this.studiensemesterKurzbz\n\t\t\t\t\t\t+ '&orgform=' + orgform,\n\t\t\t\t\tdescription: 'stv/grade_report_html'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn extraItems;\n\t\t}\n\t},\n\twatch: {\n\t\t'url_studiensemester_kurzbz': function (newVal, oldVal) {\n\t\t\tif (newVal !== oldVal) {\n\t\t\t\tthis.studiensemesterKurzbz = newVal;\n\t\t\t\tif(this.$route.name === 'search')\n\t\t\t\t{\n\t\t\t\t\tthis.handleSearchUrl();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.$refs.stvList.updateUrl();\n\t\t\t\t\tthis.$refs.details.reload();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'url_studiengang': function (newVal, oldVal) {\n\t\t\tif (newVal !== oldVal) {\n\t\t\t\tthis.checkUrlStudiengang();\n\t\t\t}\n\t\t},\n\t\t'url_mode': function () {\n\t\t\tthis.handlePersonUrl();\n\t\t},\n\t\turl_prestudent_id() {\n\t\t\tthis.handlePersonUrl();\n\t\t},\n\t\t'appconfig.font_size'() {\n\t\t\t// add to html class\n\t\t\tconst classList = Object.keys(this.$refs.config.setup.font_size.options);\n\t\t\tclassList.forEach(cn => document.documentElement.classList.remove(cn));\n\t\t\tdocument.documentElement.classList.add(this.appconfig.font_size);\n\t\t\t// recalc Tabulator heights\n\t\t\tif (this.$el) {\n\t\t\t\tconst tabulatorEls = this.$el.querySelectorAll('.tabulator');\n\t\t\t\tfor (const el of tabulatorEls) {\n\t\t\t\t\tconst tabulators = Tabulator.findTable(el);\n\t\t\t\t\tif (tabulators) {\n\t\t\t\t\t\ttabulators[0].searchRows().forEach(row => row.normalizeHeight());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tbuildMergedPersonSearchResultLink(data) {\n\t\t\tif (data.prestudent_id) {\n\t\t\t\treturn this.buildPrestudentSearchResultLink(data);\n\t\t\t} else if (data.uid) {\n\t\t\t\treturn this.buildStudentSearchResultLink(data);\n\t\t\t} else {\n\t\t\t\treturn this.buildPersonSearchResultLink(data);\n\t\t\t}\n\t\t},\n\t\tbuildPrestudentSearchResultLink(data) {\n\t\t\treturn this.$api.getUri(\n\t\t\t\t'/studentenverwaltung'\n\t\t\t\t+ '/' + this.studiensemesterKurzbz\n\t\t\t\t+ '/prestudent/'\n\t\t\t\t+ data.prestudent_id\n\t\t\t\t);\n\t\t},\n\t\tbuildStudentSearchResultLink(data) {\n\t\t\treturn this.$api.getUri(\n\t\t\t\t'/studentenverwaltung'\n\t\t\t\t+ '/' + this.studiensemesterKurzbz\n\t\t\t\t+ '/student/'\n\t\t\t\t+ data.uid\n\t\t\t\t);\n\t\t},\n\t\tbuildPersonSearchResultLink(data) {\n\t\t\treturn this.$api.getUri(\n\t\t\t\t'/studentenverwaltung'\n\t\t\t\t+ '/' + this.studiensemesterKurzbz\n\t\t\t\t+ '/person/'\n\t\t\t\t+ data.person_id\n\t\t\t\t);\n\t\t},\n\t\tonSelectVerband({ link, studiengang_kz, semester, orgform_kurzbz }) {\n\t\t\tlet urlpath = String(link);\n\t\t\tif (!urlpath.match(/\\/prestudent/))\n\t\t\t{\n\t\t\t\turlpath = 'CURRENT_SEMESTER' + '/' + urlpath;\n\t\t\t}\n\t\t\tthis.$refs.stvList.updateUrl(ApiStv.students.verband(urlpath));\n\n\t\t\tthis.studiengangKz = studiengang_kz;\n\t\t\tthis.selected_semester = semester;\n\t\t\tthis.selected_orgform = orgform_kurzbz;\n\t\t\tconst stg = this.lists.stgs.find((element) => {\n\t\t\t\treturn (element.studiengang_kz === this.studiengangKz);\n\t\t\t});\n\t\t\tif (stg)\n\t\t\t{\n\t\t\t\tthis.studiengangKuerzel = (stg.typ + stg.kurzbz).toUpperCase()\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tname: 'studiengang',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tstudiensemester_kurzbz: this.studiensemesterKurzbz,\n\t\t\t\t\t\tstudiengang: this.studiengangKuerzel\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else\n\t\t\t{\n\t\t\t\tthis.studiengangKuerzel = '';\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tname: 'studiensemester',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tstudiensemester_kurzbz: this.studiensemesterKurzbz\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\t},\n\t\tstudiensemesterChanged(v) {\n\t\t\tthis.studiensemesterKurzbz = v;\n\n\t\t\tthis.$router.push({\n\t\t\t\tparams: {\n\t\t\t\t\tstudiensemester_kurzbz: v\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\treloadList() {\n\t\t\tthis.$refs.stvList.reload();\n\t\t},\n\t\tsearchfunction(params, config) {\n\t\t\treturn this.$api.call(ApiSearchbar.searchStv(params), config);\n\t\t},\n\t\thandlePersonUrl() {\n\t\t\tif (this.$route.params.id) {\n\t\t\t\tthis.$refs.stvList.updateUrl(\n\t\t\t\t\tApiStv.students.uid(this.$route.params.id, 'CURRENT_SEMESTER'),\n\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t} else if (this.$route.params.prestudent_id) {\n\t\t\t\tthis.$refs.stvList.updateUrl(\n\t\t\t\t\tApiStv.students.prestudent(this.$route.params.prestudent_id, 'CURRENT_SEMESTER'),\n\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t} else if (this.$route.params.person_id) {\n\t\t\t\tthis.$refs.stvList.updateUrl(\n\t\t\t\t\tApiStv.students.person(this.$route.params.person_id, 'CURRENT_SEMESTER'),\n\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t} else if (this.$route.params.searchstr) {\n\t\t\t\tthis.handleSearchUrl();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.clearTabulator();\n\t\t\t}\n\t\t},\n\t\thandleSearchUrl() {\n\t\t\tconst searchsettings = {\n\t\t\t\tsearchstr: this.$route.params.searchstr,\n\t\t\t\ttypes: this.$route.params.types?.split('+') || []\n\t\t\t};\n\n\t\t\t// init into student list\n\t\t\tthis.$refs.stvList.updateUrl(\n\t\t\t\tApiStv.students.search(searchsettings, this.studiensemesterKurzbz)\n\t\t\t);\n\n\t\t\t// init into searchbar\n\t\t\tthis.$refs.searchbar.searchsettings.searchstr = searchsettings.searchstr;\n\t\t\tthis.$refs.searchbar.searchsettings.types = searchsettings.types;\n\t\t\tthis.$nextTick(this.blurSearchbar);\n\t\t},\n\t\tclearTabulator() {\n\t\t\tif(['index', 'studiensemester'].includes(this.$route.name))\n\t\t\t{\n\t\t\t\tif(this.$refs?.stvList?.$refs?.table?.tabulator)\n\t\t\t\t{\n\t\t\t\t\tthis.$refs.stvList.$refs.table.tabulator.setData([]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcheckUrlStudiengang() {\n\t\t\tif (this.url_studiengang) {\n\t\t\t\tconst stg = this.lists.stgs.find((element) => {\n\t\t\t\t\tconst kuerzel = (element.typ + element.kurzbz).toUpperCase();\n\t\t\t\t\treturn (this.url_studiengang === kuerzel);\n\t\t\t\t});\n\t\t\t\tif (stg) {\n\t\t\t\t\tthis.studiengangKz = stg.studiengang_kz;\n\t\t\t\t\tthis.studiengangKuerzel = (stg.typ + stg.kurzbz).toUpperCase();\n\t\t\t\t} else {\n\t\t\t\t\tthis.$router.replace({\n\t\t\t\t\t\tname: 'studiensemester',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tstudiensemester_kurzbz: this.studiensemesterKurzbz\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.studiengangKz = undefined;\n\t\t\t\tthis.studiengangKuerzel = '';\n\t\t\t\tthis.clearTabulator();\n\t\t\t}\n\t\t},\n\t\tonSearch(e) {\n\t\t\tconst searchsettings = { ...this.$refs.searchbar.searchsettings };\n\t\t\tif (searchsettings.searchstr.length >= 2) {\n\t\t\t\tthis.blurSearchbar();\n\t\t\t\t\n\t\t\t\tif (!searchsettings.types.length || searchsettings.types.length == this.$refs.searchbar.types.length) {\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: 'search',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tstudiensemester_kurzbz: this.studiensemesterKurzbz,\n\t\t\t\t\t\t\tsearchstr: searchsettings.searchstr\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tname: 'search_w_types',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tstudiensemester_kurzbz: this.studiensemesterKurzbz,\n\t\t\t\t\t\t\tsearchstr: searchsettings.searchstr,\n\t\t\t\t\t\t\ttypes: searchsettings.types.join('+')\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tblurSearchbar() {\n\t\t\tthis.$refs.searchbar.$refs.input.blur();\n\t\t\tthis.$refs.searchbar.abort();\n\t\t\tthis.$refs.searchbar.hideresult();\n\t\t}\n\t},\n\tcreated() {\n\t\tif (!this.url_studiensemester_kurzbz) {\n\t\t\tthis.$router.replace({\n\t\t\t\tname: 'studiensemester',\n\t\t\t\tparams: {\n\t\t\t\t\tstudiensemester_kurzbz: this.defaultSemester\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.studiensemesterKurzbz = this.url_studiensemester_kurzbz;\n\t\t}\n\n\t\tthis.$api\n\t\t\t.call(ApiStv.kontakt.address.getNations())\n\t\t\t.then(result => {\n\t\t\t\tthis.lists.nations = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(ApiStv.lists.getSprachen())\n\t\t\t.then(result => {\n\t\t\t\tthis.lists.sprachen = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(ApiStv.lists.getGeschlechter())\n\t\t\t.then(result => {\n\t\t\t\tthis.lists.geschlechter = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(ApiStv.lists.getAusbildungen())\n\t\t\t.then(result => {\n\t\t\t\tthis.lists.ausbildungen = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(ApiStv.lists.getStgs())\n\t\t\t.then(result => {\n\t\t\t\tthis.lists.stgs = result.data;\n\t\t\t\tthis.lists.active_stgs = this.lists.stgs.filter(stg => stg.aktiv);\n\t\t\t\tthis.checkUrlStudiengang();\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(ApiStv.lists.getOrgforms())\n\t\t\t.then(result => {\n\t\t\t\tthis.lists.orgforms = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(ApiStv.konto.getBuchungstypen())\n\t\t\t.then(result => {\n\t\t\t\tthis.lists.buchungstypen = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(ApiStv.lists.getStudiensemester())\n\t\t\t.then(result => {\n\t\t\t\tthis.lists.studiensemester = result.data;\n\t\t\t\tthis.lists.studiensemester_desc = result.data.toReversed();\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\tmounted() {\n\t\t//Test manu Systemerror\n\t\t//FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto = 'ma0068@technikum-wien.at';this.$fhcAlert.handleSystemError(1);\n\t\tthis.handlePersonUrl();\n\t},\n\ttemplate: /* html */`\n\t<div class=\"stv\">\n\t\t<header class=\"navbar navbar-expand-lg navbar-dark bg-dark flex-md-nowrap p-0 shadow\">\n\t\t\t<div class=\"col-md-4 col-lg-3 col-xl-2 d-flex align-items-center\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\"btn btn-outline-light border-0 m-1 collapsed\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-bs-toggle=\"offcanvas\"\n\t\t\t\t\tdata-bs-target=\"#appMenu\"\n\t\t\t\t\taria-controls=\"appMenu\"\n\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t:aria-label=\"$p.t('ui/toggle_nav')\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"svg-icon svg-icon-apps\"></span>\n\t\t\t\t</button>\n\t\t\t\t<a class=\"navbar-brand me-0\" :href=\"stvRoot\">StudVw: {{studiensemesterKurzbz}} {{studiengangKuerzel}}</a>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tclass=\"btn btn-outline-light border-0 d-md-none m-1 collapsed\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-bs-toggle=\"offcanvas\"\n\t\t\t\tdata-bs-target=\"#sidebarMenu\"\n\t\t\t\taria-controls=\"sidebarMenu\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\t:aria-label=\"$p.t('ui/toggle_nav')\"\n\t\t\t>\n\t\t\t\t<span class=\"fa-solid fa-table-list\"></span>\n\t\t\t</button>\n\t\t\t<core-searchbar\n\t\t\t\tref=\"searchbar\"\n\t\t\t\t:searchoptions=\"searchbaroptions\"\n\t\t\t\t:searchfunction=\"searchfunction\"\n\t\t\t\tclass=\"searchbar position-relative w-100\"\n\t\t\t\tshow-btn-submit\n\t\t\t\t@submit.prevent=\"onSearch\"\n\t\t\t></core-searchbar>\n\t\t\t<div id=\"nav-user\" class=\"dropdown\">\n\t\t\t\t<button\n\t\t\t\t\tid=\"nav-user-btn\"\n\t\t\t\t\tclass=\"btn btn-link rounded-0 py-0\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\t\tdata-bs-target=\"#nav-user-menu\"\n\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\taria-controls=\"nav-user-menu\"\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\t:src=\"avatarUrl\"\n\t\t\t\t\t\t:alt=\"$p.t('profilUpdate/profilBild')\"\n\t\t\t\t\t\tclass=\"bg-light avatar rounded-circle border border-light\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t\t<ul\n\t\t\t\t\tref=\"navUserDropdown\"\n\t\t\t\t\tclass=\"dropdown-menu dropdown-menu-dark dropdown-menu-end rounded-0 text-center m-0\"\n\t\t\t\t\taria-labelledby=\"nav-user-btn\"\n\t\t\t\t>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tclass=\"dropdown-item\"\n\t\t\t\t\t\t\tdata-bs-toggle=\"modal\"\n\t\t\t\t\t\t\tdata-bs-target=\"#configModal\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ $p.t('ui/settings') }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><hr class=\"dropdown-divider m-0\"/></li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<nav-language\n\t\t\t\t\t\t\titem-class=\"dropdown-item border-left-dark\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li><hr class=\"dropdown-divider m-0\"/></li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class=\"dropdown-item\" :href=\"logoutUrl\">\n\t\t\t\t\t\t\t{{ $p.t('ui/logout') }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</header>\n\t\t<div class=\"container-fluid overflow-hidden\">\n\t\t\t<div class=\"row h-100\">\n\t\t\t\t<aside id=\"appMenu\" class=\"bg-light offcanvas offcanvas-start col-md p-md-0 h-100\">\n\t\t\t\t\t<div class=\"offcanvas-header\">\n\t\t\t\t\t\tStudVw: {{studiensemesterKurzbz}} {{studiengangKuerzel}}\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close text-reset\" data-bs-dismiss=\"offcanvas\" :aria-label=\"$p.t('ui/schliessen')\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"offcanvas-body\">\n\t\t\t\t\t\t<app-menu app-identifier=\"stv\">\n\t\t\t\t\t\t\t<li class=\"dropend\">\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass=\"dropdown-toggle\"\n\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t\t\t\t:class=\"{ disabled: !appMenuExtraItems.length }\"\n\t\t\t\t\t\t\t\t\tdata-bs-popper-config='{\"strategy\":\"fixed\"}'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ $p.t('stv/grade_report') }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<ul class=\"dropdown-menu p-0\">\n\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\tv-for=\"(item, key) in appMenuExtraItems\"\n\t\t\t\t\t\t\t\t\t\t:key=\"key\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<a class=\"dropdown-item\" :href=\"item.link\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t{{ $p.t(item.description) }}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</app-menu>\n\t\t\t\t\t</div>\n\t\t\t\t</aside>\n\t\t\t\t<nav id=\"sidebarMenu\" class=\"bg-light offcanvas offcanvas-start col-md p-md-0 h-100\">\n\t\t\t\t\t<div class=\"offcanvas-header justify-content-end px-1 d-md-none\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn-close text-reset\" data-bs-dismiss=\"offcanvas\" :aria-label=\"$p.t('ui/schliessen')\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<stv-verband :preselectedKey=\"studiengangKz ? '' + studiengangKz : null\" :endpoint=\"verbandEndpoint\" @select-verband=\"onSelectVerband\" class=\"col\" style=\"height:0%\"></stv-verband>\n\t\t\t\t\t<stv-studiensemester v-model:studiensemester-kurzbz=\"studiensemesterKurzbz\" @update:studiensemester-kurzbz=\"studiensemesterChanged\"></stv-studiensemester>\n\t\t\t\t</nav>\n\t\t\t\t<main class=\"col-md-8 ms-sm-auto col-lg-9 col-xl-10\">\n\t\t\t\t\t<vertical-split>\n\t\t\t\t\t\t<template #top>\n\t\t\t\t\t\t\t<stv-list ref=\"stvList\" v-model:selected=\"selected\" :studiengang-kz=\"studiengangKz\" :studiensemester-kurzbz=\"studiensemesterKurzbz\"></stv-list>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #bottom>\n\t\t\t\t\t\t\t<stv-details ref=\"details\" :students=\"selected\"></stv-details>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</vertical-split>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</div>\n\t\t<app-config ref=\"config\" v-model=\"appconfig\" :endpoints=\"configEndpoints\"></app-config>\n\t</div>`\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/search';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchAdvanced(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/searchAdvanced';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchdummy(searchsettings) {\n\t\tconst url = 'public/js/apps/api/dummyapi.php/Search';\n\t\treturn this.$fhcApi.post(url, searchsettings);\n\t}\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/loadModule/' + category);\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst payload = {categories, language}\n\t\treturn this.$fhcApi.post('/api/frontend/v1/phrasen/setLanguage', payload);\n\t},\n\tgetLanguage() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getLanguage', {});\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getAllLanguages', {});\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/header',\n\t\t\t{ navigation_page }\n\t\t);\n\t},\n\tgetMenu: function(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/menu',\n\t\t\t{ navigation_page }\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/saveCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t);\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/applyFilterFields',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t);\n\t},\n\taddFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/addFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tgetFilter(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tabmeldung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/abmeldung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(stdsem, prestudent_id, grund) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/abmeldung/createAntrag', {\n\t\t\t\tstudiensemester: stdsem,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\tif (!Array.isArray(antrag_id))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t\t{ antrag_id }\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag_id.map(antrag => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t{ antrag_id: antrag.studierendenantrag_id },\n\t\t\t\t{ errorHeader: '#' + antrag.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t},\n\tunterbrechung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/unterbrechung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(studiensemester, prestudent_id, grund, datum_wiedereinstieg, attachment) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/createAntrag', {\n\t\t\t\tstudiensemester,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund,\n\t\t\t\tdatum_wiedereinstieg,\n\t\t\t\tattachment\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/cancelAntrag', {\n\t\t\t\tantrag_id\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t}\n\t},\n\twiederholung: {\n\t\tgetDetails(prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/' + prestudent_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tgetLvs(antrag_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getLvs/' + antrag_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tcreate(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/createAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/cancelAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tsaveLvs(forbiddenLvs, mandatoryLvs) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/saveLvs', {\n\t\t\t\tforbiddenLvs,\n\t\t\t\tmandatoryLvs\n\t\t\t});\n\t\t}\n\t},\n\tleitung: {\n\t\tgetStgs() {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getActiveStgs');\n\t\t},\n\t\tgetAntraege(url, config, params) {\n\t\t\treturn this.$fhcApi\n\t\t\t\t.get('/api/frontend/v1/studstatus/leitung/getAntraege/' + url)\n\t\t\t\t.then(res => res.data); // Return data for tabulator\n\t\t},\n\t\tgetHistory(antrag_id) {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getHistory/' + antrag_id)\n\t\t},\n\t\tgetPrestudents(query, signal) {\n\t\t\treturn this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/getPrestudents',\n\t\t\t\t{ query },\n\t\t\t\t{\n                                    signal: signal,\n                                    timeout: 30000\n                                }\n\t\t\t);\n\t\t},\n\t\tapprove(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treopen(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tunpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tobject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tapproveObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tdenyObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t}\n};","export default {\n\n  getView: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getView/${uid}`,{}\n    );\n  },\n\n  fotoSperre: function (value) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/fotoSperre/${value}`,\n      {}\n    );\n    \n  },\n\n  isStudent: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isStudent`,\n      {\n        uid:uid,\n      }\n    );\n  },\n\n  isMitarbeiter: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isMitarbeiter/${uid}`,\n      {}\n    );\n  },\n\n  getZustellAdresse: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellAdresse`,{}\n    );\n  },\n\n  getZustellKontakt: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellKontakt`,{}\n    );\n  },\n\n  getGemeinden: function(nation,zip){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getGemeinden/${nation}/${zip}`,\n      {}\n    );\n    \n  },\n  getAllNationen:function(){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      \"/api/frontend/v1/Profil/getAllNationen\",{}\n    );\n  },\n}","export default {\n    //! API calls for profil update requests\n  \n    getStatus: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getStatus`,{});\n    },\n  \n    getTopic: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getTopic`,{});\n    },\n  \n    acceptProfilRequest: function ({profil_update_id, uid, status_message, topic, requested_change}) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/acceptProfilRequest\",{profil_update_id, uid, status_message, topic, requested_change});\n    },\n  \n    denyProfilRequest: function ({profil_update_id, uid, topic, status_message}) {\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/denyProfilRequest\",{profil_update_id,uid,topic,status_message});\n    },\n  \n    insertFile: function (dms, replace = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n        dms);\n\n    },\n    \n    getProfilRequestFiles: function (requestID) {\n      return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`,{});\n    },\n  \n    selectProfilRequest: function (uid = null, id = null) {\n\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/selectProfilRequest`,\n        {...(uid?{uid}:{}),\n          ...(id?{id}:{})\n        });\n    },\n  \n    insertProfilRequest: function (topic, payload, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/insertProfilRequest\",\n        {\n          topic,\n          payload,\n          ...(fileID ? { fileID } : {}),\n        });\n    },\n  \n    updateProfilRequest: function (topic, payload, ID, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/updateProfilRequest`,\n        {\n          topic,\n          payload,\n          ID,\n          ...(fileID ? { fileID: fileID } : {}),\n        });\n    },\n  \n    deleteProfilRequest: function (requestID) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/deleteProfilRequest`,\n        {\n          requestID,\n        });\n    },\n  };\n  ","\nexport default {\n\tgetRoomInfo(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getRoomplan',\n\t\t\t{  ort_kurzbz, start_date, end_date}\n\t\t);\n\t},\n\tgetStunden() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/Stunden',\n\t\t\t{}\n\t\t);\n\t},\n\tgetOrtReservierungen(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/LvPlan/getReservierungen/${ort_kurzbz}`,\n\t\t\t{ start_date, end_date}\n\t\t);\n\t},\n\tgetLvPlanReservierungen(start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getReservierungen',\n\t\t\t{ start_date, end_date }\n\t\t);\n\t},\n\tgetLehreinheitStudiensemester(lehreinheit_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${lehreinheit_id}`,\n\t\t\t{}\n\t\t);\n\t},\n\tstudiensemesterDateInterval(date) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${date}`,\n\t\t\t{}\n\t\t);\n\t},\n\tLvPlanEvents(start_date, end_date, lv_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/LvPlanEvents',\n\t\t\t{ start_date, end_date, lv_id }\n\t\t);\n\t},\n\t\n\t\n};","import verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport group from './stv/group.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport archiv from './stv/archiv.js';\nimport documents from './stv/documents.js';\nimport exemptions from './stv/exemptions.js';\nimport jointstudies from \"./stv/jointstudies.js\";\nimport courselist from './stv/courselist.js';\n\nexport default {\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tgroup,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tarchiv,\n\tdocuments,\n\texemptions,\n\tjointstudies,\n\tcourselist,\n\tconfigStudent() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/student');\n\t},\n\tconfigStudents() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/students');\n\t}\n};\n","export default {\n\tget() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/verband');\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/stv/favorites');\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/stv/favorites/set', {\n\t\t\t\tfavorites\n\t\t\t});\n\t\t}\n\t}\n}","export default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tverband(relative_path) {\n\t\treturn this.$fhcApi.getUri('api/frontend/v1/stv/students/' + relative_path);\n\t}\n}","export default {\n\tgetStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/filter/getStg');\n\t},\n\tsetStg(studiengang_kz) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/filter/setStg', {\n\t\t\tstudiengang_kz\n\t\t});\n\t}\n};","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/konto/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id),\n\t\t\t\tonly_open: self.filter,\n\t\t\t\tstudiengang_kz: self.studiengang_kz_intern ? self.stg_kz : ''\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tcheckDoubles(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/checkDoubles', data, {\n\t\t\tconfirmErrorHandler: error => true\n\t\t});\n\t},\n\tinsert(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/insert', data);\n\t},\n\tcounter(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/counter', data);\n\t},\n\tedit(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/update', data);\n\t},\n\tdelete(buchungsnr) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/delete', {buchungsnr});\n\t},\n\tgetBuchungstypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/konto/getBuchungstypen');\n\t}\n};","export default {\n\tgetGruppen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/Gruppen/getGruppen/' + params.id);\n\t},\n\tdeleteGroup(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/Gruppen/deleteGruppe/', params);\n\t}\n}","export default {\n\t//------------- address.js-----------\n\tgetAdressen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressen/' + params.id);\n\t},\n\taddNewAddress(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewAddress/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadAddress(address_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadAddress/', {address_id});\n\t},\n\tupdateAddress(form, address_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteAddress(address_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteAddress/', {address_id});\n\t},\n\tgetPlaces(plz) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getPlaces/' + plz);\n\t},\n\tgetFirmen(searchString) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getFirmen/' + searchString);\n\t},\n\tgetNations() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getNations/');\n\t},\n\tgetAdressentypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressentypen/');\n\t},\n\n\t//------------- bankverbindung.js-----------\n\tgetBankverbindung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getBankverbindung/' + params.id);\n\t},\n\taddNewBankverbindung(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewBankverbindung/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadBankverbindung(bankverbindung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadBankverbindung/', {bankverbindung_id});\n\t},\n\tupdateBankverbindung(form, bankverbindung_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateBankverbindung/' + bankverbindung_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteBankverbindung(bankverbindung_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteBankverbindung/', {bankverbindung_id});\n\t},\n\n\t//------------- contact.js-----------\n\tgetKontakte (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakte/' + params.id);\n\t},\n\taddNewContact(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewContact/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadContact(kontakt_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadContact/', {kontakt_id});\n\t},\n\tupdateContact(form, kontakt_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateContact/' + kontakt_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteContact(kontakt_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteContact/', {kontakt_id});\n\t},\n\tgetStandorteByFirma(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getStandorteByFirma/' + searchString);\n\t},\n\tgetKontakttypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakttypen/');\n\t}\n};","export default {\n\n//------------- Prestudent.js------------------------------------------------------\n\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn \tthis.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/prestudent/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t);\n\t},\n\tupdatePrestudent(form, prestudent_id, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/prestudent/updatePrestudent/' + prestudent_id,\n\t\t\tdata\n\t\t);\n\t},\n\tgetBezeichnungZGV() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungZGV/');\n\t},\n\tgetBezeichnungMZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungMZgv/');\n\t},\n\tgetBezeichnungDZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungDZgv/');\n\t},\n\tgetStgs() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStgs/');\n\t},\n\tgetAusbildung() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAusbildung/');\n\t},\n\tgetAufmerksamdurch() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAufmerksamdurch/');\n\t},\n\tgetBerufstaetigkeit() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBerufstaetigkeit/');\n\t},\n\tgetTypenStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getTypenStg/');\n\t},\n\tgetBisstandort() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBisstandort/');\n\t},\n\n//------------- MultiStatus.js------------------------------------------------------\n\tgetHistoryPrestudent (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getHistoryPrestudent/' + params.id);\n\t},\n\tgetMaxSem(studiengang_kzs) {\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/status/getMaxSemester/', {studiengang_kzs});\n\t},\n\tadvanceStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/advanceStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tconfirmStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/confirmStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tisLastStatus(id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/isLastStatus/' + id);\n\t},\n\tdeleteStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/deleteStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tgetLastBismeldestichtag() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getLastBismeldestichtag/');\n\t},\n\n//------------- History.js------------------------------------------------------\n\tgetHistoryPrestudents (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getHistoryPrestudents/' + params.id);\n\t},\n\n}","export default {\n\n//------------- Modal.js------------------------------------------------------\n\n\tinsertStatus(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/status/insertStatus/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/status/loadStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tupdateStatus(form, {prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}, data) {\n\t\treturn this.$fhcApi.post(\n\t\t\tform,\n\t\t\t'api/frontend/v1/stv/status/updateStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester,\n\t\t\tdata\n\t\t);\n\t},\n\tgetStudienplaene(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudienplaene/' + prestudent_id);\n\t},\n\tgetStudiengang(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudiengang/' + prestudent_id);\n\t},\n\tgetStatusgruende() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusgruende/');\n\t},\n\tgetStati() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStati/');\n\t},\n\n//------------- Dropdown.js------------------------------------------------------\n\n\taddStudent(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/addStudent/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tchangeStatus(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/changeStatus/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tgetStatusarray() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusarray/');\n\t}\n}","export default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/student/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(url);\n\t},\n\tsave(form, prestudent_id, studiensemester_kurzbz, data) {\n\t\tlet url = 'api/frontend/v1/stv/student/save/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(form, url, data);\n\t},\n}\n","export default {\n\tgetPruefungen(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getPruefungen/' + params.id);\n\t},\n\tloadPruefung(pruefung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/loadPruefung/' + pruefung_id);\n\t},\n\tgetTypenPruefungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getTypenPruefungen');\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/getAllLehreinheiten/', data)\n\t},\n\tgetLvsByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsByStudent/' + uid)\n\t},\n\tgetLvsandLesByStudent(uid, semester){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsandLesByStudent/' + uid + '/' + semester);\n\t},\n\tgetLvsAndMas(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsAndMas/' + uid)\n\t},\n\tgetMitarbeiterLv(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getMitarbeiterLv/' + id)\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getNoten');\n\t},\n\tcheckZeugnisnoteLv(data){\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/', data)\n\t},\n\taddPruefung(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/insertPruefung/',  data);\n\t},\n\tupdatePruefung(form, id, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/updatePruefung/' + id,  data);\n\t},\n\tdeletePruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/deletePruefung/' + id)\n\t}\n}","export default {\n\n\tgetAbschlusspruefung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/' + params.id);\n\t},\n\taddNewAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/', data\n\t\t);\n\t},\n\tloadAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/', {id});\n\t},\n\tupdateAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/', data\n\t\t);\n\t},\n\tdeleteAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/', {id});\n\t},\n\tgetTypenAbschlusspruefung(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/');\n\t},\n\tgetTypenAntritte(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/');\n\t},\n\tgetBeurteilungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/');\n\t},\n\tgetAkadGrade(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getAkadGrade/', {studiengang_kz});\n\t},\n\tgetTypStudiengang(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/', {studiengang_kz});\n\t},\n\tgetMitarbeiter(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/' + searchString);\n\t},\n\tgetPruefer(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getPruefer/' + searchString);\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getNoten/');\n\t},\n\tcheckForExistingExams(uids) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/', {uids}\n\t\t);\n\t}\n}","export default {\n\tlist() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/grades/list');\n\t},\n\tgetCertificate(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getCertificate/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetTeacherProposal(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getTeacherProposal/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetRepeaterGrades(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getRepeaterGrades/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tupdateCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, note, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/updateCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz,\n\t\t\t\tnote\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tdeleteCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/deleteCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyTeacherProposalToCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyTeacherProposalToCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id, lv_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate',\n\t\t\t{\n\t\t\t\tstudierendenantrag_lehrveranstaltung_id\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lv_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tgetGradeFromPoints(points, lehrveranstaltung_id, studiensemester_kurzbz, manualErrorHandling) {\n\t\tconst config = manualErrorHandling ? {errorHandling: false} : {};\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/grades/getGradeFromPoints',\n\t\t\t{\n\t\t\t\t\"points\": points,\n\t\t\t\t\"lehrveranstaltung_id\": lehrveranstaltung_id,\n\t\t\t\t\"studiensemester_kurzbz\": studiensemester_kurzbz\n\t\t\t},\n\t\t\tconfig\n\t\t\t);\n\t}\n}","export default {\n\tgetMobilitaeten (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getMobilitaeten/' + params.id);\n\t},\n\tgetProgramsMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getProgramsMobility/');\n\t},\n\taddNewMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/insertMobility/', data);\n\t},\n\tloadMobility(bisio_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/loadMobility/' + bisio_id);\n\t},\n\tupdateMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/updateMobility/', data);\n\t},\n\tdeleteMobility(bisio_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobility/' + bisio_id);\n\t},\n\tgetLVList(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLVList/' + studiengang_kz);\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/getAllLehreinheiten/', data)\n\t},\n\tgetLvsandLesByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLvsandLesByStudent/' + uid);\n\t},\n\tgetPurposes(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getPurposes/' + params.id);\n\t},\n\tgetSupports(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getSupports/' + params.id);\n\t},\n\tgetListPurposes() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListPurposes/');\n\t},\n\tgetListSupports() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListSupports/');\n\t},\n\tdeleteMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilityPurpose/' + params.bisio_id, params);\n\t},\n\taddMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilityPurpose/' + params.bisio_id, params);\n\t},\n\tdeleteMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilitySupport/' + params.bisio_id, params);\n\t},\n\taddMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilitySupport/' + params.bisio_id, params);\n\t},\n\n}","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/archiv/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id)\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tgetArchivVorlagen() {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/getArchivVorlagen');\n\t},\n\tarchive(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archive',\n\t\t\tdata\n\t\t);\n\t},\n\tarchiveSigned(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archiveSigned',\n\t\t\tdata\n\t\t);\n\t},\n\tupdate(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/update', data);\n\t},\n\tdelete({akte_id, studiengang_kz}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/delete', {akte_id, studiengang_kz});\n\t}\n};\n","export default {\n\tgetDocumentsUnaccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tgetDocumentsAccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsAccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tdeleteZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteZuordnung/' + params.prestudent_id + '/' + params.dokument_kurzbz);\n\t},\n\tcreateZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/createZuordnung/'\n\t\t\t+ params.prestudent_id + '/'\n\t\t\t+ params.dokument_kurzbz);\n\t},\n\tloadAkte(akte_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/loadAkte/' + akte_id);\n\t},\n\tgetDoktypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDoktypen/');\n\t},\n\tupdateFile(akte_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/updateAkte/' + akte_id,\n\t\t\tdata);\n\t},\n\tdeleteFile(akte_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteAkte/' + akte_id);\n\t},\n\tuploadFile(prestudent_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/uploadDokument/' + prestudent_id,\n\t\t\tdata);\n\t},\n}","export default {\n\tgetAnrechnungen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getAnrechnungen/' + params.id);\n\t},\n\tgetLehrveranstaltungen(prestudent_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/' + prestudent_id);\n\t},\n\tgetBegruendungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getBegruendungen/');\n\t},\n\tgetLvsKompatibel(lv_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLvsKompatibel/' + lv_id);\n\t},\n\tgetLektoren(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLektoren/' + studiengang_kz);\n\t},\n\taddNewAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/insertAnrechnung/', data);\n\t},\n\tloadAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/loadAnrechnung/' + anrechnung_id);\n\t},\n\teditAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/updateAnrechnung/', data);\n\t},\n\tdeleteAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/anrechnungen/deleteAnrechnung/' + anrechnung_id);\n\t},\n}","export default {\n\tgetStudies(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudien/' + params.id);\n\t},\n\tgetTypenMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/');\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/');\n\t},\n\tgetStudyprograms(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/');\n\t},\n\tgetListPartner(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/');\n\t},\n\tgetStatiPrestudent(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/');\n\t},\n\tloadStudy(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/loadStudie/' + id);\n\t},\n\tinsertStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/insertStudie/', data);\n\t},\n\tupdateStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/updateStudie/', data);\n\t},\n\tdeleteStudy(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/GemeinsameStudien/deleteStudie/' + id);\n\t},\n\n}","export default {\n\tgetCourselist(url, config, params) {\n\t\t//corresponding logic controller Stundenplan.php\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStundenplan/'\n\t\t\t+ params.student_uid + '/'\n\t\t\t+ params.start_date + '/'\n\t\t\t+ params.end_date + '/'\n\t\t\t+ params.group_consecutiveHours + '/'\n\t\t\t+ params.dbStundenplanTable\n\t\t);\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStudiensemester/');\n\t},\n}","import person from \"./notiz/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetNotizen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getNotizen/' + params.id + '/' + params.type);\n\t},\n\tgetUid(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getUid/');\n\t},\n\taddNewNotiz(form, id, formData) {\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/addNewNotiz/' + id,\n\t\t\tformData\n\t\t);\n\t},\n\tloadNotiz(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadNotiz/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tloadDokumente(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadDokumente/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tdeleteNotiz(notiz_id, type_id, id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/deleteNotiz/', {\n\t\t\tnotiz_id,\n\t\t\ttype_id,\n\t\t\tid\n\t\t});\n\t},\n\tupdateNotiz(form, notiz_id, formData){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/updateNotiz/' + notiz_id,\n\t\t\tformData\n\t\t);\n\t},\n\tgetMitarbeiter(event){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getMitarbeiter/' + event);\n\t},\n\tisBerechtigt(id, type_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/isBerechtigt/');\n\t}\n}","import person from \"./betriebsmittel/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetAllBetriebsmittel(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + params.type + '/' + params.id);\n\t},\n\taddNewBetriebsmittel(form, person_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' +\n\t\t\tperson_id, formData\n\t\t);\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id);\n\t},\n\tupdateBetriebsmittel(form, betriebsmittelperson_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tformData);\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id);\n\t},\n\tgetTypenBetriebsmittel(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/');\n\t},\n\tloadInventarliste(query){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery);\n\t}\n}","export default {\n\tupdatePersonUnrulyStatus(person_id, unrulyParam) {\n\n\t\ttry {\n\t\t\tconst payload = {person_id, unruly: unrulyParam}\n\t\t\tconst url = '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus';\n\t\t\treturn this.$fhcApi.post(url, payload, null);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t},\n\tfilterPerson(payload, base = ''){\n\n\t\ttry {\n\t\t\tconst url = base + '/api/frontend/v1/checkperson/CheckPerson/filterPerson';\n\t\t\treturn axios.post(url, payload)\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t}\n}","export default {\n  getContentID(ort_kurbz) {\n\t\treturn this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            \"/api/frontend/v1/Ort/ContentID\",\n\t\t\t{ ort_kurzbz: ort_kurbz }\n\t\t);\n\t},\n\tgetRooms(datum, von, bis, typ, personenanzahl = 0) {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getRooms\",\n\t\t\t{ datum, von, bis, typ, personenanzahl }\n\t\t);\n\t},\n\tgetRoomTypes() {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getTypes\"\n\t\t);\n\t}\n}","export default {\n    content(content_id, version=null, sprache=null, sichtbar=null) {\n        return this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/content\",\n\t\t\t{ \n\t\t\t\tcontent_id: content_id,\n\t\t\t\t...(version?{version}:{}),\n\t\t\t\t...(sprache?{sprache}:{}),\n\t\t\t\t...(sichtbar?{sichtbar}:{}),\n            }\n        );\n    },\n\t//api function used for the news View that renders the html\n\tgetNews(page = 1, page_size = 10, sprache) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNews\",\n\t\t\t{\n\t\t\t\tpage,\n\t\t\t\tpage_size,\n\t\t\t\tsprache,\n\t\t\t},\n\t\t);\n\t},\n\t//api function used for the widget component\n\tnews(limit) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/news\",\n\t\t\t{\n\t\t\t\tlimit: limit\n\t\t\t}\n\t\t);\n\t},\n\tgetNewsRowCount: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNewsRowCount\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetNewsExtra: function(){\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getStudiengangInfoForNews\",\n\t\t\t{}\n\t\t);\n\t}\n  }","export default {\n    getStudentenMail(lehreinheit_id) {\n          return this.$fhcApi.get(\n              FHC_JS_DATA_STORAGE_OBJECT.app_root +\n              FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n              \"/api/frontend/v1/Lehre/lvStudentenMail\",\n              { lehreinheit_id: lehreinheit_id }\n          );\n      },\n\tgetLvInfo(studiensemester_kurzbz, lehrveranstaltung_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/LV/${studiensemester_kurzbz}/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentPruefungen(lehrveranstaltung_id){\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/Pruefungen/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektarbeiten(uid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${uid}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektabgaben(detail) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektabgaben`\n\t\t\t, {\n\t\t\t\tprojektarbeit_id: detail.projektarbeit_id,\n\t\t\t\tstudent_uid: detail.student_uid\n\t\t\t}\n\t\t);\n\t},\n\tpostStudentProjektarbeitEndupload(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tpostStudentProjektarbeitZwischenabgabe(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tgetStudentProjektarbeitAbgabeFile(paabgabe_id, student_uid) {\n\t\tconst url = `/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${paabgabe_id}&student_uid=${student_uid}`;\n\n\t\twindow.location = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + url\n\t},\n\tgetMitarbeiterProjektarbeiten(uid, all) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${all}`\n\t\t\t, {}\n\t\t);\n\t},\n\tpostProjektarbeitAbgabe(termin) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id: termin.paabgabe_id,\n\t\t\tpaabgabetyp_kurzbz: termin.bezeichnung.paabgabetyp_kurzbz,\n\t\t\tdatum: termin.datum,\n\t\t\tfixtermin: termin.fixtermin,\n\t\t\tinsertvon: termin.insertvon,\n\t\t\tkurzbz: termin.kurzbz,\n\t\t\tprojektarbeit_id: termin.projektarbeit_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t\t\n\t},\n\tdeleteProjektarbeitAbgabe(paabgabe_id) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tpostSerientermin(datum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids) {\n\t\tconst payload = {\n\t\t\tdatum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postSerientermin';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tfetchDeadlines(person_id) {\n\t\tconst payload = {\n\t\t\tperson_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/fetchDeadlines';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t}\n  }","export default {\n    getLvMenu(lvid, studiensemester_kurzbz) {\n        return this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            `/api/frontend/v1/LvMenu/getLvMenu/${lvid}/${studiensemester_kurzbz}`,\n            {}\n        );\n    },\n\n      \n  }","import person from \"./messages/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\t\tgetMessages(url, config, params) {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessages/' + params.id + '/' + params.type + '/' + params.size + '/' + params.page);\n\t\t},\n\t\tgetVorlagen(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getVorlagen/');\n\t\t},\n\t\tgetMsgVarsLoggedInUser(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/');\n\t\t},\n\t\tgetMessageVarsPerson(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessageVarsPerson/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetMsgVarsPrestudent(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsPrestudent/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPersonId(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getPersonId/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetUid(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getUid/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getDataVorlage/' + vorlage_kurzbz);\n\t\t},\n\t\tgetNameOfDefaultRecipient(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getNameOfDefaultRecipient/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPreviewText(params, data){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/getPreviewText/' + params.id + '/' + params.type_id,\n\t\t\t\tdata);\n\t\t},\n\t\tgetReplyData(messageId){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getReplyData/' + messageId);\n\t\t},\n\t\tsendMessageFromModalContext(form, id, data) {\n\t\t\treturn this.$fhcApi.post(form,'api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tsendMessage(id, data) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tdeleteMessage(messageId){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/deleteMessage/' + messageId);\n\t\t}\n}","export default {\n\tgetVorlagen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagen/');\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/');\n\t}\n}","export default {\n\n\tgetStudiensemester: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/components/Cis/Mylv/Studiensemester',\n\t\t\t{}\n\t\t);\n\t},\n\n\tgetAllStudienSemester: function (studiensemester=undefined, studiengang=undefined, semester=undefined, studienplan=undefined) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/Studium/getStudienAllSemester',\n\t\t\t{studiensemester, studiengang, semester, studienplan}\n\t\t);\n\t},\n\n\tgetStudiengaengeForStudienSemester: function (studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${studiensemester}`,\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudienplaeneBySemester: function (studiengang, studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudienplaeneBySemester`,\n\t\t\t{\n\t\t\t\tstudiengang,\n\t\t\t\tstudiensemester,\n\t\t\t}\n\t\t);\n\t},\n\tgetLvPlanForStudiensemester: function (studiensemester, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${studiensemester}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\tgetLvEvaluierungInfo: function (studiensemester_kurzbz, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getLvEvaluierungInfo/${studiensemester_kurzbz}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\t\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport search from \"./search.js\";\nimport phrasen from \"./phrasen.js\";\nimport navigation from \"./navigation.js\";\nimport filter from \"./filter.js\";\nimport studstatus from \"./studstatus.js\";\nimport profil from \"./profil.js\";\nimport profilUpdate from \"./profilUpdate.js\";\nimport lvPlan from \"./lvPlan.js\";\nimport bookmark from \"./bookmark.js\";\nimport stv from \"./stv.js\";\nimport notiz from \"./notiz.js\";\nimport betriebsmittel from \"./betriebsmittel.js\";\nimport checkperson from \"./checkperson.js\";\nimport ampeln from \"./ampeln.js\";\nimport ort from \"./ort.js\";\nimport cms from \"./cms.js\";\nimport lehre from \"./lehre.js\";\nimport addons from \"./addons.js\";\nimport messages from \"./messages.js\";\nimport vorlagen from \"./vorlagen.js\";\nimport studiengang from \"./studiengang.js\";\nimport menu from \"./menu.js\";\nimport dashboard from \"./dashboard.js\";\nimport authinfo from \"./authinfo.js\";\nimport studium from \"./studium.js\";\nimport language from \"./language.js\";\n\nexport default {\n    search,\n    phrasen,\n    navigation,\n    dashboard,\n    filter,\n    studstatus,\n    profil,\n    profilUpdate,\n    lvPlan,\n    bookmark,\n    stv,\n    notiz,\n    betriebsmittel,\n    checkperson,\n    ampeln,\n    ort,\n    cms,\n    lehre,\n    addons,\n    messages,\n    vorlagen,\n    addons,\n\tstudiengang,\n\tmenu,\n\tauthinfo,\n\tstudium,\n    language\n};\n","export default {\n\tasync getViewData() {\n\t\tconst url = `/api/frontend/v1/Cis4FhcApi/getViewData`;\n\t\treturn this.$fhcApi.get(url, null, null)\n\t},\n}","export default {\n\n    getBookmarks: function () {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/getBookmarks`\n        ,{}\n      );\n    },\n  \n    delete: function (bookmark_id) {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/delete/${bookmark_id}`\n        ,{}\n      ); \n    },\n\n\tupdate: function ({ bookmark_id, url, title, tag=null}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/Bookmark/update/${bookmark_id}`\n\t\t\t, {\n\t\t\t\turl: url,\n\t\t\t\ttitle: title\n\t\t\t}\n\t\t);\n\t},\n\n    insert: function ({url, title, tag}) {\n      return this.$fhcApi.post(\n        `/api/frontend/v1/Bookmark/insert`\n        ,{\n          url: url,\n          title: title,\n          tag: tag\n        }\n      ); \n    },\n}","export default {\n    \n    open: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/open`,{});\n    },\n\n    all: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/all`,{});\n    },\n\n    confirm: function (ampel_id) {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/confirm/${ampel_id}`,{});\n    },\n\n}","export default {\n\tstudiengangInformation: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Studgang/getStudiengangInfo\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudiengangByKz: function (studiengang_kz) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz\",\n\t\t\t{\n\t\t\t\t\"studiengang_kz\": studiengang_kz\n\t\t\t}\n\t\t);\n\t}\n}","export default {\n\tgetMenu: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/CisMenu/getMenu\",\n\t\t\t{}\n\t\t);\n\t}\n\n}","\nexport default {\n\tgetAuthUID() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthUID',\n\t\t\t{ }\n\t\t);\n\t},\n\tgetAuthInfo() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthInfo',\n\t\t\t{}\n\t\t);\n\t},\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAll() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/language/get');\n\t}\n};","/** TODO(chris):\n * when deleting this file be sure to\n * remove line 1 & 90 from ../plugins/Phrasen.js\n */\nimport FhcApiFactory from '../api/fhcapifactory.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\tconsole.warn('$fhcApi.getUri is DEPRECATED! Use $api.getUri instead.');\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\tconsole.warn('$fhcApi.get is DEPRECATED! Use $api.get instead.');\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\tconsole.warn('$fhcApi.post is DEPRECATED! Use $api.post instead.');\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart, true)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart, noWarn) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif (!noWarn) console.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n * \n * @usage:\n * Preperations:\n * Be sure to have PrimeVue loaded  with the toast and confirmdialog\n * components as primevue variable\n * Install:\n * Import this Plugin and install it with the app.use() function.\n * Use:\n * In your component you can call now the global property $fhcAlert\n * which has the following functions:\n * \n * alertSuccess\n * ------------\n * Displays a success message\n * @param string\tmessage\n * @return void\n * \n * alertInfo\n * ---------\n * Displays an info message\n * @param string\tmessage\n * @return void\n * \n * alertWarning\n * ------------\n * Displays a warning\n * @param string\tmessage\n * @return void\n * \n * alertError\n * ----------\n * Displays an error\n * @param string\tmessage\n * @return void\n * \n * alertSystemError\n * ----------------\n * Displays an alert with the error details and a button to mail\n * the error to the Support Team\n * @param string\tmessage\n * @return void\n * \n * confirmDelete\n * -------------\n * Displays a confirmation dialog and returns a Promise which resolves\n * with true or false depending und the pressed button.\n * @return Promise\n * \n * alertDefault\n * ------------\n * Displays an alert\n * @param string\tseverity\t\tcan be 'success', 'info', 'warning', 'error'\n * @param string\ttitle\n * @param string\tmessage\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * alertMultiple\n * -------------\n * Displays multiple alerts\n * @param array\t\tmessageArray\n * @param string\tseverity\t\t(optional) defaults to 'info'\n * @param string\ttitle\t\t\t(optional) defaults to 'Info'\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * handleSystemError\n * -----------------\n * Automatiticly determine how to display an system error and display it.\n * This would be used in a catch block of an ajax call.\n * @param mixed\t\terror\n * @return void\n * \n * handleSystemMessage\n * -------------------\n * Automatiticly determine how to display a message and display it.\n * @param mixed\t\tmessage\n * @return void\n */\nimport PvConfig from \"../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js\";\nimport PvToast from \"../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js\";\nimport PvConfirm from \"../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js\";\nimport PvConfirmationService from \"../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js\";\nimport FhcPhrasen from \"./Phrasen.js\";\n\nimport {CoreRESTClient} from '../RESTClient.js';\n\nconst helperAppContainer = document.createElement('div');\n\nconst helperApp = Vue.createApp({\n\tname: \"FhcAlertApp\",\n\tcomponents: {\n\t\tPvToast,\n\t\tPvConfirm\n\t},\n\tmethods: {\n\t\tmailToUrl(slotProps) {\n\t\t\tlet mailTo = FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto;\n\t\t\tlet subject = 'Meldung%20Systemfehler';\n\t\t\tlet body = `\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausfhrlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewhlt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: ` + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method + `%0D%0A\n\t\t\t\tFehler Meldung: ` + slotProps.message.detail + `%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kmmern uns um eine rasche Behebung des Problems!`\n\n\t\t\treturn \"mailto:\" + mailTo + \"?subject=\" + subject + \"&body=\" + body;\n\t\t},\n\t\topenMessagecard(e) {\n\t\t\tbootstrap.Collapse.getOrCreateInstance(e.target.getAttribute('href')).toggle();\n\t\t}\n\t},\n\tunmounted() {\n\t\thelperAppContainer.parentElement.removeChild(helperAppContainer);\n\t},\n\tcomputed: {\n\t\tshowmaillink: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto !== '';\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<pv-toast ref=\"toast\" class=\"fhc-alert\" :base-z-index=\"99999\">\n\t\t<template #message=\"{ message }\">\n\t\t\t<!--span :class=\"slotProps.iconClass\"></span-->\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{ message.summary }}</span>\n\t\t\t\t<div v-if=\"message.detail && message.html\" class=\"p-toast-detail\" v-html=\"message.detail\"></div>\n\t\t\t\t<div v-else-if=\"message.detail\" class=\"p-toast-detail\">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref=\"alert\" class=\"fhc-alert\" :base-z-index=\"99999\" position=\"center\">\n\t\t<template #message=\"slotProps\">\n\t\t\t<i class=\"fa fa-circle-exclamation fa-2xl mt-3\"></i>\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class=\"p-toast-detail my-3\">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"align-bottom flex-fill me-2\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\t:href=\"'#fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t:aria-controls=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\t@click=\"openMessagecard\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"showmaillink\"\n\t\t\t\t\t\tclass=\"btn btn-primary flex-fill\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t:href=\"mailToUrl(slotProps)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"messageCard\" :id=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\" class=\"collapse mt-3\">\n\t\t\t\t\t<div class=\"card card-body text-body small alertCollapseText\">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group=\"fhcAlertConfirm\"></pv-confirm>`\n});\n\nhelperApp.use(PvConfig);\nhelperApp.use(PvConfirmationService);\n//helperApp.use(FhcPhrasen);\n\nconst helperAppInstance = helperApp.mount(helperAppContainer);\n\ndocument.body.appendChild(helperAppContainer);\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (!app.config.globalProperties.$p)\n\t\t\tapp.use(FhcPhrasen);\n\n\t\tconst $fhcAlert = {\n\t\t\talertSuccess(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSuccess);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'success', summary: 'Info', detail: message, life: 1000});\n\t\t\t},\n\t\t\talertInfo(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertInfo);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'info', summary: 'Info', detail: message, life: 3000 });\n\t\t\t},\n\t\t\talertWarning(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertWarning);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'warn', summary: 'Achtung', detail: message});\n\t\t\t},\n\t\t\talertError(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertError);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'error', summary: 'Achtung', detail: message });\n\t\t\t},\n\t\t\talertSystemError(message) {\n\t\t\t\t//TODO(Manu) for translation of content of template: restructure in data\n\t\t\t\t//and update definitions with  translations\n\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSystemError);\n\t\t\t\thelperAppInstance.$refs.alert.add({\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\tsummary: Vue.computed(() => app.config.globalProperties.$p.t('alert/systemerror')),\n\t\t\t\t\tdetail: message});\n\t\t\t},\n\t\t\tconfirmDelete() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: 'fhcAlertConfirm',\n\t\t\t\t\t\theader: Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: Vue.computed(() => app.config.globalProperties.$p.t('alert/confirm_delete')),\n\t\t\t\t\t\tacceptLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/loeschen')),\n\t\t\t\t\t\tacceptClass: 'p-button-danger',\n\t\t\t\t\t\trejectLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: 'p-button-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfirm(options) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: options?.group ?? 'fhcAlertConfirm',\n\t\t\t\t\t\theader: options?.header ?? Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: options?.message ?? '',\n\t\t\t\t\t\tacceptLabel: options?.acceptLabel ?? 'Ok',\n\t\t\t\t\t\tacceptClass: options?.acceptClass ?? 'btn btn-primary',\n\t\t\t\t\t\trejectLabel: options?.rejectLabel ?? Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: options?.rejectClass ?? 'btn btn-outline-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\talertDefault(severity, title, message, sticky = false, html = false) {\n\t\t\t\tlet options = { severity: severity, summary: title, detail: message, html };\n\t\t\t\t\n\t\t\t\tif (!sticky)\n\t\t\t\t\toptions.life = 3000;\n\n\t\t\t\thelperAppInstance.$refs.toast.add(options);\n\t\t\t},\n\t\t\talertMultiple(messageArray, severity = 'info', title = 'Info', sticky = false, html = false){\n\t\t\t\t// Check, if array has only string values\n\t\t\t\tif (messageArray.every(message => typeof message === 'string')) {\n\t\t\t\t\tmessageArray.forEach(message => this.alertDefault(severity, title, message, sticky, html));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thandleSystemError(error) {\n\t\t\t\t// don't show an error message to the user if the error was an aborted request\n\t\t\t\tif(error.hasOwnProperty('name') && error.name.toLowerCase() === \"AbortError\".toLowerCase())\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is string\n\t\t\t\tif (typeof error === 'string')\n\t\t\t\t\treturn $fhcAlert.alertSystemError(error);\n\n\t\t\t\t// Error is array of strings\n\t\t\t\tif (Array.isArray(error) && error.every(err => typeof err === 'string'))\n\t\t\t\t\treturn error.every($fhcAlert.alertSystemError);\n\n\t\t\t\t// Error has been handled already\n\t\t\t\tif (error.hasOwnProperty('handled') && error.handled)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is object\n\t\t\t\tif (typeof error === 'object' && error !== null) {\n\t\t\t\t\tlet errMsg = '';\n\n\n\t\t\t\t\tif (error.hasOwnProperty('response') && error.response?.data?.retval)\n\t\t\t\t\t\terrMsg += 'Error Message: ' + (error.response.data.retval.message || error.response.data.retval) + '\\r\\n';\n\t\t\t\t\telse if (error.hasOwnProperty('message'))\n\t\t\t\t\t\terrMsg += 'Error Message: ' + error.message.toUpperCase() + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('config') && error.config.hasOwnProperty('url'))\n\t\t\t\t\t\terrMsg += 'Error ConfigURL: ' + error.config.url + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('stack'))\n\t\t\t\t\t\terrMsg += 'Error Stack: ' + error.stack + '\\r\\n';\n\t\t\t\t\t\n\t\t\t\t\t// Fallback object error message\n\t\t\t\t\tif (errMsg == '')\n\t\t\t\t\t\terrMsg = 'Error Message: ' + JSON.stringify(error) + '\\r\\n';\n\n\t\t\t\t\terrMsg += 'Error Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\n\t\t\t\t\treturn $fhcAlert.alertSystemError(errMsg);\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\thandleSystemMessage(message) {\n\t\t\t\t// Message is string\n\t\t\t\tif (typeof message === 'string')\n\t\t\t\t\treturn $fhcAlert.alertWarning(message);\n\n\t\t\t\t// Message is array of strings\n\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t// If Array has only Strings\n\t\t\t\t\tif (message.every(msg => typeof msg === 'string'))\n\t\t\t\t\t\treturn message.every($fhcAlert.alertWarning);\n\n\t\t\t\t\t// If Array has only Objects\n\t\t\t\t\tif (message.every(msg => typeof msg === 'object') && msg !== null) {\n\t\t\t\t\t\treturn message.every(msg => {\n\t\t\t\t\t\t\tif (msg.hasOwnProperty('data') && msg.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(msg.data.retval));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(msg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Message is Object with data property\n\t\t\t\tif (typeof message === 'object' && message !== null){\n\t\t\t\t\tif (message.hasOwnProperty('data') && message.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t// NOTE(chris): changed: alertSystemError => alertWarning\n\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(message.data.retval));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(message));\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' +  FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\tresetFormValidation(form) {\n\t\t\t\tconst event = new Event('fhc-form-reset');\n\t\t\t\tform.querySelectorAll(['[data-fhc-form-validate],[data-fhc-form-error]']).forEach(el => el.dispatchEvent(event));\n\t\t\t\t/*const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\tif (alert) {\n\t\t\t\t\talert.innerHTML = '';\n\t\t\t\t\talert.classList.add('d-none');\n\t\t\t\t}\n\t\t\t\tform.querySelectorAll('.invalid-feedback').forEach(n => n.remove());\n\t\t\t\tform.querySelectorAll('.is-invalid').forEach(n => n.classList.remove('is-invalid'));\n\t\t\t\tform.querySelectorAll('.is-valid').forEach(n => n.classList.remove('is-valid'));*/\n\t\t\t},\n\t\t\thandleFormValidation(error, form) {\n\t\t\t\tif (form === undefined) {\n\t\t\t\t\tif (error && error.nodeType === Node.ELEMENT_NODE)\n\t\t\t\t\t\treturn err => $fhcAlert.handleFormValidation(err, error);\n\t\t\t\t} else {\n\t\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t\tif (typeof errors !== \"object\")\n\t\t\t\t\t\t\terrors = error.response.data;\n\n\t\t\t\t\t\t// NOTE(chris): reset form validation\n\t\t\t\t\t\t$fhcAlert.resetFormValidation(form);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// NOTE(chris): set form input validation\n\t\t\t\t\t\tconst notFound = Object.entries(errors).filter(([key, detail]) => {\n\t\t\t\t\t\t\tconst input = form.querySelector('[data-fhc-form-validate=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tinput.dispatchEvent(new CustomEvent('fhc-form-invalidate', {detail}));\n\n\t\t\t\t\t\t\t/*const input = form.querySelector('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\t\t\t\tconst feedback = document.createElement('div');\n\t\t\t\t\t\t\tfeedback.classList.add('invalid-feedback');\n\t\t\t\t\t\t\tfeedback.innerHTML = detail;\n\t\t\t\t\t\t\tinput.after(feedback);*/\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).map(arr => arr[1]);\n\n\n\t\t\t\t\t\t//const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\t\t\tconst alert = form.querySelector('[data-fhc-form-error]');\n\t\t\t\t\t\tif (alert && notFound.length) {\n\t\t\t\t\t\t\talert.dispatchEvent(new CustomEvent('fhc-form-error', {detail: notFound}));\n\t\t\t\t\t\t\t/*notFound.forEach(txt => {\n\t\t\t\t\t\t\t\tconst p = document.createElement('p');\n\t\t\t\t\t\t\t\tp.innerHTML = txt;\n\t\t\t\t\t\t\t\talert.append(p);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (notFound.length) {\n\t\t\t\t\t\t\t\talert.lastChild.classList.add('mb-0');\n\t\t\t\t\t\t\t\talert.classList.remove('d-none');\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotFound.forEach($fhcAlert.alertError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t$fhcAlert.alertError((typeof errors === 'object') ? Object.values(errors) : errors);\n\t\t\t\t} else {\n\t\t\t\t\t$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.config.globalProperties.$fhcAlert = $fhcAlert;\n\t\tapp.provide('$fhcAlert', app.config.globalProperties.$fhcAlert);\n\t}\n}","import FhcAlert from './FhcAlert.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$api) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!app.config.globalProperties.$fhcAlert)\n\t\t\tapp.use(FhcAlert);\n\n\t\tfunction _send_array_or_object(errors, func) {\n\t\t\tif (Array.isArray(errors))\n\t\t\t\terrors.forEach(func);\n\t\t\telse\n\t\t\t\tObject.entries(errors).forEach(\n\t\t\t\t\t([title, errs]) => errs.forEach(\n\t\t\t\t\t\terror => func(error, title)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t\tlet DEFAULT_ERROR_CONFIG = {\n\t\t\tsuccess: true,\n\t\t\tfail: true,\n\t\t\tcombine: {\n\t\t\t\tform: ['validation', 'general'],\n\t\t\t\ttoast: ['validation', 'general', 'not_found', 'site_failed']\n\t\t\t},\n\t\t\thandler: {\n\t\t\t\tform(form, errors) {\n\t\t\t\t\tform.clearValidation();\n\t\t\t\t\terrors.forEach(err => form.setFeedback(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\terr.messages || err.message\n\t\t\t\t\t));\n\t\t\t\t},\n\t\t\t\tasync toast(errors) {\n\t\t\t\t\tconst $p = app.config.globalProperties.$p;\n\t\t\t\t\tif (!$p)\n\t\t\t\t\t\treturn Promise.reject('Phrasen plugin not loaded!');\n\t\t\t\t\n\t\t\t\t\tasync function _format_toast(errors) {\n\t\t\t\t\t\terrors = errors.reduce((result, err) => {\n\t\t\t\t\t\t\tswitch (err.type) {\n\t\t\t\t\t\t\tcase 'not_found':\n\t\t\t\t\t\t\tcase 'site_failed':\n\t\t\t\t\t\t\t\tif (err.message)\n\t\t\t\t\t\t\t\t\tresult[err.message] = [err.url];\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tresult._default = [err.url];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'general':\n\t\t\t\t\t\t\t\tif (!result._default)\n\t\t\t\t\t\t\t\t\tresult._default = [];\n\t\t\t\t\t\t\t\tresult._default.push(err.message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'validation':\n\t\t\t\t\t\t\t\tObject.entries(err.messages)\n\t\t\t\t\t\t\t\t\t.forEach(([field, msg]) => {\n\t\t\t\t\t\t\t\t\t\tif (!result[field])\n\t\t\t\t\t\t\t\t\t\t\tresult[field] = [];\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(msg))\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(...msg);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(msg);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tlet counter = 0;\n\t\t\t\t\t\tconst msgs = await Promise.all(Object.entries(errors)\n\t\t\t\t\t\t\t.sort((a, b) => ['_default'].indexOf(b[0]) - ['_default'].indexOf(a[0])) // sort _default first\n\t\t\t\t\t\t\t.map(async ([field, msgs]) => {\n\t\t\t\t\t\t\t\tif (field == '_default') {\n\t\t\t\t\t\t\t\t\tawait $p.loadCategory('dashboard');\n\t\t\t\t\t\t\t\t\tconst general = $p.t('dashboard/general');\n\t\t\t\t\t\t\t\t\tfield = '<dt class=\"d-none\">' + general + '</dt>';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield = '<dt>' + field + '</dt>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcounter += msgs.length;\n\t\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t\t+ '<dd>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('</dd><dd>')\n\t\t\t\t\t\t\t\t\t+ '</dd>';\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcounter,\n\t\t\t\t\t\t\tmsgs\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter, msgs;\n\t\t\t\t\tif (Array.isArray(errors)) {\n\t\t\t\t\t\t({ counter, msgs } = await _format_toast(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t({ counter, msgs } = await Object.entries(errors)\n\t\t\t\t\t\t\t.reduce(async (res, [title, errs]) => {\n\t\t\t\t\t\t\t\tconst result = await res;\n\t\t\t\t\t\t\t\tconst { counter, msgs } = await _format_toast(errs);\n\t\t\t\t\t\t\t\tresult.counter += counter;\n\t\t\t\t\t\t\t\tresult.msgs.push('<dt>'\n\t\t\t\t\t\t\t\t\t+ title\n\t\t\t\t\t\t\t\t\t+ '</dt><dd><dl>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('')\n\t\t\t\t\t\t\t\t\t+ '</dl></dd>');\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}, Promise.resolve({ counter: 0, msgs: []})));\n\t\t\t\t\t}\n\n\t\t\t\t\tawait $p.loadCategory('ui');\n\t\t\t\t\tconst n_errors = $p.t('ui/n_errors', { n: counter });\n\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\tn_errors,\n\t\t\t\t\t\t'<dl>' + msgs.join('') + '</dl>',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tphp(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('warn', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('info', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\tmessage = title + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\texception(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tdb(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tauth(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\ttitle += ': ' + error.message;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttitle = error.message;\n\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (options?.errorHandling !== undefined)\n\t\t\tDEFAULT_ERROR_CONFIG = _merge_error_config(options.errorHandling);\n\t\t\n\t\tfunction get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\t\tfunction clean_return_value(response) {\n\t\t\tif (typeof response.data === 'string' || response.data instanceof String)\n\t\t\t\treturn clean_return_value({ data: response });\n\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = { response };\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tfunction _merge_error_config(config) {\n\t\t\tif (config === false || config === 'off')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false, fail: false };\n\t\t\t\n\t\t\tif (!config || config === true)\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tif (config === 'success')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, fail: false };\n\t\t\t\n\t\t\tif (config === 'fail')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false };\n\t\t\t\n\t\t\tconst { success, fail, handler, combine } = config;\n\t\t\t\n\t\t\tconfig = { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tObject.entries({ fail, success }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = value;\n\t\t\t});\n\t\t\tObject.entries({ handler, combine }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = { ...config[key], ...value };\n\t\t\t});\n\n\t\t\treturn config;\n\t\t}\n\t\tfunction get_error_handler(config) {\n\t\t\tconst result = _merge_error_config(config?.errorHandling);\n\n\t\t\tif (!config?.form) {\n\t\t\t\tresult.combine = { ...result.combine, form: [] };\n\t\t\t} else {\n\t\t\t\tconst formHandler = result.handler.form;\n\t\t\t\tresult.handler = { ...result.handler, form: errors => formHandler(config.form, errors) };\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tfunction get_error_list(error) {\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'not_found',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tif (error.response.data.errors == undefined) return [];\n\t\t\t\t\treturn error.response.data.errors;\n\t\t\t\t}\n\t\t\t} else if (error.request) {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'site_failed',\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'script',\n\t\t\t\t\tmessage: error.message\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\tfunction popHandleableErrors(errorHandling, errors) {\n\t\t\tconst result = {};\n\t\t\tconst copy = [];\n\n\t\t\tif (errors == undefined) return {};\n\n\t\t\twhile (errors.length)\n\t\t\t\tcopy.push(errors.pop());\n\t\t\tfor (var error of copy) {\n\t\t\t\tlet type = error.type;\n\t\t\t\tlet newType = null;\n\t\t\t\tfor (var t in errorHandling.combine) {\n\t\t\t\t\tlet newTypeCombinesType = errorHandling\n\t\t\t\t\t\t.combine[t]\n\t\t\t\t\t\t.includes(type);\n\t\t\t\t\tlet newTypeHasHandler = errorHandling.handler[t];\n\t\t\t\t\tif (newTypeCombinesType && newTypeHasHandler) {\n\t\t\t\t\t\tnewType = t;\n\t\t\t\t\t\tif (newType == 'form')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newType)\n\t\t\t\t\ttype = newType;\n\t\t\t\tconst handler = errorHandling.handler[type];\n\t\t\t\tif (handler) {\n\t\t\t\t\tif (!result[type])\n\t\t\t\t\t\tresult[type] = [];\n\t\t\t\t\tif (Array.isArray(error))\n\t\t\t\t\t\tresult[type].push(...error);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult[type].push(error);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\terrors.push(error);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t+ FHC_JS_DATA_STORAGE_OBJECT.ci_router\n\t\t\t\t+ \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(\n\t\t\tresponse => {\n\t\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\t\treturn clean_return_value(response);\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\tif (response.data.errors)\n\t\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$api._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t\t);\n\n\t\t\t\treturn clean_return_value(response);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\n\t\t\t\tconst errorConfig = get_error_handler(error.config);\n\n\t\t\t\tif (!errorConfig.fail)\n\t\t\t\t\treturn Promise.reject(error);\n\n\t\t\t\tconst remaining = get_error_list(error);\n\n\t\t\t\tconst errors = popHandleableErrors(errorConfig, remaining);\n\n\t\t\t\tfor (var type in errors) {\n\t\t\t\t\terrorConfig.handler[type](errors[type]);\n\t\t\t\t}\n\n\t\t\t\tif (remaining.length)\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\n\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\t\t\t}\n\t\t);\n\n\t\tapp.config.globalProperties.$api = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\tcall(factory, configoverwrite, form) {\n\t\t\t\tif (Array.isArray(factory)) {\n\t\t\t\t\tconst $api = app.config.globalProperties.$api;\n\n\t\t\t\t\treturn Promise\n\t\t\t\t\t\t.allSettled(factory.map((config, index) => {\n\t\t\t\t\t\t\tif (!Array.isArray(config))\n\t\t\t\t\t\t\t\tconfig = ['#' + index, config];\n\t\t\t\t\t\t\treturn $api.call(config[1], {\n\t\t\t\t\t\t\t\terrorHeader: config[0],\n\t\t\t\t\t\t\t\terrorHandling: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst [ , , config ] = get_config(form, undefined, undefined, configoverwrite || {});\n\t\t\t\t\t\t\tconst errorConfig = get_error_handler(config);\n\n\t\t\t\t\t\t\tif (!errorConfig.success && !errorConfig.fail) {\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst typedErrors = {};\n\t\t\t\t\t\t\tfor (var res of result) {\n\t\t\t\t\t\t\t\tconst [ allowed, item ] = res.status === 'fulfilled'\n\t\t\t\t\t\t\t\t\t? [ errorConfig.success, res.value ]\n\t\t\t\t\t\t\t\t\t: [ errorConfig.fail, res.reason ];\n\t\t\t\t\t\t\t\tif (!allowed)\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tconst errors = popHandleableErrors(errorConfig, get_error_list(item));\n\n\t\t\t\t\t\t\t\tfor (var type in errors) {\n\t\t\t\t\t\t\t\t\tif (!typedErrors[type])\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type] = {\n\t\t\t\t\t\t\t\t\t\t\t[item.config.errorHeader]: errors[type]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type][item.config.errorHeader] = errors[type];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var errType in typedErrors) {\n\t\t\t\t\t\t\t\terrorConfig.handler[errType](typedErrors[errType]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet { method, url, params, config } = factory;\n\t\t\t\tif (configoverwrite !== undefined) {\n\t\t\t\t\tconfig = configoverwrite;\n\t\t\t\t}\n\t\t\t\tif (!method) {\n\t\t\t\t\tmethod = 'get';\n\t\t\t\t}\n\t\t\t\tif (method.toLowerCase)\n\t\t\t\t\tmethod = method.toLowerCase();\n\t\t\t\tif (method == 'get') {\n\t\t\t\t\treturn this.get(form, url, params, config);\n\t\t\t\t} else if (method == 'post') {\n\t\t\t\t\treturn this.post(form, url, params, config);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"FhcApi: method not allowed:\", method);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetErrorHandler(config) {\n\t\t\t\treturn get_error_handler(config);\n\t\t\t}\n\t\t};\n\n\t\tapp.provide('$api', app.config.globalProperties.$api);\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/loadModule/' + category\n\t\t};\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst params = {categories, language}\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/phrasen/setLanguage',\n\t\t\tparams\n\t\t};\n\t},\n\tgetLanguage() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getLanguage'\n\t\t};\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getAllLanguages'\n\t\t};\n\t}\n};","import OldFhcApi from '../plugin/OldFhcApi.js'; // TODO(chris): remove at some point\nimport PluginsApi from './Api.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(ApiPhrasen.loadCategory(category))\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tif (!app.config.globalProperties.$fhcApi)\n\t\t\tapp.use(OldFhcApi); // TODO(chris): remove at some point\n\t\tif (!app.config.globalProperties.$api)\n\t\t\tapp.use(PluginsApi);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport FhcStudentenverwaltung from \"../components/Stv/Studentenverwaltung.js\";\nimport fhcapifactory from \"./api/fhcapifactory.js\";\n\nimport PluginsPhrasen from \"../plugins/Phrasen.js\";\n\n\nconst ciPath = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/(https:|)(^|\\/\\/)(.*?\\/)/g, '') + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n\nconst router = VueRouter.createRouter({\n\thistory: VueRouter.createWebHistory(),\n\troutes: [\n\t\t{\n\t\t\tname: 'index',\n\t\t\tpath: `/${ciPath}/studentenverwaltung`,\n\t\t\tcomponent: FhcStudentenverwaltung\n\t\t},\n\t\t{\n\t\t\tname: 'studiensemester',\n\t\t\tpath: `/${ciPath}/studentenverwaltung/:studiensemester_kurzbz`,\n\t\t\tcomponent: FhcStudentenverwaltung,\n\t\t\tprops: (route) => {\n\t\t\t\treturn {\n\t\t\t\t\turl_studiensemester_kurzbz: route.params.studiensemester_kurzbz\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter: (to, from, next) => {\n\t\t\t\tconst isSemester = /^[WS]S\\d{4}$/.test(to.params.studiensemester_kurzbz);\n\t\t\t\tif (!isSemester) {\n\t\t\t\t\treturn next({name: 'index'});\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tname: 'studiengang',\n\t\t\tpath: `/${ciPath}/studentenverwaltung/:studiensemester_kurzbz/:studiengang`,\n\t\t\tcomponent: FhcStudentenverwaltung,\n\t\t\tprops: (route) => {\n\t\t\t\treturn {\n\t\t\t\t\turl_studiensemester_kurzbz: route.params.studiensemester_kurzbz,\n\t\t\t\t\turl_studiengang: route.params.studiengang,\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter: (to, from, next) => {\n\t\t\t\tconst isSemester = /^[WS]S\\d{4}$/.test(to.params.studiensemester_kurzbz);\n\t\t\t\tif (!isSemester) {\n\t\t\t\t\treturn next({name: 'index'});\n\t\t\t\t}\n\t\t\t\tconst isStudiengang = /^[A-Z]{3}/.test(to.params.studiengang);\n\t\t\t\tif (!isStudiengang) {\n\t\t\t\t\treturn next({\n\t\t\t\t\t\tname: 'studiensemester',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tstudiensemester_kurzbz: to.params.studiensemester_kurzbz\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: `/${ciPath}/studentenverwaltung/:studiensemester_kurzbz/prestudent/:prestudent_id`,\n\t\t\tcomponent: FhcStudentenverwaltung,\n\t\t\tprops: (route) => {\n\t\t\t\treturn {\n\t\t\t\t\turl_studiensemester_kurzbz: route.params.studiensemester_kurzbz,\n\t\t\t\t\turl_mode: 'prestudent',\n\t\t\t\t\turl_prestudent_id: route.params.prestudent_id\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter: (to, from, next) => {\n\t\t\t\tconst isSemester = /^[WS]S\\d{4}$/.test(to.params.studiensemester_kurzbz);\n\t\t\t\tif (!isSemester) {\n\t\t\t\t\treturn next({name: 'index'});\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: `/${ciPath}/studentenverwaltung/:studiensemester_kurzbz/prestudent/:prestudent_id/:tab`,\n\t\t\tcomponent: FhcStudentenverwaltung,\n\t\t\tprops: (route) => {\n\t\t\t\treturn {\n\t\t\t\t\turl_studiensemester_kurzbz: route.params.studiensemester_kurzbz,\n\t\t\t\t\turl_mode: 'prestudent',\n\t\t\t\t\turl_prestudent_id: route.params.prestudent_id,\n\t\t\t\t\turl_tab: route.params.tab\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter: (to, from, next) => {\n\t\t\t\tconst isSemester = /^[WS]S\\d{4}$/.test(to.params.studiensemester_kurzbz);\n\t\t\t\tif (!isSemester) {\n\t\t\t\t\treturn next({name: 'index'});\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: `/${ciPath}/studentenverwaltung/:studiensemester_kurzbz/student/:id`,\n\t\t\tcomponent: FhcStudentenverwaltung,\n\t\t\tprops: (route) => {\n\t\t\t\treturn {\n\t\t\t\t\turl_studiensemester_kurzbz: route.params.studiensemester_kurzbz,\n\t\t\t\t\turl_mode: 'student',\n\t\t\t\t\turl_student_id: route.params.id\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter: (to, from, next) => {\n\t\t\t\tconst isSemester = /^[WS]S\\d{4}$/.test(to.params.studiensemester_kurzbz);\n\t\t\t\tif (!isSemester) {\n\t\t\t\t\treturn next({name: 'index'});\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: `/${ciPath}/studentenverwaltung/:studiensemester_kurzbz/person/:person_id`,\n\t\t\tcomponent: FhcStudentenverwaltung,\n\t\t\tprops: (route) => {\n\t\t\t\treturn {\n\t\t\t\t\turl_studiensemester_kurzbz: route.params.studiensemester_kurzbz,\n\t\t\t\t\turl_mode: 'person',\n\t\t\t\t\turl_prestudent_id: route.params.person_id\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter: (to, from, next) => {\n\t\t\t\tconst isSemester = /^[WS]S\\d{4}$/.test(to.params.studiensemester_kurzbz);\n\t\t\t\tif (!isSemester) {\n\t\t\t\t\treturn next({name: 'index'});\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tname: 'search',\n\t\t\tpath: `/${ciPath}/studentenverwaltung/:studiensemester_kurzbz/search/:searchstr`,\n\t\t\tcomponent: FhcStudentenverwaltung,\n\t\t\tprops(route) {\n\t\t\t\treturn {\n\t\t\t\t\turl_studiensemester_kurzbz: route.params.studiensemester_kurzbz,\n\t\t\t\t\turl_mode: 'search',\n\t\t\t\t\turl_prestudent_id: route.params.searchstr\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter(to, from, next) {\n\t\t\t\tconst isSemester = /^[WS]S\\d{4}$/.test(to.params.studiensemester_kurzbz);\n\t\t\t\tif (!isSemester) {\n\t\t\t\t\treturn next({name: 'index'});\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tname: 'search_w_types',\n\t\t\tpath: `/${ciPath}/studentenverwaltung/:studiensemester_kurzbz/search/:types/:searchstr`,\n\t\t\tcomponent: FhcStudentenverwaltung,\n\t\t\tprops(route) {\n\t\t\t\treturn {\n\t\t\t\t\turl_studiensemester_kurzbz: route.params.studiensemester_kurzbz,\n\t\t\t\t\turl_mode: 'search',\n\t\t\t\t\turl_prestudent_id: route.params.type + '/' + route.params.searchstr\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeEnter(to, from, next) {\n\t\t\t\tconst isSemester = /^[WS]S\\d{4}$/.test(to.params.studiensemester_kurzbz);\n\t\t\t\tif (!isSemester) {\n\t\t\t\t\treturn next({name: 'index'});\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpath: '/:pathMatch(.*)*',\n\t\t\tredirect: {\n\t\t\t\tname: 'index'\n\t\t\t}\n\t\t}\n\t]\n});\n\nrouter.afterEach((to, from, failure) => {\n\tlet title = 'Studierendenverwaltung FH-Complete';\n\tif (to.params.studiengang) {\n\t\ttitle = to.params.studiengang + ' ' + title;\n\t}\n\tif (to.params.studiensemester_kurzbz) {\n\t\ttitle = to.params.studiensemester_kurzbz + ' ' + title;\n\t}\n\tdocument.title = title;\n});\n\nconst app = Vue.createApp({\n\tname: 'StudentenverwaltungApp'\n});\n\napp\n\t.use(router)\n\t.use(primevue.config.default, {\n\t\tzIndex: {\n\t\t\toverlay: 1100\n\t\t}\n\t})\n\t.use(PluginsPhrasen)\n\t.mount('#main');\n","export default {\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: String\n\t},\n\tcomputed: {\n\t\tvalueAsBase64DataString() {\n\t\t\tif (!this.modelValue || this.modelValue.substring(0, 10) == 'data:image')\n\t\t\t\treturn this.modelValue;\n\t\t\treturn 'data:image/jpeg;charset=utf-8;base64,' + this.modelValue;\n\t\t}\n\t},\n\tmethods: {\n\t\topenUploadDialog() {\n\t\t\tthis.$refs.fileInput.click();\n\t\t},\n\t\tpickFile() {\n\t\t\tlet file = this.$refs.fileInput.files;\n\t\t\tif (file && file[0]) {\n\t\t\t\tlet reader = new FileReader();\n\t\t\t\treader.onload = e => {\n\t\t\t\t\tthis.$emit('update:modelValue', e.target.result);\n\t\t\t\t}\n\t\t\t\treader.readAsDataURL(file[0]);\n\t\t\t}\n\t\t},\n\t\tdeleteImage() {\n\t\t\tthis.$emit('update:modelValue', '');\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-image\">\n\t\t<template v-if=\"modelValue\">\n\t\t\t<img class=\"img-thumbnail\" :src=\"valueAsBase64DataString\" />\n\t\t\t<div class=\"fotobutton\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"deleteImage\">\n\t\t\t\t\t\t<i class=\"fa fa-close\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<slot>\n\t\t\t\t<svg class=\"bd-placeholder-img img-thumbnail\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width=\"100%\" height=\"100%\" fill=\"#868e96\"></rect><text x=\"50%\" y=\"50%\" fill=\"#dee2e6\" dy=\".3em\"></text></svg>\n\t\t\t</slot>\n\t\t\t<div class=\"fotobutton-visible\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<input :id=\"$attrs.id\" class=\"d-none\" type=\"file\" ref=\"fileInput\" @input=\"pickFile\" accept=\"image/*\">\n\t</div>`\n}","import DmsItem from './Dms/Item.js';\n\nexport default {\n\tcomponents: {\n\t\tDmsItem\n\t},\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [ FileList, Array ],\n\t\t\trequired: true\n\t\t},\n\t\tmultiple: Boolean,\n\t\tid: String,\n\t\tname: String,\n\t\tinputClass: [String, Array, Object],\n\t\tnoList: Boolean,\n\t\taccept: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tmethods: {\n\t\tstringifyFile(file) {\n\t\t\treturn JSON.stringify({\n\t\t\t\tlastModified: file.lastModified,\n\t\t\t\tlastModifiedDate: file.lastModifiedDate,\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.type\n\t\t\t});\n\t\t},\n\t\taddFiles(event) {\n\t\t\tif (!this.multiple)\n\t\t\t\treturn this.$emit('update:modelValue', event.target.files);\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst doubles = [];\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tdt.items.add(file);\n\t\t\t\tdoubles.push(this.stringifyFile(file));\n\t\t\t}\n\t\t\tfor (var file of event.target.files) {\n\t\t\t\t// NOTE(chris): deep check (with FileReader) would require an async function so we only check the basic attributes\n\t\t\t\tif (doubles.indexOf(this.stringifyFile(file)) < 0)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t},\n\t\tremoveFile(id) {\n\t\t\tconst fileToRemove = Array.from(this.modelValue)[id];\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tif (file !== fileToRemove)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (!n)\n\t\t\t\treturn;\n\t\t\tif (n instanceof FileList) {\n\t\t\t\tif (!this.$refs.upload) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn this.$refs.upload.files = n;\n\t\t\t}\n\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst dms = [];\n\t\t\tfor (var file of n) {\n\t\t\t\tif (file instanceof File) {\n\t\t\t\t\tdt.items.add(file);\n\t\t\t\t} else {\n\t\t\t\t\tconst dmsFile = new File([JSON.stringify(file)], file.name, {\n\t\t\t\t\t\ttype: 'application/x.fhc-dms+json'\n\t\t\t\t\t});\n\t\t\t\t\tdt.items.add(dmsFile);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-dms\">\n\t\t<input ref=\"upload\" class=\"form-control\" :disabled=\"disabled\" :accept=\"accept\" :aria-label=\"$p.t('profilUpdate','documentUpload')\" :title=\"$p.t('profilUpdate','documentUpload')\" :class=\"inputClass\" :id=\"id\" :name=\"name\" :multiple=\"multiple\" type=\"file\" @change=\"addFiles\">\n\t\t<ul v-if=\"modelValue.length && multiple && !noList\" :accept=\"accept\" class=\"list-unstyled m-0\">\n\t\t\t<dms-item\n\t\t\t\tv-for=\"(file, index) in modelValue\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tv-model=\"file\"\n\t\t\t\tclass=\"d-flex mx-1 mt-1 align-items-start\"\n\t\t\t\t@delete=\"removeFile(index)\"\n\t\t\t\t>\n\t\t\t</dms-item>\n\t\t</ul>\n\t</div>`\n}","export default {\n\temits: [\n\t\t'delete'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [File, Object],\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpreview: ''\n\t\t};\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (n.type == 'application/x.fhc-dms+json') {\n\t\t\t\tn.text().then(result => {\n\t\t\t\t\tconst obj = JSON.parse(result);\n\t\t\t\t\tthis.preview = obj.preview || '';\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<li class=\"form-upload-dms-item\">\n\t\t<span class=\"col-auto\"><i class=\"fa fa-file me-1\"></i></span>\n\t\t<span class=\"col\">{{ modelValue.name }}</span>\n\t\t<a v-if=\"preview\" :href=\"preview\" target=\"_blank\" class=\"col-auto btn btn-outline-secondary btn-p-0 me-1\">\n\t\t\t<i class=\"fa fa-download\"></i>\n\t\t</a>\n\t\t<button class=\"col-auto btn btn-outline-secondary btn-p-0\" @click=\"$emit('delete')\">\n\t\t\t<i class=\"fa fa-close\"></i>\n\t\t</button>\n\t</li>`\n}\n"],"names":["TemplateAction","name","emits","props","res","Object","action","computed","actionHref","this","type","methods","actionFunc","$emit","renderif","undefined","template","TemplateFrame","components","ResultAction","ResultActions","actions","Array","title","String","image","imageFallback","person$3","emails","Set","email","room","mode","equipment","replace","RegExp","address","zip","city","street","floor","$p","t","employee","organisationunit","student","photo_url","foto","prestudent$1","status","stg_kuerzel","dms","icon","mimetype","cms$1","inject","preview","template_kurzbz","text","content","length","lower","toLowerCase","firstOccurence","Math","min","query","split","reduce","a","c","i","indexOf","includes","posInText","push","substr","url","content_url","$fhcApi","getUri","FHC_JS_DATA_STORAGE_OBJECT","app_root","mergedStudent","ResultPrestudent","ResultStudent","prestudent","list","filter","item","pop","mergedPerson","person","isArray","find","person_id","students","el","idx","arr","some","tmpitem","uid","sort","b","telurl","phone","inaktiv","aktiv","CoreSearchbar","cms","searchoptions","required","searchfunction","Function","showBtnSubmit","Boolean","provide","Vue","lastQuery","data","searchtimer","hidetimer","searchsettings","searchstr","getSearchStr","types","getInitiallySelectedTypes","searchresult","searchmode","showresult","searching","error","abortController","settingsDropdown","searchTypesPlaceholder","map","typeLabels","join","values","keys","watch","newSearchValue","origin","sessionStorage","setItem","newValue","localStorage","JSON","stringify","search","mounted","bootstrap","Collapse","$refs","settings","toggle","console","warn","updated","nextTick","calcSearchResultHeight","clearInput","hideresult","input","focus","result","localStorageValue","getItem","parse","checkSettingsVisibility","event","contains","target","hide","handleShowSettings","document","addEventListener","handleHideSettings","removeEventListener","rect","results","getBoundingClientRect","height","window","innerHeight","style","ceil","calcSearchResultExtent","calcheightonly","searchbox","top","bottom","right","width","nolivesearch","abort","setTimeout","callsearchapi","clearTimeout","splice","showsearchresult","AbortController","timeout","signal","then","response","meta","searchstring","mergeResults","counter","mergeTypes","mergedType","mergeKey","renderer","rank","retry","catch","code","refreshsearch","togglesettings","searchfocusin","e","preventDefault","stopPropagation","searchfocusout","dash2camelCase","string","g","toUpperCase","isValidRenderer","camelCaseRenderer","$","getActions","NavLanguage","activeClass","default","itemClass","languages","server_languages","onChange","lang","l","sprache","setLanguage","querySelector","location","reload","VerticalSplit","availHeight","topheight","bottomheight","mousePosY","resize","vsplitter","vsplitterOffset","selfOffsetTop","calcHeights","trackVerticalSplitterOffsetTop","windowheight","oldavailHeight","verticalsplit","offsetTop","offsetHeight","collapseTop","collapseBottom","showBoth","isCollapsed","dragStart","dragEnd","drag","clientY","offsetY","topOrBottomClass","topheightcss","bottomheightcss","ApiNavigation","getHeader","navigation_page","method","params","getMenu","AppMenu","appIdentifier","navigationPage","items","getItems","$api","call","$fhcAlert","handleSystemError","created","BsModal","modal","fullscreen","backdrop","validator","value","keyboard","noCloseBtn","dialogClass","headerClass","bodyClass","footerClass","allowFullscreenExpand","dispose","handleUpdate","show","relatedTarget","toggleFullscreen","Modal","popup","body","options","footer","slots","includedPrimevue","primevue","Promise","resolve","reject","instance","createApp","setup","h","class","ref","unmount","beforeUnmount","unmounted","wrapper","parentElement","removeChild","createElement","use","config","zIndex","overlay","Phrasen","mount","appendChild","FhcFragment","render","$slots","FhcForm","$registerToForm","component","inputs","$clearValidationForName","clearValidationForName","tag","sortedInputs","lcType","lastIndexOf","factory","create","getPrototypeOf","getOwnPropertyDescriptors","get","post","_defaultErrorHandlers","args","clearValidation","setFeedback","unshift","overwriteconfig","_sendFeedbackToInput","feedback","valid","forEach","remaining","fb","entries","slice","p","fromEntries","send","promise","hasOwnProperty","retval","_uuid","FormInput","inheritAttrs","registerToForm","from","bsFeedback","noAutoClass","noFeedback","inputGroup","containerClass","label","onInput","modelValueDummy","hasContainer","prop","autoContainerClass","hasOwn","acc","validationClass","classes","$attrs","feedbackClass","modelValueCmp","modelValue","set","v","idCmp","uuid","id","clearValidationForThisName","selector","$el","parentNode","querySelectorAll","_loadComponents","_","VueDatePicker","PvAutocomplete","UploadImage","UploadDms","defineAsyncComponent","autocomplete","import","beforeMount","beforeUpdate","AppConfig","endpoints","tempValues","n","o","key","binding","handleSystemErrors","update","form","alertSuccess","TYPE_DEFINITION","lehreinheit","dragIcon","extras","vevent","VALID_TYPES","isValidDragObject","every","prototype","extra","getValidTransferData","allowedTypes","strict","obj","dataTransfer","base_type","collection","getData","getTransferData","_error","convertToValidDragObject","converted","sorted","found","typedef","newData","setTransferData","validDragObject","setDragImage","dragElements","iconContainer","className","textContent","boxShadow","append","itemContainer","container","requestAnimationFrame","setData","bindDragEnterLeave","onEnter","onLeave","skipLeave","skipLeaveParent","init","evt","globalDragenter","globalDragleave","globalDrop","cleanup","wasDropped","EFFECTS","drop","modifiers","singleType","arg","match","effect","bcc","BroadcastChannel","allowed","onOver","dropEffect","onDrop","r","postMessage","cleanupEnterLeave","eventHasTypes","fhcDropCleanup","dragClick","delay","parseInt","lastTarget","lastX","lastY","startCountdown","stopCountdown","onDragOver","offsetX","fhcDragClickCleanup","ApiStvGroups","add","gruppe_kurzbz","studiensemester_kurzbz","studiengang_kz","getGruppen","deleteGroup","details$1","prestudent_id","encodeURIComponent","save","saveStudent","student_uid","StvVerband","PvTreetable","treetable","PvColumn","column","directives","$reloadList","currentSemester","appConfig","number_displayed_past_studiensemester","endpoint","preselectedKey","loading","nodes","selectedKey","expandedKeys","filters","favorites","on","filteredNodes","node","noSemReloadNodes","mapNodesToNoSemReloadNodes","newVal","oldVal","setPreselection","children","onExpandTreeNode","findNodeByKey","link","activeEl","$nextTick","activeElement","subNodes","mapResultToTreeData","realNode","treeitem","tree","closest","dispatchEvent","KeyboardEvent","onSelectTreeNode","stg_kz","semester","orgform_kurzbz","no_sem_reload","cp","leaf","filterFav","markFav","index","unsetFavFocus","dataset","linkFavAdd","tabIndex","setFavFocus","rawKey","parts","currentKey","currentNode","currentSelectedKey","toggleTreeNode","getStudentAjaxId","vorname","nachname","dropStudents","verband","gruppe","ApiStvDetails","root","CoreFetchCmpt","refresh","apiFunction","apiFunctionParameters","oldValue","fetchData","errorMessage","apiFunctionResult","successHandler","errorHandler","finally","finallyHandler","setError","message","FILTER_COMPONENT_NEW_FILTER","FilterConfig","columns","fields","switchFilter","applyFilterConfig","saveCustomFilter","currentFields","currentTarget","filteredFields","condition","alert","addField","removeField","FilterColumns","selected","names","selectedFields","field","DEFAULT_ICONS","jsonLines","xlsx","pdf","html","json","csv","DEFAULT_LABELS","TableDownload","tabulator","iconClass","currentConfig","toString","newConfig","k","stringToFileFormatter","formatter","validateFileFormatter","lcInput","XLSX","jspdf","jsPDF","autoTable","download","file","elementDataMap","WeakMap","collapseAutoClose","open","collapse","getInstance","collapsibleAutoHideFunc","Tabulator","extendModule","fitDataStretchFrozen","forced","colsWidth","tableWidth","table","rowManager","element","clientWidth","gap","lastCol","widthFixed","reinitializeWidth","responsiveLayout","modules","responsive","visible","definition","frozen","getWidth","modExists","setWidth","ApiFilter","wsParams","filterUniqueId","filterType","customFilterName","removeCustomFilter","filterId","applyFilterFields","filterFields","addFilterField","filterField","removeFilterField","getFilterById","getFilter","CoreFilterCmpt","onNwNewEntry","description","sideMenu","tabulatorOptions","tabulatorEvents","tableOnly","noColumnFilter","reloadBtnInfotext","newBtnShow","newBtnClass","newBtnDisabled","newBtnLabel","uniqueId","idField","parentIdField","countOnly","useSelectionSpan","filterName","filterActive","datasetMetadata","availableFilters","selectedFilter","fetchCmptRefresh","fetchCmptApiFunction","fetchCmptApiFunctionParams","fetchCmptDataFetched","fetchResult","tableBuilt","tabulatorHasSelector","selectedData","persistence","headerFilter","group","page","notSelectedFields","x","filteredData","filteredColumns","col","resizable","fieldIdsForVisibilty","getColumns","def","getDefinition","getField","fieldNames","idExtra","columnsForFilter","filterTitles","reloadTable","initTabulator","placeholder","loadCategory","hash","resolvePromiseFunc","setRenderData","startFetchCmpt","layout","movableColumns","columnDefaults","tooltip","minHeight","maxHeight","selectable","dataTree","handler","toDelete","childIdx","child","cols","isVisible","_setHeaderFilter","updateTabulator","_updateTabulator","setColumns","clearFilters","getHeaderFilters","setHeaderFilterValue","clearFilter","j","setSideMenu","setDropDownMenu","personalFilters","filtersArray","filtersCount","filter_id","desc","onClickCall","handlerGetFilterById","subscriptDescription","subscriptLinkClass","subscriptLinkValue","onClickSubscriptCall","handlerRemoveCustomFilter","option","dataFetchedCallback","called_path","called_method","handlerSaveCustomFilter","getAttribute","substring","attr","parentId","parentIdx","parent","_children","beforeCreate","$props","CORE_REST_CLIENT_ERROR","CORE_REST_CLIENT_RETVAL","CoreRESTClient","wsURL","wsParameters","axiosParameters","_axiosCall","isSuccess","isError","hasData","trim","getError","getErrorCode","_generateRouterURI","uri","ci_router","_printDebug","parameters","errorThrown","axiosCallObj","axios","FormValidation","success","danger","ts","Date","now","msg","accessibility","cursor","prev","next","vertical","act","ariaSelected","previousSibling","nextSibling","click","activetab","ariaSetSize","ariaPosInSet","classList","pos","students$1","relative_path","getPerson","load","address_id","delete","getTypes","getPlaces","plz","getNations","getAllFirmen","ApiStudiensemester","getAll","order","start","ApiStudienplan","getStudienplaeneBySemester","ausbildungssemester","FORMDATA_DEFAULT","checked","nation","geburtsnation","staatsbuergerschaft","studienplan_id","ListNew","personOnly","studiengangKz","Number","studiensemesterKurzbz","places","formData","suggestions","studienplaene","formDataPerson","orte","ort","gemeinde","gemeinden","place","formDataStg","formDataSem","loadStudienplaene","reset","loadSuggestions","ApiStvStudents","gebdatum","loadPlaces","ApiStvAddress","plan","changeAddressNation","setPerson","suggestion","dateFormatter","val","toLocaleDateString","day","month","year","app$1","configFilter","configStudent","configStudents","ListFilter","FilterItem","filterConfig","filterid","dynamic","fixed","missing","usestdsem","buchungstyp_kurzbz","test1","test2","samestg","cleanFilters","remove","ApiStvApp","capitalize","updateValue","fhcDraggableValue","updateEffectAllowed","effectAllowed","fhcEffectAllowed","StvList","draggable","capture","blocked","onStart","onmessage","onEnd","dt","DragEvent","fhcDraggableCleanup","lists","cell","getValue","headerFilterParams","valuesLookup","listOnEmpty","headerFilterFunc","headerValue","rowValue","matches","comparestr","m","w","u","formatterParams","tickElement","crossElement","tristate","elementAttributes","headerFilterEmptyCheck","allowEmpty","rowFormatter","row","bnaktiv","getElement","ajaxRequestFunc","apiconfig","ajaxConfig","ajaxURL","ajaxParams","ajaxResponse","layoutColumnsOnNewData","selectableRangeMode","persistenceID","rowSelectionChanged","autoSelectRows","count","rows","filteredcount","handleRowClick","focusObj","lastSelected","selectedcount","currentEndpoint","countsToHTML","selectedDragObject","downloadConfig","fileString","delimiter","bom","translateTabulator","translations","titelpre","wahlname","vornamen","titelpost","ersatzkennzeichen","geschlecht","studiengang","matrikelnr","status_datum","status_bestaetigung","mail_privat","mail_intern","anmerkungen","anmerkung","aufmerksamdurch_kurzbz","punkte","aufnahmegruppe_kurzbz","dual","matr_nr","studienplan_bezeichnung","priorisierung_relativ","mentor","trans","innerText","actionNewPrestudent","new","tableEl","oldDragables","removeAttribute","getRow","selectRow","getRows","updateFilter","updateUrl","first","log","dragCleanup","onKeydown","e2","Event","altKey","ctrlKey","shiftKey","previousElementSibling","changeFocus","nextElementSibling","onFocus","FhcTabs","tabview","TabView","tabpanel","TabPanel","Symbol","border","useprimevue","current","tabs","currentTab","calcActiveIndex","initConfig","handleTabClick","change","_addToTabs","reactive","suffix","showSuffix","markRaw","suffixhelper","updateSuffix","getTabSuffix","removeInvalidCountTabs","countIst","tabsToDelete","validCountMulti","tab","countSoll","getSuffix","getTabSuffixes","ApiDetailHeader","getPersonAbteilung","mitarbeiter_uid","getLeitungOrg","oekurzbz","StvDetails","FhcHeader","domain","headerData","typeHeader","appRoot","validatedHeaderData","loadDepartmentData","departmentData","oe_kurzbz","deep","headerDataMa","leitungData","redirectToLeitung","getFotoSrc","showOnlyWithoutUid","showOnlyWithUid","loadConfig","StvStudiensemester","today","fallback","setToToday","studiensemester","handleFormValidation","ApiSearchbar","searchCis","searchStv","getSprachen","getGeschlechter","getAusbildungen","getStgs","getOrgforms","getStudiensemester","ApiStvVerband","path","ApiStv","only_open","checkDoubles","confirmErrorHandler","insert","edit","buchungsnr","getBuchungstypen","ApiStvConfig","FhcStudentenverwaltung","defaultSemester","permissions","stvRoot","cisRoot","avatarUrl","logoutUrl","activeAddons","url_studiensemester_kurzbz","url_mode","url_prestudent_id","url_tab","url_studiengang","activeAddonBewerbung","configGenerateAlias","generateAlias","configShowHintKommPrfg","showHintKommPrfg","hasBpkPermission","hasAliasPermission","hasPrestudentPermission","hasPrestudentstatusPermission","hasAssistenzPermissionForStgs","hasSchreibrechtAss","hasAdminPermission","hasPermissionToSkipStatusCheck","hasPermissionRtAufsicht","hasPermissionOutputformat","stvList","configShowAufnahmegruppen","showAufnahmegruppen","configAllowUebernahmePunkte","allowUebernahmePunkte","configUseReihungstestPunkte","useReihungstestPunkte","appconfig","hasZGVBakkPermission","hasZGVMasterPermission","hasZGVDoctorPermission","hasBismeldenPermission","configEndpoints","searchbaroptions","defaultaction","buildStudentSearchResultLink","childactions","buildPrestudentSearchResultLink","buildPersonSearchResultLink","defaultactionstudent","buildMergedPersonSearchResultLink","studiengangKuerzel","selected_semester","selected_orgform","nations","sprachen","geschlechter","verbandEndpoint","appMenuExtraItems","extraItems","orgform","$route","handleSearchUrl","details","checkUrlStudiengang","handlePersonUrl","font_size","cn","documentElement","tabulatorEls","tabulators","findTable","searchRows","normalizeHeight","onSelectVerband","urlpath","stg","stgs","typ","kurzbz","$router","studiensemesterChanged","reloadList","clearTabulator","searchbar","blurSearchbar","kuerzel","onSearch","blur","kontakt","ausbildungen","active_stgs","orgforms","konto","buchungstypen","studiensemester_desc","toReversed","searchAdvanced","searchdummy","phrasen$1","category","categories","language","payload","getLanguage","getActiveDbLanguages","navigation","filter$1","studstatus","abmeldung","getDetails","antrag_id","stdsem","grund","errorHandling","cancel","allSettled","antrag","studierendenantrag_id","errorHeader","unterbrechung","datum_wiedereinstieg","attachment","wiederholung","getLvs","saveLvs","forbiddenLvs","mandatoryLvs","leitung","getAntraege","getHistory","getPrestudents","approve","reopen","pause","unpause","object","approveObjection","denyObjection","profil","getView","fotoSperre","isStudent","isMitarbeiter","getZustellAdresse","getZustellKontakt","getGemeinden","getAllNationen","profilUpdate","getStatus","getTopic","acceptProfilRequest","profil_update_id","status_message","topic","requested_change","denyProfilRequest","insertFile","getProfilRequestFiles","requestID","selectProfilRequest","insertProfilRequest","fileID","updateProfilRequest","ID","deleteProfilRequest","lvPlan","getRoomInfo","ort_kurzbz","start_date","end_date","getStunden","getOrtReservierungen","getLvPlanReservierungen","getLehreinheitStudiensemester","lehreinheit_id","studiensemesterDateInterval","date","LvPlanEvents","lv_id","stv","getStg","setStg","tabulatorConfig","self","studiengang_kz_intern","getAdressen","addNewAddress","loadAddress","updateAddress","deleteAddress","getFirmen","searchString","getAdressentypen","getBankverbindung","addNewBankverbindung","loadBankverbindung","bankverbindung_id","updateBankverbindung","deleteBankverbindung","getKontakte","addNewContact","loadContact","kontakt_id","updateContact","deleteContact","getStandorteByFirma","getKontakttypen","updatePrestudent","getBezeichnungZGV","getBezeichnungMZgv","getBezeichnungDZgv","getAusbildung","getAufmerksamdurch","getBerufstaetigkeit","getTypenStg","getBisstandort","getHistoryPrestudent","getMaxSem","studiengang_kzs","advanceStatus","status_kurzbz","confirmStatus","isLastStatus","deleteStatus","getLastBismeldestichtag","getHistoryPrestudents","insertStatus","loadStatus","updateStatus","getStudienplaene","getStudiengang","getStatusgruende","getStati","addStudent","changeStatus","getStatusarray","exam","getPruefungen","loadPruefung","pruefung_id","getTypenPruefungen","getAllLehreinheiten","getLvsByStudent","getLvsandLesByStudent","getLvsAndMas","getMitarbeiterLv","getNoten","checkZeugnisnoteLv","addPruefung","updatePruefung","deletePruefung","abschlusspruefung","getAbschlusspruefung","addNewAbschlusspruefung","loadAbschlusspruefung","updateAbschlusspruefung","deleteAbschlusspruefung","getTypenAbschlusspruefung","getTypenAntritte","getBeurteilungen","getAkadGrade","getTypStudiengang","getMitarbeiter","getPruefer","checkForExistingExams","uids","grades","getCertificate","getTeacherProposal","getRepeaterGrades","updateCertificate","lehrveranstaltung_id","note","lehrveranstaltung_bezeichnung","deleteCertificate","copyTeacherProposalToCertificate","copyRepeaterGradeToCertificate","studierendenantrag_lehrveranstaltung_id","lv_bezeichnung","getGradeFromPoints","points","manualErrorHandling","mobility","getMobilitaeten","getProgramsMobility","addNewMobility","loadMobility","bisio_id","updateMobility","deleteMobility","getLVList","getPurposes","getSupports","getListPurposes","getListSupports","deleteMobilityPurpose","addMobilityPurpose","deleteMobilitySupport","addMobilitySupport","archiv","getArchivVorlagen","archive","archiveSigned","akte_id","documents","getDocumentsUnaccepted","getDocumentsAccepted","deleteZuordnung","dokument_kurzbz","createZuordnung","loadAkte","getDoktypen","updateFile","deleteFile","uploadFile","exemptions","getAnrechnungen","getLehrveranstaltungen","getBegruendungen","getLvsKompatibel","getLektoren","addNewAnrechnung","loadAnrechnung","anrechnung_id","editAnrechnung","deleteAnrechnung","jointstudies","getStudies","getTypenMobility","getStudyprograms","getListPartner","getStatiPrestudent","loadStudy","insertStudy","updateStudy","deleteStudy","courselist","getCourselist","group_consecutiveHours","dbStundenplanTable","notiz","getNotizen","getUid","addNewNotiz","loadNotiz","notiz_id","loadDokumente","deleteNotiz","type_id","updateNotiz","isBerechtigt","betriebsmittel","getAllBetriebsmittel","addNewBetriebsmittel","loadBetriebsmittel","betriebsmittelperson_id","updateBetriebsmittel","deleteBetriebsmittel","getTypenBetriebsmittel","loadInventarliste","checkperson","updatePersonUnrulyStatus","unrulyParam","unruly","filterPerson","base","getContentID","ort_kurbz","getRooms","datum","von","bis","personenanzahl","getRoomTypes","content_id","version","sichtbar","getNews","page_size","news","limit","getNewsRowCount","getNewsExtra","lehre","getStudentenMail","getLvInfo","getStudentPruefungen","getStudentProjektarbeiten","getStudentProjektabgaben","detail","projektarbeit_id","postStudentProjektarbeitEndupload","Headers","postStudentProjektarbeitZwischenabgabe","getStudentProjektarbeitAbgabeFile","paabgabe_id","getMitarbeiterProjektarbeiten","all","postProjektarbeitAbgabe","termin","paabgabetyp_kurzbz","bezeichnung","fixtermin","insertvon","deleteProjektarbeitAbgabe","postSerientermin","projektarbeit_ids","fetchDeadlines","addons","getLvMenu","lvid","messages","getMessages","size","getVorlagen","getMsgVarsLoggedInUser","getMessageVarsPerson","getMsgVarsPrestudent","getPersonId","getDataVorlage","vorlage_kurzbz","getNameOfDefaultRecipient","getPreviewText","getReplyData","messageId","sendMessageFromModalContext","sendMessage","deleteMessage","vorlagen","getVorlagenByLoggedInUser","studium","getAllStudienSemester","studienplan","getStudiengaengeForStudienSemester","getLvPlanForStudiensemester","getLvEvaluierungInfo","FhcApiFactory","phrasen","dashboard","getViewData","bookmark","getBookmarks","bookmark_id","ampeln","confirm","ampel_id","studiengangInformation","getStudiengangByKz","menu","authinfo","getAuthUID","getAuthInfo","OldFhcApi","install","app","globalProperties","addEndpoints","_get_config","TypeError","_clean_return_value","fhcApiAxios","baseURL","interceptors","request","FormData","FileList","File","nd","jsondata","errors","err","handled","alertDefault","responseURL","alertError","validation","apply","general","php","filename","line","backtrace","function","severity","alertSystemError","exception","db","heading","sql","auth","controller","required_permissions","FhcApiFactoryWrapper","constructor","factorypart","defineProperty","noWarn","bind","helperAppContainer","helperApp","PvToast","PvConfirm","mailToUrl","slotProps","systemerror_mailto","openMessagecard","getOrCreateInstance","showmaillink","PvConfig","PvConfirmationService","helperAppInstance","FhcAlert","FhcPhrasen","toast","summary","life","alertInfo","alertWarning","confirmDelete","$confirm","require","header","acceptLabel","acceptClass","rejectLabel","rejectClass","accept","sticky","alertMultiple","messageArray","errMsg","stack","handleSystemMessage","resetFormValidation","nodeType","Node","ELEMENT_NODE","notFound","CustomEvent","PluginsApi","_send_array_or_object","func","errs","DEFAULT_ERROR_CONFIG","fail","combine","async","_format_toast","_default","msgs","n_errors","get_config","clean_return_value","_merge_error_config","get_error_handler","formHandler","get_error_list","popHandleableErrors","copy","newType","newTypeCombinesType","newTypeHasHandler","errorConfig","configoverwrite","typedErrors","reason","errType","getErrorHandler","ApiPhrasen","loadingModules","user_language","user_locale","LC_Time","catArray","phrase","elem","extractCategory","t_ref","p1","getValueForLoadedPhrase","PluginsPhrasen","cat","ciPath","router","VueRouter","createRouter","history","createWebHistory","routes","route","beforeEnter","to","test","url_student_id","redirect","afterEach","failure","Image","valueAsBase64DataString","openUploadDialog","fileInput","pickFile","files","reader","FileReader","onload","readAsDataURL","deleteImage","Dms","DmsItem","multiple","inputClass","noList","disabled","stringifyFile","lastModified","lastModifiedDate","addFiles","DataTransfer","doubles","removeFile","fileToRemove","upload","dmsFile"],"mappings":"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"}