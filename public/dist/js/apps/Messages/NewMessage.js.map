{"version":3,"file":"NewMessage.js","sources":["../../../../js/components/Fragment.js","../../../../js/components/Form/Form.js","../../../../js/components/Form/Input.js","../../../../js/components/Fetch.js","../../../../js/components/filter/Filter/Config.js","../../../../js/components/filter/Filter/Columns.js","../../../../js/components/filter/Table/Download.js","../../../../js/directives/collapseAutoClose.js","../../../../js/tabulator/layouts/fitDataStretchFrozen.js","../../../../js/api/factory/filter.js","../../../../js/components/filter/Filter.js","../../../../js/api/factory/vorlagen.js","../../../../js/components/Messages/Details/NewMessage/NewDiv.js","../../../../js/components/VorlagenDropdown/VorlagenDropdown.js","../../../../js/api/search.js","../../../../js/api/phrasen.js","../../../../js/api/navigation.js","../../../../js/api/filter.js","../../../../js/api/studstatus.js","../../../../js/api/profil.js","../../../../js/api/profilUpdate.js","../../../../js/api/lvPlan.js","../../../../js/api/stv.js","../../../../js/api/stv/verband.js","../../../../js/api/stv/students.js","../../../../js/api/stv/filter.js","../../../../js/api/stv/konto.js","../../../../js/api/stv/group.js","../../../../js/api/stv/kontakt.js","../../../../js/api/stv/prestudent.js","../../../../js/api/stv/status.js","../../../../js/api/stv/details.js","../../../../js/api/stv/exam.js","../../../../js/api/stv/abschlusspruefung.js","../../../../js/api/stv/grades.js","../../../../js/api/stv/mobility.js","../../../../js/api/stv/archiv.js","../../../../js/api/stv/documents.js","../../../../js/api/stv/exemptions.js","../../../../js/api/stv/jointstudies.js","../../../../js/api/stv/courselist.js","../../../../js/api/notiz.js","../../../../js/api/notiz/person.js","../../../../js/api/betriebsmittel.js","../../../../js/api/betriebsmittel/person.js","../../../../js/api/checkperson.js","../../../../js/api/ort.js","../../../../js/api/cms.js","../../../../js/api/lehre.js","../../../../js/api/addons.js","../../../../js/api/messages.js","../../../../js/api/messages/person.js","../../../../js/api/vorlagen.js","../../../../js/api/studium.js","../../../../js/api/fhcapifactory.js","../../../../js/api/dashboard.js","../../../../js/api/bookmark.js","../../../../js/api/ampeln.js","../../../../js/api/studiengang.js","../../../../js/api/menu.js","../../../../js/api/authinfo.js","../../../../js/api/language.js","../../../../js/plugin/OldFhcApi.js","../../../../js/plugins/Api.js","../../../../js/api/factory/phrasen.js","../../../../js/plugins/Phrasen.js","../../../../js/RESTClient.js","../../../../js/plugins/FhcAlert.js","../../../../js/plugin/FhcApi.js","../../../../js/plugin/Phrasen.js","../../../../js/apps/Messages/NewMessage.js","../../../../js/components/Form/Upload/Image.js","../../../../js/components/Form/Upload/Dms.js","../../../../js/components/Form/Upload/Dms/Item.js"],"sourcesContent":["export default {\n\trender() {\n\t\treturn (this.$slots && this.$slots.default) ? this.$slots.default() : null;\n\t}\n};","import FhcFragment from \"../Fragment.js\";\n\nexport default {\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\t$registerToForm: component => {\n\t\t\t\tif (this.inputs.indexOf(component) < 0)\n\t\t\t\t\tthis.inputs.push(component);\n\t\t\t},\n\t\t\t$clearValidationForName: this.clearValidationForName\n\t\t};\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'form'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinputs: []\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedInputs() {\n\t\t\treturn this.inputs.reduce((a,c) => {\n\t\t\t\tlet name = c.name || '_default';\n\t\t\t\tif (!a[name])\n\t\t\t\t\ta[name] = [];\n\t\t\t\ta[name].push(c);\n\n\t\t\t\tif (c.lcType == 'checkbox' && name.substr(-1) == ']' && name.indexOf('[')) {\n\t\t\t\t\tname = name.substr(0, name.lastIndexOf('['));\n\t\t\t\t\tif (!a[name])\n\t\t\t\t\t\ta[name] = [];\n\t\t\t\t\ta[name].push(c);\n\t\t\t\t}\n\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t},\n\t\t/* Deprecated Code start */\n\t\tfactory() {\n\t\t\tconsole.warn('<form>.factory is deprecated! Use <form>.call() instead.');\n\t\t\tconst factory = Object.create(Object.getPrototypeOf(this.$fhcApi.factory), Object.getOwnPropertyDescriptors(this.$fhcApi.factory));\n\t\t\tfactory.$fhcApi = {\n\t\t\t\tget: this.get,\n\t\t\t\tpost: this.post,\n\t\t\t\t_defaultErrorHandlers: this.$fhcApi._defaultErrorHandlers\n\t\t\t};\n\t\t\treturn factory;\n\t\t}\n\t\t/* Deprecated Code end */\n\t},\n\tmethods: {\n\t\tget(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.get(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.get(...args);\n\t\t},\n\t\tpost(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.post(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.post(...args);\n\t\t},\n\t\tcall(factory, overwriteconfig) {\n\t\t\treturn this.$api.call(factory, overwriteconfig, this);\n\t\t},\n\t\t_sendFeedbackToInput(inputs, feedback, valid) {\n\t\t\tif (inputs.length) {\n\t\t\t\tinputs.forEach(input => input.setFeedback(valid, feedback));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.$fhcAlert) {\n\t\t\t\tthis.$fhcAlert[valid ? 'alertSuccess' : 'alertError'](feedback);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (Array.isArray(feedback)) {\n\t\t\t\tlet remaining = feedback.filter(fb => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? remaining : null;\n\t\t\t}\n\t\t\tif (typeof feedback === 'object') {\n\t\t\t\tlet remaining = Object.entries(feedback).filter(([name, fb]) => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? Object.fromEntries(remaining) : null;\n\t\t\t}\n\n\t\t\tlet remaining = this._sendFeedbackToInput(\n\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\tfeedback,\n\t\t\t\tvalid\n\t\t\t);\n\t\t\treturn remaining ? feedback : null;\n\t\t},\n\t\tclearValidation() {\n\t\t\tthis.inputs.forEach(input => input.clearValidation());\n\t\t},\n\t\tsend(promise) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tpromise.then(result => {\n\t\t\t\t\tif (result?.status == 200 && result.data) {\n\t\t\t\t\t\tif (typeof result.data !== 'object' || !result.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tif (result.data.error)\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tconst data = result.data.retval;\n\t\t\t\t\t\t// TODO(chris): check for something better/add new standardized return value\n\t\t\t\t\t\tif (result.data.code == 1)\n\t\t\t\t\t\t\tthis.setFeedback(true, data);\n\t\t\t\t\t\treturn resolve(data);\n\t\t\t\t\t}\n\t\t\t\t\t// TODO(chris): IMPLEMENT! Wrong result object\n\t\t\t\t\treject(result);\n\t\t\t\t}).catch(result => {\n\t\t\t\t\tif (result?.response?.status == 400 && result.response.data) {\n\t\t\t\t\t\tif (typeof result.response.data !== 'object' || !result.response.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tthis.clearValidation();\n\t\t\t\t\t\tconst remaining = this.setFeedback(\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tresult.response.data.retval\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (remaining) {\n\t\t\t\t\t\t\tresult.response.data.retval = remaining;\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (result?.response?.status == 500) {\n\t\t\t\t\t\tif (this.$fhcAlert)\n\t\t\t\t\t\t\tthis.$fhcAlert.handleSystemError(result);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tclearValidationForName(name) {\n\t\t\t(this.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [])\n\t\t\t\t.forEach(input => input.clearValidation());\n\t\t}\n\t},\n\ttemplate: `\n\t<component :is=\"tag || 'FhcFragment'\" v-bind=\"$attrs\">\n\t\t<slot></slot>\n\t</component>`\n}\n","import FhcFragment from \"../Fragment.js\";\n\nlet _uuid = {};\n\nexport default {\n\tname: \"FormInput\",\n\tinheritAttrs: false,\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tinject: {\n\t\tregisterToForm: {\n\t\t\tfrom: '$registerToForm',\n\t\t\tdefault: null\n\t\t},\n\t\tclearValidationForName: {\n\t\t\tfrom: '$clearValidationForName',\n\t\t\tdefault: null\n\t\t}\n\t},\n\tprops: {\n\t\tbsFeedback: Boolean,\n\t\tnoAutoClass: Boolean,\n\t\tnoFeedback: Boolean,\n\t\tinputGroup: Boolean,\n\t\ttype: String,\n\t\tname: String,\n\t\tcontainerClass: [String, Array, Object],\n\t\tlabel: String,\n\t\t// NOTE(chris): remove these from $attrs array to prevent doubled event listeners\n\t\tonInput: [Array, Function],\n\t\t'onUpdate:modelValue': [Array, Function]\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvalid: undefined,\n\t\t\tfeedback: [],\n\t\t\tmodelValueDummy: undefined\n\t\t}\n\t},\n\tcomputed: {\n\t\thasContainer() {\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn true;\n\t\t\tif (this.containerClass)\n\t\t\t\treturn true;\n\t\t\tfor (const prop in this.autoContainerClass)\n\t\t\t\tif (Object.hasOwn(this.autoContainerClass, prop))\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t},\n\t\tacc() {\n\t\t\tif (!this.containerClass)\n\t\t\t\treturn {};\n\t\t\tif (typeof this.containerClass === 'string' || this.containerClass instanceof String)\n\t\t\t\treturn this.containerClass.split(' ').reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\tif (Array.isArray(this.containerClass))\n\t\t\t\treturn this.containerClass.reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\treturn this.containerClass;\n\t\t},\n\t\tautoContainerClass() {\n\t\t\tif (this.noAutoClass)\n\t\t\t\treturn this.acc;\n\t\t\t\n\t\t\tconst acc = {...this.acc};\n\t\t\t\n\t\t\tif (this.inputGroup)\n\t\t\t\tacc['input-group-item'] = true;\n\n\t\t\tif (this.lcType == 'radio' || this.lcType == 'checkbox')\n\t\t\t\tacc['form-check'] = true;\n\t\t\t\n\t\t\tif (this.inputGroup && acc['form-check']) {\n\t\t\t\tacc['input-group-item'] = false;\n\t\t\t\tacc['form-check'] = false;\n\t\t\t\tacc['input-group-text'] = true;\n\t\t\t}\n\t\t\treturn acc;\n\t\t},\n\t\tlcType() {\n\t\t\tif (!this.type)\n\t\t\t\treturn 'text';\n\t\t\treturn this.type.toLowerCase();\n\t\t},\n\t\ttag() {\n\t\t\tswitch (this.lcType) {\n\t\t\t\tcase 'textarea':\n\t\t\t\tcase 'select':\n\t\t\t\t\treturn this.lcType;\n\t\t\t\tcase 'datepicker':\n\t\t\t\t\treturn 'VueDatePicker';\n\t\t\t\tcase 'autocomplete':\n\t\t\t\t\treturn 'PvAutocomplete';\n\t\t\t\tcase 'uploadimage':\n\t\t\t\t\treturn 'UploadImage';\n\t\t\t\tcase 'uploadfile':\n\t\t\t\tcase 'uploaddms':\n\t\t\t\t\treturn 'UploadDms';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'input';\n\t\t\t}\n\t\t},\n\t\tvalidationClass() {\n\t\t\tconst classes = [];\n\t\t\tif (this.valid)\n\t\t\t\tclasses.push('is-valid');\n\t\t\telse if (this.valid === false)\n\t\t\t\tclasses.push('is-invalid');\n\t\t\t\n\t\t\tif (!this.noAutoClass) {\n\t\t\t\tlet c = this.$attrs.class ? this.$attrs.class.split(' ') : [];\n\t\t\t\tswitch (this.lcType) {\n\t\t\t\t\t// TODO(chris): complete list!\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tif (!c.includes('form-select'))\n\t\t\t\t\t\t\tclasses.push('form-select');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'range':\n\t\t\t\t\t\tif (!c.includes('form-range'))\n\t\t\t\t\t\t\tclasses.push('form-range');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t// TODO(chris): maybe different handling?\n\t\t\t\t\t\tif (!c.includes('form-check-input') && !c.includes('btn-check'))\n\t\t\t\t\t\t\tclasses.push('form-check-input');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tif (!c.includes('form-control-color'))\n\t\t\t\t\t\t\tclasses.push('form-control-color');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'autocomplete':\n\t\t\t\t\tcase 'datepicker':\n\t\t\t\t\t\tclasses.push('p-0');\n\t\t\t\t\t\tclasses.push('border-0');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'number':\n\t\t\t\t\tcase 'password':\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tfeedbackClass() {\n\t\t\tif (!this.feedback || this.feedback === true)\n\t\t\t\treturn '';\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn {\n\t\t\t\t\t'valid-tooltip': this.valid === true,\n\t\t\t\t\t'invalid-tooltip': this.valid === false\n\t\t\t\t};\n\t\t\treturn {\n\t\t\t\t'valid-feedback': this.valid === true,\n\t\t\t\t'invalid-feedback': this.valid === false\n\t\t\t};\n\t\t},\n\t\tmodelValueCmp: {\n\t\t\tget() {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\treturn this.modelValueDummy;\n\t\t\t\treturn this.$attrs.modelValue;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\tthis.modelValueDummy = v;\n\t\t\t\tthis.$emit('update:modelValue', v);\n\t\t\t}\n\t\t},\n\t\tidCmp() {\n\t\t\tlet uuid = this.$attrs.id;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = this.$attrs.uid;\n\t\t\tif (!uuid && this.label)\n\t\t\t\tuuid = 'fhc-form-input';\n\t\t\tif (!uuid)\n\t\t\t\treturn undefined;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = 'dp-input-' + uuid;\n\t\t\tif (_uuid[uuid] === undefined)\n\t\t\t\t_uuid[uuid] = 0;\n\t\t\treturn uuid + '-' + (_uuid[uuid]++);\n\t\t}\n\t},\n\tmethods: {\n\t\tclearValidation() {\n\t\t\tthis.valid = undefined;\n\t\t\tthis.feedback = [];\n\t\t},\n\t\tclearValidationForThisName() {\n\t\t\tif (this.valid === undefined)\n\t\t\t\treturn;\n\t\t\tif (this.clearValidationForName && this.name)\n\t\t\t\tthis.clearValidationForName(this.name);\n\t\t\telse\n\t\t\t\tthis.clearValidation();\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (!feedback)\n\t\t\t\tfeedback = [];\n\t\t\tif (!Array.isArray(feedback))\n\t\t\t\tfeedback = [feedback];\n\t\t\tthis.valid = valid;\n\t\t\t// NOTE(chris): On a list of radios/checkboxes only add the feedback message to the last item\n\t\t\tif (this.name && (this.lcType == 'radio' || this.lcType == 'checkbox')) {\n\t\t\t\tconst selector = 'input[type=\"' + this.lcType + '\"][name=\"' + this.name + '\"]';\n\t\t\t\tif ([...this.$el.parentNode.querySelectorAll(selector)].pop() != this.$refs.input)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.feedback = feedback;\n\t\t},\n\t\t_loadComponents() {\n\t\t\tif (this.tag == 'VueDatePicker' && !this._.components.VueDatePicker) {\n\t\t\t\tthis._.components.VueDatePicker = Vue.defineAsyncComponent(() => import(\"../vueDatepicker.js.php\"));\n\t\t\t} else if (this.tag == 'PvAutocomplete' && !this._.components.PvAutocomplete) {\n\t\t\t\tthis._.components.PvAutocomplete = primevue.autocomplete;\n\t\t\t} else if (this.tag == 'UploadImage' && !this._.components.UploadImage) {\n\t\t\t\tthis._.components.UploadImage = Vue.defineAsyncComponent(() => import(\"./Upload/Image.js\"));\n\t\t\t} else if (this.tag == 'UploadDms' && !this._.components.UploadDms) {\n\t\t\t\tthis._.components.UploadDms = Vue.defineAsyncComponent(() => import(\"./Upload/Dms.js\"));\n\t\t\t}\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis._loadComponents();\n\t},\n\tbeforeUpdate() {\n\t\tthis._loadComponents();\n\t},\n\tmounted() {\n\t\tif (this.registerToForm)\n\t\t\tthis.registerToForm(this);\n\t},\n\ttemplate: `\n\t<component :is=\"!hasContainer ? 'FhcFragment' : 'div'\" class=\"position-relative\" :class=\"autoContainerClass\">\n\t\t<label v-if=\"label && lcType != 'radio' && lcType != 'checkbox'\" :class=\"!noAutoClass && 'form-label'\" :for=\"idCmp\">{{label}}</label>\n\t\t<input v-if=\"tag == 'input'\" :type=\"lcType\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t<textarea v-else-if=\"tag == 'textarea'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\"></textarea>\n\t\t<select v-else-if=\"tag == 'select'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t\t<slot></slot>\n\t\t</select>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'VueDatePicker'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:uid=\"idCmp ? idCmp.substr(9) : idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class-name=\n\t\t\t\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class-name'] ? $attrs['input-class-name'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'PvAutocomplete'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:input-props=\"{name}\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class'] ? $attrs['input-class'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t\t<template #chip=\"data\"><slot name=\"chip\" v-bind=\"data\"></slot></template>\n\t\t\t<template #header=\"data\"><slot name=\"header\" v-bind=\"data\"></slot></template>\n\t\t\t<template #footer=\"data\"><slot name=\"footer\" v-bind=\"data\"></slot></template>\n\t\t\t<template #option=\"data\"><slot name=\"option\" v-bind=\"data\"></slot></template>\n\t\t\t<template #optiongroup=\"data\"><slot name=\"optiongroup\" v-bind=\"data\"></slot></template>\n\t\t\t<template #content=\"data\"><slot name=\"content\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loader=\"data\"><slot name=\"loader\" v-bind=\"data\"></slot></template>\n\t\t\t<template #empty=\"data\"><slot name=\"empty\" v-bind=\"data\"></slot></template>\n\t\t\t<template #dropdownicon=\"data\"><slot name=\"dropdownicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #removetokenicon=\"data\"><slot name=\"removetokenicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loadingicon=\"data\"><slot name=\"loadingicon\" v-bind=\"data\"></slot></template>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'UploadDms'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"validationClass\"\n\t\t\t:no-list=\"inputGroup\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<label v-if=\"label && (lcType == 'radio' || lcType == 'checkbox')\" :for=\"idCmp\" :class=\"!noAutoClass && 'form-check-label'\" v-html=\"label\"></label>\n\t\t<div v-if=\"valid !== undefined && feedback.length && !noFeedback\" :class=\"feedbackClass\">\n\t\t\t<template v-for=\"(msg, i) in feedback\" :key=\"i\">\n\t\t\t\t<hr v-if=\"i\" class=\"m-0\">\n\t\t\t\t{{msg}}\n\t\t\t</template>\n\t\t</div>\n\t</component>\n\t`\n}\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport const CoreFetchCmpt = {\n\temits: ['dataFetched'], // this component can emit the event dataFetched that it is catched by this component itself\n\tprops: {\n\t\trefresh: { // to refresh this component\n\t\t\ttype: Boolean\n\t\t},\n\t\tapiFunction: { // the function to call, must return a Promise\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\t\tapiFunctionParameters: {} // parameters for the apiFunction, type mixed, optional\n\t},\n\twatch: {\n\t\t/**\n\t\t * If the refresh property is changed then call fetchData\n\t\t */\n\t\trefresh: function (newValue, oldValue) {\n\t\t\tthis.fetchData();\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloading: false, // if in loading or not\n\t\t\terror: false, // if an error occurred while loading data\n\t\t\terrorMessage: null // the error message\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.fetchData();\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchData: function() {\n\t\t\tthis.loading = true; // loader started\n\t\t\tthis.error = false;\n\t\t\tthis.errorMessage = null;\n\n\t\t\t// Checks if the apifunction is a callable function\n\t\t\tif (typeof this.apiFunction == \"function\")\n\t\t\t{\n\t\t\t\t// Call the function stored in apiFunction\n\t        \t\tlet apiFunctionResult = this.apiFunction(this.apiFunctionParameters);\n\n\t\t\t\t// It is expected that the function returns a Promise\n\t\t\t\tif (apiFunctionResult instanceof Promise)\n\t\t\t\t{\n\t\t\t\t\tapiFunctionResult\n\t\t\t\t\t\t.then(this.successHandler) // on success\n\t\t\t\t\t\t.catch(this.errorHandler) // on error\n\t\t\t\t\t\t.finally(this.finallyHandler); // finally in any case\n\t\t\t\t}\n\t\t\t\telse // otherwise display an error\n\t\t\t\t{\n\t\t\t\t\tthis.setError(\"The called apiFunction does not return a Promise\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // otherwise display an error\n\t\t\t{\n\t\t\t\tthis.setError(\"Property apiFunction is not a function\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsetError: function(errorMessage) {\n\t\t\tthis.loading = false; // loading ended\n\t\t\tthis.error = true; // error occurred\n\t\t\tthis.errorMessage = errorMessage; // save the error message\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsuccessHandler: function(response) {\n\t\t\tthis.$emit('dataFetched', response ? response.data : undefined); // trigger the event dataFetched\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\terrorHandler: function(error) {\n\t\t\tif (error.response?.data?.retval)\n\t\t\t\tthis.setError(error.response.data.retval);\n\t\t\telse if (error.data?.message)\n\t\t\t\tthis.setError(error.data.message);\n\t\t\telse\n\t\t\t\tthis.setError(error.message);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfinallyHandler: function() {\n\t\t\tthis.loading = false; // loading ended\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot v-if=\"loading\" name=\"loading\">\n\t\t\t<div class=\"fetch-loader\">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if=\"error\" name=\"error\" :error-message=\"errorMessage\">\n\t\t\t<div class=\"fetch-error\">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\temits: {\n\t\tswitchFilter: ['filterId'],\n\t\tapplyFilterConfig: ['filterFields'],\n\t\tsaveCustomFilter: ['customFilterName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentFields: []\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypes() {\n\t\t\treturn this.columns.reduce((a,c) => {\n\t\t\t\tlet type = c.type.toLowerCase();\n\t\t\t\tif (type.indexOf('int') >= 0)\n\t\t\t\t\ta[c.name] = 'Numeric';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('varchar') >= 0 || \n\t\t\t\t\ttype.indexOf('text') >= 0 || \n\t\t\t\t\ttype.indexOf('bpchar') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Text';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('timestamp') >= 0 || \n\t\t\t\t\ttype.indexOf('date') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Date';\n\t\t\t\telse\n\t\t\t\t\ta[c.name] = '';\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t}\n\t},\n\twatch: {\n\t\tfields(n) {\n\t\t\tthis.currentFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\tswitchFilter(evt) {\n\t\t\tthis.$emit('switchFilter', evt.currentTarget.value);\n\t\t},\n\t\tapplyFilterConfig() {\n\t\t\tconst filteredFields = this.currentFields.filter(el => el.name != FILTER_COMPONENT_NEW_FILTER);\n\t\t\tif (filteredFields.filter(el => el.condition == \"\").length)\n\t\t\t\talert(\"Please fill all the filter options\");\n\t\t\telse\n\t\t\t\tthis.$emit('applyFilterConfig', filteredFields);\n\t\t},\n\t\taddField(evt) {\n\t\t\tthis.currentFields.push({\n\t\t\t\tname: FILTER_COMPONENT_NEW_FILTER\n\t\t\t});\n\t\t},\n\t\tremoveField(index) {\n\t\t\tthis.currentFields.splice(index, 1);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-config\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div v-if=\"filters.length\" class=\"mb-4\">\n\t\t\t\t\t<select class=\"form-select\" @change=\"switchFilter\">\n\t\t\t\t\t\t<option value=\"\">Bitte auswählen...</option>\n\t\t\t\t\t\t<option v-for=\"filter in filters\" :value=\"filter.id\">\n\t\t\t\t\t\t\t{{ filter.description }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=addField>\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span> Neuer Filter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter-config-fields my-3\">\n\t\t\t\t\t<div v-for=\"(filterField, index) in currentFields\" class=\"filter-config-field row\">\n\n\t\t\t\t\t\t<div class=\"col-5\">\n\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">Filter {{ index + 1 }}</span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\t\t\t\tv-model=\"filterField.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Feld zum Filter hinzufügen...</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"col in columns\" :value=\"col.name\">\n\t\t\t\t\t\t\t\t\t\t{{ col.title }}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Numeric -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Numeric'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Text'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"contains\">Enthält</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ncontains\">Enthält nicht</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Timestamp and date -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Date'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"set\">Eingestellt ist</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nset\">Eingestellt nicht ist</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-1\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.option\">\n\t\t\t\t\t\t\t\t\t<option value=\"minutes\">Minuten</option>\n\t\t\t\t\t\t\t\t\t<option value=\"hours\">Stunden</option>\n\t\t\t\t\t\t\t\t\t<option value=\"days\">Tage</option>\n\t\t\t\t\t\t\t\t\t<option value=\"months\">Monate</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"col text-end\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-dark\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"removeField(index)\"\n\t\t\t\t\t\t\t\ttitle=\"Filter entfernen\"\n\t\t\t\t\t\t\t\taria-title=\"Filter entfernen\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fa-solid fa-minus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Filter save options -->\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-7\">\n\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t<input ref=\"filterName\" type=\"text\" class=\"form-control\" placeholder=\"Filternamen eingeben...\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"$emit('saveCustomFilter', $refs.filterName.value)\">Filter speichern</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" @click=\"applyFilterConfig\">Filter anwenden</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfields: Array,\n\t\tselected: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tnames: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t}\n\t},\n\temits: {\n\t\thide: ['fieldName'],\n\t\tshow: ['fieldName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tselectedFields: []\n\t\t};\n\t},\n\twatch: {\n\t\tselected(n) {\n\t\t\tthis.selectedFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle(field) {\n\t\t\tif (this.selectedFields.indexOf(field) != -1)\n\t\t\t{\n\t\t\t\tthis.selectedFields.splice(this.selectedFields.indexOf(field), 1);\n\t\t\t\tthis.$emit('hide', field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedFields.push(field);\n\t\t\t\tthis.$emit('show', field);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-columns\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"d-flex flex-wrap gap-2 p-3 justify-content-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"fieldToDisplay in fields\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:class=\"selectedFields.indexOf(fieldToDisplay) != -1 ? 'btn-dark' : 'btn-outline-dark' \"\n\t\t\t\t\t@click=\"toggle(fieldToDisplay)\"\n\t\t\t\t>\n\t\t\t\t\t{{ names[fieldToDisplay] || fieldToDisplay }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst DEFAULT_ICONS = {\n\tjsonLines: 'fa-file-lines',\n\txlsx: 'fa-file-excel',\n\tpdf: 'fa-file-pdf',\n\thtml: 'fa-file-code',\n\tjson: 'fa-file',\n\tcsv: 'fa-file-csv'\n};\nconst DEFAULT_LABELS = {\n\tjsonLines: 'Download as JSONLINES',\n\txlsx: 'Download as XLSX',\n\tpdf: 'Download as PDF',\n\thtml: 'Download as HTML',\n\tjson: 'Download as JSON',\n\tcsv: 'Download as CSV '\n};\n\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\ttabulator: Object,\n\t\tconfig: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\ticonClass: [String, Array, Object]\n\t},\n\tcomputed: {\n\t\tcurrentConfig() {\n\t\t\tif (!this.config)\n\t\t\t\treturn false;\n\n\t\t\tlet config = this.config;\n\n\t\t\tif (config instanceof Function)\n\t\t\t\treturn [config];\n\n\t\t\tif (config === null)\n\t\t\t\treturn [];\n\n\t\t\tif (this.config === true)\n\t\t\t\tconfig = ['csv'];\n\n\t\t\tif (Object.prototype.toString.call(config) === \"[object String]\")\n\t\t\t\tconfig = config.split(',');\n\n\t\t\tif (typeof config === 'object' && !Array.isArray(config)) {\n\t\t\t\tlet newConfig = [];\n\t\t\t\tfor (var k in config) {\n\t\t\t\t\tvar v = config[k], type;\n\t\t\t\t\t\n\t\t\t\t\tif (!v)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\n\t\t\t\t\tif (Object.prototype.toString.call(v) === \"[object String]\") {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(v);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: v === k ? DEFAULT_LABELS[type] : k,\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\t\tif(type !== null) {\n\t\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\t\tlabel: v,\n\t\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('neither ' + k + ' nor ' + v + ' are supported download file types');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof v === 'object' && !Array.isArray(v)) {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tif (v.formatter === undefined)\n\t\t\t\t\t\t\t\tv.formatter = type;\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = DEFAULT_LABELS[type];\n\t\t\t\t\t\t\tif (v.icon === undefined)\n\t\t\t\t\t\t\t\tv.icon = DEFAULT_ICONS[type];\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = k;\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[type],\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(k + ' is not a supported download file type');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconfig = newConfig;\n\t\t\t}\n\n\t\t\tif (Array.isArray(config))\n\t\t\t{\n\t\t\t\tconfig = config.map(el => {\n\t\t\t\t\tif (Object.prototype.toString.call(el) === \"[object String]\") {\n\t\t\t\t\t\tlet formatter = this.stringToFileFormatter(el);\n\t\t\t\t\t\tif (formatter === null)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[formatter],\n\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[formatter],\n\t\t\t\t\t\t\tformatter\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (el instanceof Function)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tformatter: el\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (typeof el === 'object' && !Array.isArray(el) && el !== null) {\n\t\t\t\t\t\tif (el.formatter instanceof Function)\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\tif (this.validateFileFormatter(el.formatter))\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(el => el !== null);\n\n\t\t\t\tif (config.length < 2)\n\t\t\t\t\treturn config;\n\n\t\t\t\tif (config.filter(el => el.label || el.icon).length == config.length)\n\t\t\t\t\treturn config;\n\n\t\t\t\talert('Config not valid');\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n\tmethods: {\n\t\tstringToFileFormatter(input) {\n\t\t\tlet lcInput = input.toLowerCase();\n\t\t\t\n\t\t\tif (lcInput == 'jsonlines')\n\t\t\t\treturn 'jsonLines';\n\t\t\t\n\t\t\tif (['xlsx', 'pdf', 'html', 'json', 'csv'].includes(lcInput))\n\t\t\t\treturn lcInput;\n\n\t\t\treturn null;\n\t\t},\n\t\tvalidateFileFormatter(input) {\n\t\t\tlet formatter = this.stringToFileFormatter(input);\n\t\t\tif (!formatter) {\n\t\t\t\talert(input + ' is not a supported file formatter');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (formatter == 'xlsx') {\n\t\t\t\tif (!window.XLSX) {\n\t\t\t\t\talert('XLSX Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (formatter == 'pdf') {\n\t\t\t\tif (!window.jspdf) {\n\t\t\t\t\talert('jsPDF Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar doc = new jspdf.jsPDF({});\n\t\t\t\tif (!doc.autoTable) {\n\t\t\t\t\talert('jsPDF-AutoTable Plugin not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdownload(config) {\n\t\t\tthis.tabulator.download(config.formatter, config.file, config.options)\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"currentConfig\">\n\t\t<template v-if=\"currentConfig.length == 1\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\t@click.prevent=\"download(currentConfig[0])\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t</template>\n\t\t<div v-else class=\"dropdown d-inline\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\trole=\"button\"\n\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t\t<li v-for=\"(conf, i) in currentConfig\" :key=\"i\">\n\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" @click.prevent=\"download(conf)\">\n\t\t\t\t\t\t<span v-if=\"conf.icon\" :class=\"conf.icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{conf.label}}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</template>\n\t`\n};\n\n","const elementDataMap = new WeakMap();\n\nexport default {\n\tmounted(el, binding) {\n\t\tlet open = false;\n\t\telementDataMap.set(el, evt => {\n\t\t\tif (!open)\n\t\t\t\treturn;\n\n\t\t\tif (el.contains(evt.target))\n\t\t\t\treturn;\n\n\t\t\tconst collapse = bootstrap.Collapse.getInstance(el)\n\t\t\tif (collapse)\n\t\t\t\tcollapse.hide();\n\t\t});\n\t\tel.addEventListener('shown.bs.collapse', () => {\n\t\t\topen = true;\n\t\t});\n\t\tel.addEventListener('hide.bs.collapse', () => {\n\t\t\topen = false;\n\t\t});\n\t\tdocument.addEventListener('click', elementDataMap.get(el), true);\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tdocument.removeEventListener('click', elementDataMap.get(el));\n\t\tdelete el.collapsibleAutoHideFunc;\n\t}\n}","/**\n * This may need changes if Tabulator gets updated!\n *\n * Current working Version: 5.5.2\n * \n * This is a copy of the fitDataStretch function. The only difference\n * is the check for frozen columns on line 22.\n */\n\nexport default window.Tabulator?.extendModule(\"layout\", \"modes\", {\n\tfitDataStretchFrozen(columns, forced) {\n\t\tvar colsWidth = 0,\n\t\ttableWidth = this.table.rowManager.element.clientWidth,\n\t\tgap = 0,\n\t\tlastCol = false;\n\n\t\tcolumns.forEach((column, i) => {\n\t\t\tif (!column.widthFixed) {\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible && !column.definition.frozen) {\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol){\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tlastCol.setWidth(0);\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/saveCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t};\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/applyFilterFields',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t};\n\t},\n\taddFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/addFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tgetFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport FilterConfig from './Filter/Config.js';\nimport FilterColumns from './Filter/Columns.js';\nimport TableDownload from './Table/Download.js';\nimport collapseAutoClose from '../../directives/collapseAutoClose.js';\n\nimport moduleLayoutFitDataStretchFrozen from '../../tabulator/layouts/fitDataStretchFrozen.js';\n\nimport ApiFilter from '../../api/factory/filter.js';\n\n//\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\nconst FILTER_COMPONENT_NEW_FILTER_TYPE = 'Filter Component New Filter Type';\n\nvar _uuid = 0;\n\n/**\n *\n */\nexport const CoreFilterCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt,\n\t\tFilterConfig,\n\t\tFilterColumns,\n\t\tTableDownload\n\t},\n\tdirectives: {\n\t\tcollapseAutoClose\n\t},\n\temits: [\n\t\t'nwNewEntry',\n\t\t'click:new',\n\t\t'tableBuilt',\n\t\t'uuidDefined'\n\t],\n\tprops: {\n\t\tonNwNewEntry: Function, // NOTE(chris): Hack to get the nwNewEntry listener into $props\n\t\ttitle: String,\n\t\tdescription: String,\n\t\tsideMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tfilterType: {\n\t\t\ttype: String\n\t\t},\n\t\ttabulatorOptions: Object,\n\t\ttabulatorEvents: Array,\n\t\ttableOnly: Boolean,\n\t\tnoColumnFilter:Boolean,\n\t\treload: Boolean,\n\t\treloadBtnInfotext: String,\n\t\tdownload: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\tnewBtnShow: Boolean,\n\t\tnewBtnClass: [String, Array, Object],\n\t\tnewBtnDisabled: Boolean,\n\t\tnewBtnLabel: String,\n\t\tuniqueId: String,\n\n\t\tidField: String,\n\t\tparentIdField: String,\n\t\tcountOnly: Boolean,\n\t\tuseSelectionSpan: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tuuid: 0,\n\t\t\t// FilterCmpt properties\n\t\t\tfilterName: null,\n\t\t\tfilterActive: false,\n\t\t\tfields: null,\n\t\t\tdataset: null,\n\t\t\tdatasetMetadata: null,\n\t\t\tselectedFields: null,\n\t\t\tfilterFields: null,\n\n\t\t\tavailableFilters: null,\n\t\t\tselectedFilter: null,\n\n\t\t\t// FetchCmpt binded properties\n\t\t\tfetchCmptRefresh: false,\n\t\t\tfetchCmptApiFunction: null,\n\t\t\tfetchCmptApiFunctionParams: null,\n\t\t\tfetchCmptDataFetched: null,\n\n\t\t\tfetchResult: null,\n\n\t\t\ttabulator: null,\n\t\t\ttableBuilt: false,\n\t\t\ttabulatorHasSelector: false,\n\t\t\tselectedData: [],\n\t\t\tpersistence: {\n\t\t\t\tsort: true,\n\t\t\t\tcolumns: true,\n\t\t\t\tfilter: false,\n\t\t\t\theaderFilter: false,\n\t\t\t\tgroup: false,\n\t\t\t\tpage: false,\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotSelectedFields() {\n\t\t\tif (!this.fields || !this.selectedFields)\n\t\t\t\treturn null;\n\t\t\treturn this.fields.filter(x => this.selectedFields.indexOf(x) === -1)\n\t\t},\n\t\tfilteredData() {\n\t\t\tif (!this.dataset)\n\t\t\t\treturn [];\n\t\t\treturn JSON.parse(JSON.stringify(this.dataset));\n\t\t},\n\t\tfilteredColumns() {\n\t\t\tlet fields = JSON.parse(JSON.stringify(this.fields)) || [];\n\t\t\tlet selectedFields = JSON.parse(JSON.stringify(this.selectedFields)) || [];\n\n\t\t\tlet columns = null;\n\n\t\t\t// If the tabulator options has been provided and it contains the property columns\n\t\t\tif (this.tabulatorOptions && this.tabulatorOptions.hasOwnProperty('columns'))\n\t\t\t\tcolumns = this.tabulatorOptions.columns;\n\n\t\t\t// If columns is not an array or it is an array with less elements then the array fields\n\t\t\tif (!Array.isArray(columns) || (Array.isArray(columns) && columns.length < fields.length))\n\t\t\t{\n\t\t\t\tcolumns = []; // set it as an empty array\n\n\t\t\t\t// Loop throught all the retrieved columns from database\n\t\t\t\tfor (let field of fields)\n\t\t\t\t{\n\t\t\t\t\t// Create a new column having the title equal to the field name\n\t\t\t\t\tlet column = {\n\t\t\t\t\t\ttitle: field,\n\t\t\t\t\t\tfield: field\n\t\t\t\t\t};\n\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\tcolumn.visible = selectedFields.indexOf(field) >= 0;\n\n\t\t\t\t\t// Add the new column to the list of columns\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // the property columns has been provided in the tabulator options\n\t\t\t{\n\t\t\t\t// Loop throught the property columns of the tabulator options\n\t\t\t\tfor (let col of columns)\n\t\t\t\t{\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\t/* fields.indexOf(col.field) == -1; ensures displaying formatter colums\n\t\t\t\t\te.g. column with rowSelection checkboxes or with custom formatted action buttons */\n\t\t\t\t\tcol.visible = selectedFields.indexOf(col.field) >= 0 || fields.indexOf(col.field) == -1;\n\n\t\t\t\t\tif (col.hasOwnProperty('resizable'))\n\t\t\t\t\t\tcol.resizable = col.visible;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn columns;\n\t\t},\n\t\tfieldIdsForVisibilty() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn [];\n\t\t\treturn this.tabulator.getColumns().filter(col => {\n\t\t\t\tlet def = col.getDefinition();\n\t\t\t\treturn !def.frozen && def.title && def.formatter != \"responsiveCollapse\";\n\t\t\t}).map(col => col.getField());\n\t\t},\n\t\tfieldNames() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn {};\n\t\t\treturn this.tabulator.getColumns().reduce((res, col) => {\n\t\t\t\tres[col.getField()] = col.getDefinition().title;\n\t\t\t\treturn res;\n\t\t\t}, {});\n\t\t},\n\t\tidExtra() {\n\t\t\tif (!this.uuid)\n\t\t\t\treturn '';\n\t\t\treturn '-' + this.uuid;\n\t\t},\n\t\tcolumnsForFilter() {\n\t\t\tif (!this.filteredColumns || !this.datasetMetadata)\n\t\t\t\treturn [];\n\t\t\tconst filterTitles = this.filteredColumns.reduce((a,c) => {\n\t\t\t\ta[c.field] = c.title;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\treturn this.datasetMetadata.map(el => ({...el, ...{title: filterTitles[el.name]}}));\n\t\t}\n\t},\n\tmethods: {\n\t\treloadTable() {\n\t\t\tif (this.tableOnly)\n\t\t\t\tthis.tabulator.setData();\n\t\t\telse\n\t\t\t\tthis.getFilter();\n\t\t},\n\t\tasync initTabulator() {\n\t\t\tlet placeholder = '< Phrasen Plugin not loaded! >';\n\t\t\tif (this.$p) {\n\t\t\t\tawait this.$p.loadCategory('ui');\n\t\t\t\tplaceholder = this.$p.t('ui/keineDatenVorhanden');\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\t// prefetch data to get fields & selectedFields for filteredColumns & filteredData\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tconst filterId = window.location.hash ? window.location.hash.slice(1) : null;\n\n\t\t\t\t\tconst resolvePromiseFunc = data => {\n\t\t\t\t\t\tthis.setRenderData(data);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\t\t\t\t\t// get the filter data\n\t\t\t\t\tif (filterId === null)\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t\t\t{ filterId },\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Define a default tabulator options in case it was not provided\n\t\t\tlet tabulatorOptions = {...{\n\t\t\t\t\tlayout: \"fitDataStretchFrozen\",\n\t\t\t\t\tmovableColumns: true,\n\t\t\t\t\tcolumnDefaults:{\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tpersistence: this.persistence,\n\t\t\t\t}, ...(this.tabulatorOptions || {})};\n\n\t\t\t// set default height if no height property is set\n\t\t\tif (tabulatorOptions.height === undefined &&\n\t\t\t\ttabulatorOptions.minHeight === undefined &&\n\t\t\t\ttabulatorOptions.maxHeight === undefined) {\n\t\t\t\ttabulatorOptions.height = 500;\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\ttabulatorOptions.data = this.filteredData;\n\t\t\t\ttabulatorOptions.columns = this.filteredColumns;\n\t\t\t} else {\n\t\t\t\ttabulatorOptions.columns.forEach(col => {\n\t\t\t\t\tif (col.visible === undefined)\n\t\t\t\t\t\tcol.visible = true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tabulatorOptions.selectable || (tabulatorOptions.columns && tabulatorOptions.columns.filter(el => el.formatter == 'rowSelection').length))\n\t\t\t\tthis.tabulatorHasSelector = true;\n\n\t\t\tif (this.idField) {\n\t\t\t\t// enable nested tabulator if parent Id given\n\t\t\t\tif (this.parentIdField) tabulatorOptions.dataTree = true;\n\t\t\t\t// set tabulator index\n\t\t\t\ttabulatorOptions.index = this.idField;\n\t\t\t}\n\n\t\t\t// Start the tabulator with the build options\n\t\t\tthis.tabulator = new Tabulator(\n\t\t\t\tthis.$refs.table,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n\t\t\t// If event handlers have been provided\n\t\t\tif (Array.isArray(this.tabulatorEvents) && this.tabulatorEvents.length > 0)\n\t\t\t{\n\t\t\t\t// Attach all the provided event handlers to the started tabulator\n\t\t\t\tfor (let evt of this.tabulatorEvents)\n\t\t\t\t\tthis.tabulator.on(evt.event, evt.handler);\n\t\t\t}\n\t\t\tthis.tabulator.on('tableBuilt', () => {this.tableBuilt = true; this.$emit('tableBuilt');});\n\t\t\tthis.tabulator.on(\"rowSelectionChanged\", data => {\n\t\t\t\tthis.selectedData = data;\n\t\t\t});\n\n\t\t\t// if nested tabulator, restructure data\n\t\t\tif (this.parentIdField && this.idField) {\n\t\t\t\tthis.tabulator.on(\"dataLoading\", data => {\n\t\t\t\t\tlet toDelete = [];\n\n\t\t\t\t\t// loop through all data\n\t\t\t\t\tfor (let childIdx = 0; childIdx < data.length; childIdx++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet child = data[childIdx];\n\n\t\t\t\t\t\t// if it has parent id, it is a child\n\t\t\t\t\t\tif (child[this.parentIdField])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// append the child on the right place. If parent found, mark original sw child on 0 level for deleting\n\t\t\t\t\t\t\tif (this.appendChild(data, child)) toDelete.push(childIdx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete the marked children from 0 level\n\t\t\t\t\tfor (let counter = 0; counter < toDelete.length; counter++)\n\t\t\t\t\t{\n\t\t\t\t\t\t// decrease index by counter as index of data array changes after every deletion\n\t\t\t\t\t\tdata.splice(toDelete[counter] - counter, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.tableOnly) {\n\t\t\t\tthis.tabulator.on('tableBuilt', () => {\n\t\t\t\t\tconst cols = this.tabulator.getColumns();\n\t\t\t\t\tthis.fields = cols.map(col => col.getField());\n\t\t\t\t\tthis.selectedFields = cols.filter(col => col.isVisible()).map(col => col.getField());\n\t\t\t\t\tif (this.tabulator.options.persistence.headerFilter)\n\t\t\t\t\t\tthis._setHeaderFilter();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.tabulator.on(\"dataFiltered\", filters => {\n\t\t\t\tthis.filterActive = filters.length > 0;\n\t\t\t});\n\t\t},\n\t\tupdateTabulator() {\n\t\t\tif (this.tabulator) {\n\t\t\t\tif (this.tableBuilt)\n\t\t\t\t\tthis._updateTabulator();\n\t\t\t\telse\n\t\t\t\t\tthis.tabulator.on('tableBuilt', this._updateTabulator);\n\t\t\t}\n\t\t},\n\t\t_updateTabulator() {\n\t\t\tthis.tabulatorHasSelector = this.tabulatorOptions.selectable || this.filteredColumns.filter(el => el.formatter == 'rowSelection').length;\n\t\t\tthis.tabulator.setColumns(this.filteredColumns);\n\t\t\tthis.tabulator.setData(this.filteredData);\n\t\t\tthis._setHeaderFilter()\n\t\t},\n\t\tclearFilters()\n\t\t{\n\t\t\tlet existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, \"\");\n\t\t\t});\n\t\t\tthis.tabulator.clearFilter();\n\t\t\tthis.filterActive = false;\n\t\t},\n\t\t_setHeaderFilter()\n\t\t{\n\t\t\tconst existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, filter.value);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetFilter() {\n\t\t\tif (this.selectedFilter === null)\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t{\n\t\t\t\t\t\tfilterId: this.selectedFilter\n\t\t\t\t\t},\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t},\n\t\tsetRenderData(data) {\n\t\t\tthis.fetchResult = data;\n\t\t\tthis.filterName = data.filterName;\n\t\t\tthis.dataset = data.dataset;\n\t\t\tthis.datasetMetadata = data.datasetMetadata;\n\n\t\t\tthis.fields = data.fields;\n\t\t\tthis.selectedFields = data.selectedFields;\n\t\t\tthis.filterFields = [];\n\n\t\t\tfor (let i = 0; i < data.datasetMetadata.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < data.filters.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (data.datasetMetadata[i].name == data.filters[j].name)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet filter = data.filters[j];\n\t\t\t\t\t\tfilter.type = data.datasetMetadata[i].type;\n\n\t\t\t\t\t\tthis.filterFields.push(filter);\n\t\t\t\t\t\t//break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\trender(response) {\n\t\t\tlet data = response;\n\n\t\t\tthis.setRenderData(data);\n\n\t\t\t// If the side menu is active\n\t\t\tif (this.sideMenu === true)\n\t\t\t{\n\t\t\t\tthis.setSideMenu(data);\n\t\t\t}\n\t\t\telse // otherwise use the dropdown in the filter options\n\t\t\t{\n\t\t\t\tthis.setDropDownMenu(data);\n\t\t\t}\n\t\t\tthis.updateTabulator();\n\t\t},\n\t\t/**\n\t\t * Set the menu\n\t\t */\n\t\tsetSideMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc,\n\t\t\t\t\tsubscriptDescription: personalFilters[filtersCount].subscriptDescription,\n\t\t\t\t\tsubscriptLinkClass: personalFilters[filtersCount].subscriptLinkClass,\n\t\t\t\t\tsubscriptLinkValue: personalFilters[filtersCount].subscriptLinkValue,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById,\n\t\t\t\t\tonClickSubscriptCall: this.handlerRemoveCustomFilter\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\n\t\t\tthis.$emit(\n\t\t\t\t'nwNewEntry',\n\t\t\t\t{\n\t\t\t\t\tlink: \"#\",\n\t\t\t\t\tdescription: \"Filters\",\n\t\t\t\t\ticon: \"filter\",\n\t\t\t\t\tchildren: filtersArray\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Set the drop down menu\n\t\t */\n\t\tsetDropDownMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\toption: filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\toption: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\t\t},\n\t\t/**\n\t\t * Used to start/refresh the FetchCmpt\n\t\t */\n\t\tstartFetchCmpt(apiFunction, apiFunctionParameters, dataFetchedCallback) {\n\t\t\t// Assign the function api of the FetchCmpt binded property\n\t\t\tthis.fetchCmptApiFunction = apiFunction;\n\n\t\t\t// In case a null value is provided set the parameters as an empty object\n\t\t\tif (apiFunctionParameters == null) apiFunctionParameters = {};\n\n\t\t\t// Always needed parameters\n\t\t\tapiFunctionParameters.filterUniqueId = FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t\tapiFunctionParameters.filterType = this.filterType;\n\n\t\t\tif (this.uniqueId)\n\t\t\t\tapiFunctionParameters.filterUniqueId += '_' + this.uniqueId;\n\n\t\t\t// Assign parameters to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptApiFunctionParams = apiFunctionParameters;\n\t\t\t// Assign data fetch callback to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptDataFetched = dataFetchedCallback;\n\t\t\t// Set the FetchCmpt binded property refresh to have the component to refresh\n\t\t\t// NOTE: this should be the last one to be called because it triggers the FetchCmpt to start to refresh\n\t\t\tthis.fetchCmptRefresh === true ? this.fetchCmptRefresh = false : this.fetchCmptRefresh = true;\n\t\t},\n\n\t\t// ------------------------------------------------------------------------------------------------------------------\n\t\t// Event handlers\n\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerSaveCustomFilter(customFilterName) {\n\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.saveCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tcustomFilterName\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerRemoveCustomFilter(event) {\n\t\t\tlet filterId = event.currentTarget.getAttribute(\"href\").substring(1);\n\t\t\tif (filterId === this.selectedFilter)\n\t\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.removeCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterId: filterId\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t/*\n\t\t *\n\t\t */\n\t\thandlerGetFilterById: function(event) {\n\n\t\t\tlet filterId = null;\n\n\t\t\t// Get the attribute href if side menu is rendered\n\t\t\tlet attr = event.currentTarget.getAttribute(\"href\");\n\n\t\t\t// Otherwise get the value of the drop down menu\n\t\t\tif (attr == null)\n\t\t\t{\n\t\t\t\tfilterId = event.currentTarget.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfilterId = attr.substring(1);\n\t\t\t}\n\n\t\t\tthis.switchFilter(filterId);\n\t\t},\n\t\tswitchFilter(filterId) {\n\t\t\tthis.selectedFilter = filterId;\n\t\t\tthis.getFilter();\n\t\t},\n\t\tapplyFilterConfig(filterFields) {\n\t\t\tthis.selectedFilter = null;\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.applyFilterFields(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterFields\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t// append child to it's parent\n\t\tappendChild(data, child) {\n\t\t\t// get parent id\n\t\t\tlet parentId = child[this.parentIdField];\n\n\t\t\t// loop thorugh all data\n\t\t\tfor (let parentIdx = 0; parentIdx < data.length; parentIdx++)\n\t\t\t{\n\t\t\t\tlet parent = data[parentIdx];\n\n\t\t\t\t// if it's the parent\n\t\t\t\tif (parent[this.idField] == parentId)\n\t\t\t\t{\n\t\t\t\t\t// create children array if not done yet\n\t\t\t\t\tif (!parent._children) parent._children = [];\n\n\t\t\t\t\t// if child is not included in children array, append the child\n\t\t\t\t\tif (!parent._children.includes(child)) parent._children.push(child);\n\n\t\t\t\t\t// parent found\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// search children for parents\n\t\t\t\telse if (parent._children) this.appendChild(parent._children, child);\n\t\t\t}\n\n\t\t\t// parent not found\n\t\t\treturn false;\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tif (!this.tableOnly == !this.filterType)\n\t\t\talert('You can not have a filter-type in table-only mode!');\n\t},\n\tcreated() {\n\t\tif (this.sideMenu && (!this.$props.onNwNewEntry || !(this.$props.onNwNewEntry instanceof Function)))\n\t\t\talert('\"nwNewEntry\" listener is mandatory when sideMenu is true');\n\t\tthis.uuid = _uuid++;\n\t\tthis.$emit('uuidDefined', this.uuid)\n\t},\n\tmounted() {\n\t\tthis.initTabulator().then(() => {\n\t\t\tif (!this.tableOnly) {\n\t\t\t\tthis.selectedFilter = window.location.hash ? window.location.hash.slice(1) : null;\n\t\t\t\tthis.render(this.fetchResult);\n\t\t\t}\n\t\t});\n\n\t},\n\ttemplate: `\n\t\t<!-- Load filter data -->\n\t\t<core-fetch-cmpt\n\t\t\tv-if=\"!tableOnly && fetchCmptApiFunction\"\n\t\t\tv-bind:api-function=\"fetchCmptApiFunction\"\n\t\t\tv-bind:api-function-parameters=\"fetchCmptApiFunctionParams\"\n\t\t\tv-bind:refresh=\"fetchCmptRefresh\"\n\t\t\t@data-fetched=\"fetchCmptDataFetched\">\n\t\t</core-fetch-cmpt>\n\n\t\t<div class=\"row\" v-if=\"title != null && title != ''\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<h3 class=\"page-header mt-1 mb-4\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"'filterCollapsables' + idExtra\">\n\n\t\t\t<div class=\"d-flex flex-row justify-content-between flex-wrap\">\n\t\t\t\t<div v-if=\"newBtnShow || reload || $slots.search || $slots.actions\" class=\"d-flex gap-2 align-items-baseline flex-wrap\">\n\t\t\t\t\t<button v-if=\"newBtnShow\" class=\"btn btn-primary\" :class=\"newBtnClass\" :title=\"newBtnLabel ? undefined : 'New'\" :aria-label=\"newBtnLabel ? undefined : 'New'\" @click=\"$emit('click:new', $event)\" :disabled=\"newBtnDisabled\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{ newBtnLabel }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"reload\" class=\"btn btn-outline-secondary\" aria-label=\"Reload\" @click=\"reloadTable\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-rotate-right\" aria-hidden=\"true\"  :title=\"reloadBtnInfotext ? reloadBtnInfotext : 'Reload'\" ></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span v-if=\"$slots.actions && tabulatorHasSelector && useSelectionSpan\">\n\t\t\t\t\t\t<span v-if=\"countOnly\">{{ selectedData.length }} ausgewählt</span>\n\t\t\t\t\t\t<span v-else id=\"selected-info-text\"> Mit {{ selectedData.length }} ausgewählten:</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<slot name=\"actions\" v-bind=\"{selected: tabulatorHasSelector ? selectedData : []}\"></slot>\n\t\t\t\t\t<slot name=\"search\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-1 align-items-baseline flex-grow-1 justify-content-end\">\n\t\t\t\t\t<span v-if=\"!tableOnly\">[ {{ filterName }} ]</span>\n\t\t\t\t\t<span v-else-if=\"description\" v-html=\"description\"></span>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"!tableOnly || $slots.filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseFilters' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"filterActive\"  class=\"btn btn-link px-0 fhc-text\" :title=\"$p.t('ui','filterdelete')\" @click=\"clearFilters\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter-circle-xmark\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseColumns' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-table-columns\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<table-download class=\"btn btn-link px-0 fhc-text\" :tabulator=\"tabulator\" :config=\"download\"></table-download>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<filter-columns\n\t\t\t\t:id=\"'collapseColumns' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:fields=\"fieldIdsForVisibilty\"\n\t\t\t\t:selected=\"selectedFields\"\n\t\t\t\t:names=\"fieldNames\"\n\t\t\t\t@hide=\"tabulator.hideColumn($event)\"\n\t\t\t\t@show=\"tabulator.showColumn($event)\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-columns>\n\n\t\t\t<filter-config\n\t\t\t\tv-if=\"!tableOnly\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:filters=\"!sideMenu ? (availableFilters || []) : []\"\n\t\t\t\t:columns=\"columnsForFilter\"\n\t\t\t\t:fields=\"filterFields || []\"\n\t\t\t\t@switch-filter=\"switchFilter\"\n\t\t\t\t@apply-filter-config=\"applyFilterConfig\"\n\t\t\t\t@save-custom-filter=\"handlerSaveCustomFilter\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-config>\n\t\t\t<div\n\t\t\t\tv-else-if=\"$slots.filter\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t\t>\n\t\t\t\t<slot name=\"filter\"></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tabulator -->\n\t\t<div ref=\"table\" :id=\"'filterTableDataset' + idExtra\" class=\"filter-table-dataset\"></div>\n\t`\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetVorlagen() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/vorlagen/vorlagen/getVorlagen/'\n\t\t};\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/'\n\t\t};\n\t},\n\n};\n","import FormForm from '../../../Form/Form.js';\nimport FormInput from '../../../Form/Input.js';\nimport ListBox from \"../../../../../../index.ci.php/public/js/components/primevue/listbox/listbox.esm.min.js\";\nimport DropdownComponent from '../../../VorlagenDropdown/VorlagenDropdown.js';\n\nexport default {\n\tname: \"ComponentNewMessages\",\n\tcomponents: {\n\t\tFormForm,\n\t\tFormInput,\n\t\tListBox,\n\t\tDropdownComponent,\n\t},\n\tprops: {\n\t\tendpoint: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\topenMode: String,\n\t\ttempTypeId: String,\n\t\ttempId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: false\n\t\t},\n\t\ttempMessageId: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t//params with routes for new tab and new window AND props for inSamePage\n\t\tid(){\n\t\t\treturn this.$props.tempId || this.$route.params.id;\n\t\t},\n\t\ttypeId(){\n\t\t\treturn this.$props.tempTypeId || this.$route.params.typeId;\n\t\t},\n\t\tmessageId(){\n\t\t\treturn this.$props.tempMessageId ||this.$route.params.messageId;\n\t\t}\n\t},\n\tdata(){\n\t\treturn {\n\t\t\tformData: {\n\t\t\t\trecipient: null,\n\t\t\t\tsubject: null,\n\t\t\t\tbody: null,\n\t\t\t\tvorlage_kurzbz: null,\n\t\t\t\tselectedValue: '',\n\t\t\t\trelationmessage_id: null\n\t\t\t},\n\t\t\tstatusNew: true,\n\t\t\tvorlagen: [],\n\t\t\trecipientsArray: [],\n\t\t\tdefaultRecipient: null,\n\t\t\teditor: null,\n\t\t\tisVisible: false,\n\t\t\tfieldsUser: [],\n\t\t\tfieldsPerson: [],\n\t\t\tfieldsPrestudent: [],\n\t\t\tselectedFieldPrestudent: null,\n\t\t\tselectedFieldUser: null,\n\t\t\tselectedFieldPerson: null,\n\t\t\titemsPrestudent: [],\n\t\t\titemsPerson: [],\n\t\t\titemsUser: [],\n\t\t\tpreviewText: null,\n\t\t\tpreviewBody: \"\",\n\t\t\treplyData: null,\n\t\t\tuid: null,\n\t\t\tmessageSent: false\n\t\t}\n\t},\n\tmethods: {\n\t\tinitTinyMCE() {\n\t\t\tconst vm = this;\n\t\t\ttinymce.init({\n\t\t\t\ttarget: this.$refs.editor.$refs.input, //Important: not selector: to enable multiple import of component\n\t\t\t\t//height: 800,\n\t\t\t\t//plugins: ['lists'],\n\t\t\t\ttoolbar: 'styleselect | bold italic underline | alignleft aligncenter alignright alignjustify',\n\t\t\t\tstyle_formats: [\n\t\t\t\t\t{title: 'Blocks', block: 'div'},\n\t\t\t\t\t{title: 'Paragraph', block: 'p'},\n\t\t\t\t\t{title: 'Heading 1', block: 'h1'},\n\t\t\t\t\t{title: 'Heading 2', block: 'h2'},\n\t\t\t\t\t{title: 'Heading 3', block: 'h3'},\n\t\t\t\t\t{title: 'Heading 4', block: 'h4'},\n\t\t\t\t\t{title: 'Heading 5', block: 'h5'},\n\t\t\t\t\t{title: 'Heading 6', block: 'h6'},\n\t\t\t\t],\n\t\t\t\tautoresize_bottom_margin: 16,\n\n\t\t\t\tsetup: (editor) => {\n\t\t\t\t\tvm.editor = editor;\n\n\t\t\t\t\teditor.on('input', () => {\n\t\t\t\t\t\tconst newContent = editor.getContent();\n\t\t\t\t\t\tvm.formData.body = newContent;\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\tupdateText(value) {\n\t\t\tthis.formData.body = value;\n\t\t},\n\t\tsendMessage() {\n\t\t\tconst data = new FormData();\n\n\t\t\tconst params = {\n\t\t\t\tid: this.id,\n\t\t\t\ttype_id: this.typeId\n\t\t\t};\n\n\t\t\tconst merged = {\n\t\t\t\t...this.formData,\n\t\t\t\t...params\n\t\t\t};\n\t\t\tdata.append('data', JSON.stringify(merged));\n\t\t\treturn this.$api\n\t\t\t\t.call(this.endpoint.sendMessage(this.uid, data))\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.$fhcAlert.alertSuccess(this.$p.t('ui', 'successSent'));\n\t\t\t\t\tthis.hideTemplate();\n\t\t\t\t\tthis.resetForm();\n\t\t\t\t\tthis.messageSent = true;\n\t\t\t\t}).catch(this.$fhcAlert.handleSystemError)\n\t\t\t\t.finally(() => {\n\t\t\t\t\t//TODO(Manu) hier route definieren für openmode in Tab, Page?\n\t\t\t\t\t// ist kein child sondern mit route aufgerufen\n\t\t\t\t\t//würde allerdings neues fenster aktualisiert öffnen, altes bleibt ohne reload gleich\n\t\t\t\t\t//Reload vorheriges tab???\n\t\t\t\t\tif(this.openMode == \"inSamePage\"){\n\t\t\t\t\t\tthis.$emit('reloadTable');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$api\n\t\t\t\t.call(this.endpoint.getDataVorlage(vorlage_kurzbz))\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.formData.body = response.data.text;\n\t\t\t\t\tthis.formData.subject = response.data.subject;\n\t\t\t\t}).catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tgetPreviewText(id, typeId){\n\t\t\tconst data = new FormData();\n\n\t\t\tdata.append('data', JSON.stringify(this.formData.body));\n\t\t\treturn this.$api\n\t\t\t\t.call(this.endpoint.getPreviewText({\n\t\t\t\t\tid: this.id,\n\t\t\t\t\ttype_id: this.typeId}, data))\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.previewText = response.data;\n\t\t\t\t}).catch(this.$fhcAlert.handleSystemError)\n\t\t\t\t.finally(() => {\n\t\t\t\t\t//this.resetForm();\n\t\t\t\t});\n\t\t},\n\t\tinsertVariable(selectedItem){\n\t\t\tif (this.editor) {\n\t\t\t\tthis.editor.insertContent(selectedItem.value + \" \");\n\n\t\t\t\tthis.editor.fire('input');\n\t\t\t\tthis.editor.fire('change');\n\t\t\t\tthis.editor.setDirty(true);\n\t\t\t\tthis.editor.save();\n\n\t\t\t} else {\n\t\t\t\tconsole.error(\"Editor instance is not available.\");\n\t\t\t}\n\t\t},\n\t\tresetForm(){\n\t\t\tthis.formData = {\n\t\t\t\tvorlage_kurzbz: null,\n\t\t\t\tbody: null,\n\t\t\t\tsubject: null,\n\t\t\t};\n\t\t\tif (this.editor) {\n\t\t\t\tthis.editor.setContent(\"\");\n\t\t\t}\n\t\t\tthis.$refs.dropdownComp.setValue(null);\n\n\t\t\tthis.previewBody = null;\n\n\t\t},\n\t\ttoggleDivNewMessage(){\n\t\t\tthis.isVisible = !this.isVisible;\n\t\t},\n\t\thandleSelectedVorlage(vorlage_kurzbz) {\n\t\t\tif (typeof vorlage_kurzbz === \"string\") {\n\t\t\t\tthis.getDataVorlage(vorlage_kurzbz);\n\t\t\t}\n\t\t},\n\t\thideTemplate(){\n\t\t\tif (this.openMode == \"inSamePage\")\n\t\t\t\tthis.isVisible = false;\n\t\t},\n\t\tshowTemplate(){\n\t\t\tif (this.openMode == \"inSamePage\")\n\t\t\t\tthis.isVisible = true;\n\t\t},\n\t\tshowPreview(id, typeId){\n\t\t\tthis.getPreviewText(id, typeId).then(() => {\n\t\t\t\tthis.previewBody = this.previewText;\n\t\t\t});\n\t\t},\n\t\tgetUid(id, typeId){\n\t\t\tconst params = {\n\t\t\t\tid: id,\n\t\t\t\ttype_id: typeId\n\t\t\t};\n\t\t\tthis.$api\n\t\t\t\t.call(this.endpoint.getUid(params))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.uid = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\t},\n\twatch: {\n\t\t'formData.body': {\n\t\t\thandler(newVal) {\n\t\t\t\tconst tinymcsVal = this.editor.getContent();\n\n\t\t\t\tif (newVal && tinymcsVal != newVal) {\n\t\t\t\t\t//Inhalt des Editors aktualisieren\n\t\t\t\t\tthis.editor.setContent(newVal);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'formData.vorlage_kurzbz': {\n\t\t\thandler(newVal){\n\n\t\t\t\tif (newVal && newVal != null) {\n\t\t\t\t\tthis.formData.subject = newVal;\n\t\t\t\t\treturn this.getDataVorlage(newVal);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tcreated(){\n\t\tthis.getUid(this.id, this.typeId);\n\n\t\tif (['person_id', 'mitarbeiter_uid'].includes(this.typeId)){\n\t\t\t\tconst params = {\n\t\t\t\t\tid: this.id,\n\t\t\t\t\ttype_id: this.typeId\n\t\t\t\t};\n\n\t\t\t\tthis.$api\n\t\t\t\t.call(this.endpoint.getMessageVarsPerson(params))\n\t\t\t\t\t.then(result => {\n\t\t\t\t\t\tthis.fieldsPerson = result.data;\n\t\t\t\t\t\tconst person = this.fieldsPerson[0];\n\t\t\t\t\t\tthis.itemsPerson = Object.entries(person).map(([key, value]) => ({\n\t\t\t\t\t\t\tlabel: key.toLowerCase(),\n\t\t\t\t\t\t\tvalue: '{' + key.toLowerCase() + '}'\n\t\t\t\t\t\t}));\n\t\t\t\t\t})\n\t\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t\t}\n\n\t\tif (['prestudent_id', 'uid'].includes(this.typeId)){\n\t\t\t\tconst params = {\n\t\t\t\tid: this.id,\n\t\t\t\ttype_id: this.typeId\n\t\t\t};\n\t\t\tthis.$api\n\t\t\t\t.call(this.endpoint.getMsgVarsPrestudent(params))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.fieldsPrestudent = result.data;\n\t\t\t\t\tconst prestudent = this.fieldsPrestudent[0];\n\n\t\t\t\t\tthis.itemsPrestudent = Object.entries(prestudent).map(([key, value]) => ({\n\t\t\t\t\t\tlabel: key.toLowerCase(),\n\t\t\t\t\t\tvalue: '{' + key.toLowerCase() + '}'\n\t\t\t\t\t}));\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\n\t\tthis.$api\n\t\t\t.call(this.endpoint.getMsgVarsLoggedInUser())\n\t\t\t.then(result => {\n\t\t\t\tthis.fieldsUser = result.data;\n\t\t\t\tconst user = this.fieldsUser;\n\t\t\t\tthis.itemsUser = Object.entries(user).map(([key, value]) => ({\n\t\t\t\t\tlabel: value,\n\t\t\t\t\tvalue: '{' + value + '}'\n\t\t\t\t}));\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api\n\t\t\t.call(this.endpoint.getNameOfDefaultRecipient({\n\t\t\t\tid: this.id,\n\t\t\t\ttype_id: this.typeId}))\n\t\t\t.then(result => {\n\t\t\t\tthis.defaultRecipient = result.data;\n\t\t\t\tthis.recipientsArray.push({\n\t\t\t\t\t'uid': this.uid,\n\t\t\t\t\t'details': this.defaultRecipient});\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\t//case of reply\n\t\tif(this.messageId != null) {\n\t\t\tthis.$api\n\t\t\t\t.call(this.endpoint.getReplyData(this.messageId))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.replyData = result.data;\n\t\t\t\t\tthis.formData.subject = this.replyData[0].replySubject;\n\t\t\t\t\tthis.formData.body = this.replyData[0].replyBody;\n\t\t\t\t\tthis.formData.relationmessage_id = this.messageId;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\n\t},\n\tasync mounted() {\n\t\tthis.initTinyMCE();\n\t},\n\tbeforeDestroy() {\n\t\tthis.editor.destroy();\n\t},\n\ttemplate: `\n\n\t<div class=\"messages-detail-newmessage-newdiv\">\n\t\t\t<!--new page-->\n\t\t\t<div v-if=\"!messageSent\" class=\"overflow-auto m-3\">\n\t\t\t\t<h4>{{ $p.t('messages', 'neueNachricht') }}</h4>\n\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-sm-8\">\n\t\t\t\t\t\t<form-form class=\"row g-3 mt-2\" ref=\"formMessage\">\n\n\t\t\t\t\t\t\t<div class=\"row mb-3\">\n\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"recipient\"\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('messages/recipient')\"\n\t\t\t\t\t\t\t\t\tv-model=\"defaultRecipient\"\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"subject\"\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('global/betreff') + ' *'\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData.subject\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<!--Tiny MCE-->\n\t\t\t\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\tref=\"editor\"\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('global','nachricht')  + ' *'\"\n\t\t\t\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t\t\t\tv-model=\"formData.body\"\n\t\t\t\t\t\t\t\t\tname=\"text\"\n\t\t\t\t\t\t\t\t\trows=\"15\"\n\t\t\t\t\t\t\t\t\tcols=\"75\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<DropdownComponent\n\t\t\t\t\t\t\t\t\tref=\"dropdownComp\"\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('global/vorlage')\"\n\t\t\t\t\t\t\t\t\t@change=\"handleSelectedVorlage\"\n\t\t\t\t\t\t\t\t\tuseLoggedInUserOe\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</DropdownComponent>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</form-form>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"col-sm-4\">\n\t\t\t\t\t\t<div v-if=\"this.fieldsPrestudent.length > 0\"  class=\"mt-3\">\n\t\t\t\t\t\t\t<strong>{{$p.t('ui', 'felder')}} {{$p.t('lehre', 'prestudent')}}</strong>\n\n\t\t\t\t\t\t\t<list-box\n\t\t\t\t\t\t\t\tv-model=\"selectedFieldPrestudent\"\n\t\t\t\t\t\t\t\t:options=\"itemsPrestudent\"\n\t\t\t\t\t\t\t\toptionLabel=\"label\"\n\t\t\t\t\t\t\t\tlistStyle=\"max-height:250px\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t  <template #option=\"slotProps\">\n\t\t\t\t\t\t\t\t<div @dblclick=\"insertVariable(slotProps.option)\">\n\t\t\t\t\t\t\t\t  {{ slotProps.option.label }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t  </template>\n\t\t\t\t\t\t\t</list-box>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<br>\n\n\t\t\t\t\t\t<div v-if=\"this.fieldsPerson.length > 0\" class=\"mt-3\">\n\t\t\t\t\t\t\t<strong>Felder Person</strong>\n\n\t\t\t\t\t\t\t<list-box\n\t\t\t\t\t\t\t\tv-model=\"selectedFieldPerson\"\n\t\t\t\t\t\t\t\t:options=\"itemsPerson\"\n\t\t\t\t\t\t\t\toptionLabel=\"label\"\n\t\t\t\t\t\t\t\tlistStyle=\"max-height:250px\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template #option=\"slotProps\">\n\t\t\t\t\t\t\t\t\t<div @dblclick=\"insertVariable(slotProps.option)\">\n\t\t\t\t\t\t\t\t\t  {{ slotProps.option.label }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t  </template>\n\t\t\t\t\t\t\t</list-box>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<strong>{{$p.t('messages', 'meineFelder')}}</strong>\n\n\t\t\t\t\t\t\t<list-box\n\t\t\t\t\t\t\t\tv-model=\"selectedFieldUser\"\n\t\t\t\t\t\t\t\t:options=\"itemsUser\"\n\t\t\t\t\t\t\t\toptionLabel=\"label\"\n\t\t\t\t\t\t\t\tlistStyle=\"max-height:200px\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template #option=\"slotProps\">\n\t\t\t\t\t\t\t\t\t<div @dblclick=\"insertVariable(slotProps.option)\">\n\t\t\t\t\t\t\t\t\t  {{ slotProps.option.label }}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t  </template>\n\t\t\t\t\t\t\t</list-box>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<br>\n\n\t\t\t\t\t\t<div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n\n\t\t\t\t\t\t\t<button class=\"btn btn-secondary\" @click=\"resetForm\">{{$p.t('ui', 'reset')}}</button>\n\n\t\t\t\t\t\t\t<button v-if=\"statusNew\" type=\"button\" class=\"btn btn-primary\" @click=\"sendMessage()\">{{$p.t('ui', 'nachrichtSenden')}}</button>\n\t\t\t\t\t\t\t<button v-else type=\"button\" class=\"btn btn-primary\" @click=\"replyMessage(formData.message_id)\">{{$p.t('global', 'reply')}}</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"row mt-4\">\n\n\t\t\t\t\t<h4>{{ $p.t('global', 'vorschau') }}:</h4>\n\t\t\t\t\t<div>\n\t\t\t\t\t\n\t\t\t\t\t\t<form-form class=\"row g-3 mt-2\" ref=\"formPreview\">\n\n\t\t\t\t\t\t\t<div class=\"col-sm-2 mb-3\">\n\t\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\t\tname=\"recipient\"\n\t\t\t\t\t\t\t\t\t:label=\"$p.t('messages/recipient')\"\n\t\t\t\t\t\t\t\t\tv-model=\"defaultRecipient\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option :value=\"null\">{{ $p.t('messages', 'recipient') }}...</option>\n\t\t\t\t\t\t\t\t\t<option \n\t\t\t\t\t\t\t\t\t\tv-for=\"recipient in recipientsArray\"\n\t\t\t\t\t\t\t\t\t\t:key=\"recipient.uid\" \n\t\t\t\t\t\t\t\t\t\t:value=\"recipient.uid\" \n\t\t\t\t\t\t\t\t\t\t>{{recipient.details}}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"col-md-2 mt-4\">\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-secondary\" @click=\"showPreview(id, typeId)\">{{ $p.t('ui', 'btnAktualisieren') }}</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form-form>\n\n\t\t\t\t\t\t<div class=\"col-sm-12 overflow-scroll\">\n\t\t\t\t\t\t\t\t<div ref=\"preview\">\n\t\t\t\t\t\t\t\t\t<div v-html=\"previewBody\" class=\"p-3 border rounded overflow-scroll\" style=\"height: 300px;\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\n\t\t</div>\n\t\t\n\t\t\t\t\t\n\t\t<div v-if=\"messageSent && openMode!='inSamePage'\" class=\"container d-flex justify-content-center align-items-center m-3\">\n\t\t\t<div class=\"card\" style=\"width: 80%\">\n\t\t\t  <div class=\"card-body alert alert-success text-dar p-5 rounded\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-6\">\n\t\t\t\t\t\t\t\tMessage sent successfully!\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-6\">\n\t\t\t\t\t\t\t\tNachricht erfolgreich versandt!\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"col-6\" style=\"border-right: 1px\">\n\t\t\t\t\t\t\t\tYou can safely close this window.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-6\">\n\t\t\t\t\t\t\t\tSie können dieses Fenster schließen.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-center\">\n\t\t\t\t\t<p class=\"signatureblock\">\n\t\t\t\t\t\tFachhochschule Technikum Wien | University of Applied Sciences Technikum Wien\n\t\t\t\t\t\t<br>Hoechstaedtplatz 6, 1200 Wien, AUSTRIA\n\t\t\t\t\t\t<br><a class=\"signatureblocklink\" href=\"https://www.technikum-wien.at\">www.technikum-wien.at</a>\n\t\t\t\t\t</p>\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t\t\t\n\n\t\t\t</div>\n\t\n\t</div>\n\n\n\t</div>\n\t`\n\n}\n","import {CoreFilterCmpt} from \"../filter/Filter.js\";\nimport FormForm from '../Form/Form.js';\nimport FormInput from '../Form/Input.js';\n\nimport ApiVorlage from '../../api/factory/vorlagen.js';\n\nexport default {\n\tcomponents: {\n\t\tFormForm,\n\t\tFormInput,\n\t\tCoreFilterCmpt\n\t},\n\tprops: {\n\t\tlabel: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tisAdmin: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tuseLoggedInUserOe: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvorlagen: [],\n\t\t\tselectedValue: null,\n\t\t\tvorlagenOe: []\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateValue() {\n\t\t\tthis.$emit('change', this.selectedValue);\n\t\t},\n\t\tsetValue(value) {\n\t\t\tthis.selectedValue = value;\n\t\t},\n\t},\n\tcreated() {\n\t\tif(this.isAdmin) {\n\t\t\tthis.$api\n\t\t\t\t.call(ApiVorlage.getVorlagen())\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.vorlagen = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\n\t\tif(this.useLoggedInUserOe){\n\t\t\tthis.$api\n\t\t\t\t.call(ApiVorlage.getVorlagenByLoggedInUser())\n\t\t\t\t.then(result => {\n\t\t\t\t\t//console.log(this.vorlagenOe);\n\t\t\t\t\tthis.vorlagenOe = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t}\n\t},\ntemplate: `\n\t<div class=\"core-vorlagen-dropdown\">\n\t\t<div v-if=\"isAdmin\" class=\"col-sm-12 pt-2\">\n\t\t\t<form-input\n\t\t\t\tref=\"dropdown\"\n\t\t\t\ttype=\"select\"\n\t\t\t\t:label=\"label\"\n\t\t\t\t@change=\"updateValue\"\n\t\t\t\tv-model=\"selectedValue\"\n\t\t\t\t>\n\t\t\t\t<option \n\t\t\t\t\tv-for=\"vorlage in vorlagen\" \n\t\t\t\t\t:key=\"vorlage.vorlage_kurzbz\" \n\t\t\t\t\t:value=\"vorlage.vorlage_kurzbz\" \n\t\t\t\t\t>\n\t\t\t\t\t{{vorlage.bezeichnung}}\n\t\t\t\t</option>\n\t\t\t</form-input>\n\t\t</div>\n\t\t\n\t\t<div v-if=\"useLoggedInUserOe\" class=\"col-sm-12 pt-2\">\n\t\t\t<form-input\n\t\t\t\tref=\"dropdown\"\n\t\t\t\ttype=\"select\"\n\t\t\t\t:label=\"label\"\n\t\t\t\t@change=\"updateValue\"\n\t\t\t\tv-model=\"selectedValue\"\n\t\t\t\t>\n\t\t\t\t<option \n\t\t\t\t\tv-for=\"vorlage in vorlagenOe\" \n\t\t\t\t\t:key=\"vorlage.id\" \n\t\t\t\t\t:value=\"vorlage.id\" \n\t\t\t\t\t>\n\t\t\t\t\t{{vorlage.description}}\n\t\t\t\t</option>\n\t\t\t</form-input>\n\t\t</div>\n\t</div>\n\t`,\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/search';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchAdvanced(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/searchAdvanced';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchdummy(searchsettings) {\n\t\tconst url = 'public/js/apps/api/dummyapi.php/Search';\n\t\treturn this.$fhcApi.post(url, searchsettings);\n\t}\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/loadModule/' + category);\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst payload = {categories, language}\n\t\treturn this.$fhcApi.post('/api/frontend/v1/phrasen/setLanguage', payload);\n\t},\n\tgetLanguage() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getLanguage', {});\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getAllLanguages', {});\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/header',\n\t\t\t{ navigation_page }\n\t\t);\n\t},\n\tgetMenu: function(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/menu',\n\t\t\t{ navigation_page }\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/saveCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t);\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/applyFilterFields',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t);\n\t},\n\taddFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/addFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tgetFilter(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tabmeldung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/abmeldung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(stdsem, prestudent_id, grund) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/abmeldung/createAntrag', {\n\t\t\t\tstudiensemester: stdsem,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\tif (!Array.isArray(antrag_id))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t\t{ antrag_id }\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag_id.map(antrag => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t{ antrag_id: antrag.studierendenantrag_id },\n\t\t\t\t{ errorHeader: '#' + antrag.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t},\n\tunterbrechung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/unterbrechung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(studiensemester, prestudent_id, grund, datum_wiedereinstieg, attachment) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/createAntrag', {\n\t\t\t\tstudiensemester,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund,\n\t\t\t\tdatum_wiedereinstieg,\n\t\t\t\tattachment\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/cancelAntrag', {\n\t\t\t\tantrag_id\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t}\n\t},\n\twiederholung: {\n\t\tgetDetails(prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/' + prestudent_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tgetLvs(antrag_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getLvs/' + antrag_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tcreate(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/createAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/cancelAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tsaveLvs(forbiddenLvs, mandatoryLvs) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/saveLvs', {\n\t\t\t\tforbiddenLvs,\n\t\t\t\tmandatoryLvs\n\t\t\t});\n\t\t}\n\t},\n\tleitung: {\n\t\tgetStgs() {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getActiveStgs');\n\t\t},\n\t\tgetAntraege(url, config, params) {\n\t\t\treturn this.$fhcApi\n\t\t\t\t.get('/api/frontend/v1/studstatus/leitung/getAntraege/' + url)\n\t\t\t\t.then(res => res.data); // Return data for tabulator\n\t\t},\n\t\tgetHistory(antrag_id) {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getHistory/' + antrag_id)\n\t\t},\n\t\tgetPrestudents(query, signal) {\n\t\t\treturn this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/getPrestudents',\n\t\t\t\t{ query },\n\t\t\t\t{\n                                    signal: signal,\n                                    timeout: 30000\n                                }\n\t\t\t);\n\t\t},\n\t\tapprove(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treopen(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tunpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tobject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tapproveObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tdenyObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t}\n};","export default {\n\n  getView: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getView/${uid}`,{}\n    );\n  },\n\n  fotoSperre: function (value) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/fotoSperre/${value}`,\n      {}\n    );\n    \n  },\n\n  isStudent: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isStudent`,\n      {\n        uid:uid,\n      }\n    );\n  },\n\n  isMitarbeiter: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isMitarbeiter/${uid}`,\n      {}\n    );\n  },\n\n  getZustellAdresse: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellAdresse`,{}\n    );\n  },\n\n  getZustellKontakt: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellKontakt`,{}\n    );\n  },\n\n  getGemeinden: function(nation,zip){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getGemeinden/${nation}/${zip}`,\n      {}\n    );\n    \n  },\n  getAllNationen:function(){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      \"/api/frontend/v1/Profil/getAllNationen\",{}\n    );\n  },\n}","export default {\n    //! API calls for profil update requests\n  \n    getStatus: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getStatus`,{});\n    },\n  \n    getTopic: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getTopic`,{});\n    },\n  \n    acceptProfilRequest: function ({profil_update_id, uid, status_message, topic, requested_change}) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/acceptProfilRequest\",{profil_update_id, uid, status_message, topic, requested_change});\n    },\n  \n    denyProfilRequest: function ({profil_update_id, uid, topic, status_message}) {\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/denyProfilRequest\",{profil_update_id,uid,topic,status_message});\n    },\n  \n    insertFile: function (dms, replace = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n        dms);\n\n    },\n    \n    getProfilRequestFiles: function (requestID) {\n      return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`,{});\n    },\n  \n    selectProfilRequest: function (uid = null, id = null) {\n\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/selectProfilRequest`,\n        {...(uid?{uid}:{}),\n          ...(id?{id}:{})\n        });\n    },\n  \n    insertProfilRequest: function (topic, payload, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/insertProfilRequest\",\n        {\n          topic,\n          payload,\n          ...(fileID ? { fileID } : {}),\n        });\n    },\n  \n    updateProfilRequest: function (topic, payload, ID, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/updateProfilRequest`,\n        {\n          topic,\n          payload,\n          ID,\n          ...(fileID ? { fileID: fileID } : {}),\n        });\n    },\n  \n    deleteProfilRequest: function (requestID) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/deleteProfilRequest`,\n        {\n          requestID,\n        });\n    },\n  };\n  ","\nexport default {\n\tgetRoomInfo(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getRoomplan',\n\t\t\t{  ort_kurzbz, start_date, end_date}\n\t\t);\n\t},\n\tgetStunden() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/Stunden',\n\t\t\t{}\n\t\t);\n\t},\n\tgetOrtReservierungen(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/LvPlan/getReservierungen/${ort_kurzbz}`,\n\t\t\t{ start_date, end_date}\n\t\t);\n\t},\n\tgetLvPlanReservierungen(start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getReservierungen',\n\t\t\t{ start_date, end_date }\n\t\t);\n\t},\n\tgetLehreinheitStudiensemester(lehreinheit_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${lehreinheit_id}`,\n\t\t\t{}\n\t\t);\n\t},\n\tstudiensemesterDateInterval(date) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${date}`,\n\t\t\t{}\n\t\t);\n\t},\n\tLvPlanEvents(start_date, end_date, lv_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/LvPlanEvents',\n\t\t\t{ start_date, end_date, lv_id }\n\t\t);\n\t},\n\t\n\t\n};","import verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport group from './stv/group.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport archiv from './stv/archiv.js';\nimport documents from './stv/documents.js';\nimport exemptions from './stv/exemptions.js';\nimport jointstudies from \"./stv/jointstudies.js\";\nimport courselist from './stv/courselist.js';\n\nexport default {\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tgroup,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tarchiv,\n\tdocuments,\n\texemptions,\n\tjointstudies,\n\tcourselist,\n\tconfigStudent() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/student');\n\t},\n\tconfigStudents() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/students');\n\t}\n};\n","export default {\n\tget() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/verband');\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/stv/favorites');\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/stv/favorites/set', {\n\t\t\t\tfavorites\n\t\t\t});\n\t\t}\n\t}\n}","export default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tverband(relative_path) {\n\t\treturn this.$fhcApi.getUri('api/frontend/v1/stv/students/' + relative_path);\n\t}\n}","export default {\n\tgetStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/filter/getStg');\n\t},\n\tsetStg(studiengang_kz) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/filter/setStg', {\n\t\t\tstudiengang_kz\n\t\t});\n\t}\n};","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/konto/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id),\n\t\t\t\tonly_open: self.filter,\n\t\t\t\tstudiengang_kz: self.studiengang_kz_intern ? self.stg_kz : ''\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tcheckDoubles(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/checkDoubles', data, {\n\t\t\tconfirmErrorHandler: error => true\n\t\t});\n\t},\n\tinsert(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/insert', data);\n\t},\n\tcounter(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/counter', data);\n\t},\n\tedit(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/update', data);\n\t},\n\tdelete(buchungsnr) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/delete', {buchungsnr});\n\t},\n\tgetBuchungstypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/konto/getBuchungstypen');\n\t}\n};","export default {\n\tgetGruppen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/Gruppen/getGruppen/' + params.id);\n\t},\n\tdeleteGroup(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/Gruppen/deleteGruppe/', params);\n\t}\n}","export default {\n\t//------------- address.js-----------\n\tgetAdressen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressen/' + params.id);\n\t},\n\taddNewAddress(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewAddress/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadAddress(address_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadAddress/', {address_id});\n\t},\n\tupdateAddress(form, address_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteAddress(address_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteAddress/', {address_id});\n\t},\n\tgetPlaces(plz) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getPlaces/' + plz);\n\t},\n\tgetFirmen(searchString) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getFirmen/' + searchString);\n\t},\n\tgetNations() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getNations/');\n\t},\n\tgetAdressentypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressentypen/');\n\t},\n\n\t//------------- bankverbindung.js-----------\n\tgetBankverbindung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getBankverbindung/' + params.id);\n\t},\n\taddNewBankverbindung(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewBankverbindung/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadBankverbindung(bankverbindung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadBankverbindung/', {bankverbindung_id});\n\t},\n\tupdateBankverbindung(form, bankverbindung_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateBankverbindung/' + bankverbindung_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteBankverbindung(bankverbindung_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteBankverbindung/', {bankverbindung_id});\n\t},\n\n\t//------------- contact.js-----------\n\tgetKontakte (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakte/' + params.id);\n\t},\n\taddNewContact(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewContact/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadContact(kontakt_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadContact/', {kontakt_id});\n\t},\n\tupdateContact(form, kontakt_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateContact/' + kontakt_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteContact(kontakt_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteContact/', {kontakt_id});\n\t},\n\tgetStandorteByFirma(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getStandorteByFirma/' + searchString);\n\t},\n\tgetKontakttypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakttypen/');\n\t}\n};","export default {\n\n//------------- Prestudent.js------------------------------------------------------\n\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn \tthis.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/prestudent/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t);\n\t},\n\tupdatePrestudent(form, prestudent_id, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/prestudent/updatePrestudent/' + prestudent_id,\n\t\t\tdata\n\t\t);\n\t},\n\tgetBezeichnungZGV() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungZGV/');\n\t},\n\tgetBezeichnungMZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungMZgv/');\n\t},\n\tgetBezeichnungDZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungDZgv/');\n\t},\n\tgetStgs() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStgs/');\n\t},\n\tgetAusbildung() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAusbildung/');\n\t},\n\tgetAufmerksamdurch() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAufmerksamdurch/');\n\t},\n\tgetBerufstaetigkeit() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBerufstaetigkeit/');\n\t},\n\tgetTypenStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getTypenStg/');\n\t},\n\tgetBisstandort() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBisstandort/');\n\t},\n\n//------------- MultiStatus.js------------------------------------------------------\n\tgetHistoryPrestudent (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getHistoryPrestudent/' + params.id);\n\t},\n\tgetMaxSem(studiengang_kzs) {\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/status/getMaxSemester/', {studiengang_kzs});\n\t},\n\tadvanceStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/advanceStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tconfirmStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/confirmStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tisLastStatus(id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/isLastStatus/' + id);\n\t},\n\tdeleteStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/deleteStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tgetLastBismeldestichtag() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getLastBismeldestichtag/');\n\t},\n\n//------------- History.js------------------------------------------------------\n\tgetHistoryPrestudents (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getHistoryPrestudents/' + params.id);\n\t},\n\n}","export default {\n\n//------------- Modal.js------------------------------------------------------\n\n\tinsertStatus(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/status/insertStatus/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/status/loadStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tupdateStatus(form, {prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}, data) {\n\t\treturn this.$fhcApi.post(\n\t\t\tform,\n\t\t\t'api/frontend/v1/stv/status/updateStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester,\n\t\t\tdata\n\t\t);\n\t},\n\tgetStudienplaene(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudienplaene/' + prestudent_id);\n\t},\n\tgetStudiengang(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudiengang/' + prestudent_id);\n\t},\n\tgetStatusgruende() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusgruende/');\n\t},\n\tgetStati() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStati/');\n\t},\n\n//------------- Dropdown.js------------------------------------------------------\n\n\taddStudent(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/addStudent/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tchangeStatus(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/changeStatus/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tgetStatusarray() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusarray/');\n\t}\n}","export default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/student/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(url);\n\t},\n\tsave(form, prestudent_id, studiensemester_kurzbz, data) {\n\t\tlet url = 'api/frontend/v1/stv/student/save/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(form, url, data);\n\t},\n}\n","export default {\n\tgetPruefungen(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getPruefungen/' + params.id);\n\t},\n\tloadPruefung(pruefung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/loadPruefung/' + pruefung_id);\n\t},\n\tgetTypenPruefungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getTypenPruefungen');\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/getAllLehreinheiten/', data)\n\t},\n\tgetLvsByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsByStudent/' + uid)\n\t},\n\tgetLvsandLesByStudent(uid, semester){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsandLesByStudent/' + uid + '/' + semester);\n\t},\n\tgetLvsAndMas(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsAndMas/' + uid)\n\t},\n\tgetMitarbeiterLv(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getMitarbeiterLv/' + id)\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getNoten');\n\t},\n\tcheckZeugnisnoteLv(data){\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/', data)\n\t},\n\taddPruefung(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/insertPruefung/',  data);\n\t},\n\tupdatePruefung(form, id, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/updatePruefung/' + id,  data);\n\t},\n\tdeletePruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/deletePruefung/' + id)\n\t}\n}","export default {\n\n\tgetAbschlusspruefung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/' + params.id);\n\t},\n\taddNewAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/', data\n\t\t);\n\t},\n\tloadAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/', {id});\n\t},\n\tupdateAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/', data\n\t\t);\n\t},\n\tdeleteAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/', {id});\n\t},\n\tgetTypenAbschlusspruefung(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/');\n\t},\n\tgetTypenAntritte(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/');\n\t},\n\tgetBeurteilungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/');\n\t},\n\tgetAkadGrade(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getAkadGrade/', {studiengang_kz});\n\t},\n\tgetTypStudiengang(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/', {studiengang_kz});\n\t},\n\tgetMitarbeiter(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/' + searchString);\n\t},\n\tgetPruefer(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getPruefer/' + searchString);\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getNoten/');\n\t},\n\tcheckForExistingExams(uids) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/', {uids}\n\t\t);\n\t}\n}","export default {\n\tlist() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/grades/list');\n\t},\n\tgetCertificate(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getCertificate/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetTeacherProposal(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getTeacherProposal/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetRepeaterGrades(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getRepeaterGrades/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tupdateCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, note, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/updateCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz,\n\t\t\t\tnote\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tdeleteCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/deleteCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyTeacherProposalToCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyTeacherProposalToCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id, lv_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate',\n\t\t\t{\n\t\t\t\tstudierendenantrag_lehrveranstaltung_id\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lv_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tgetGradeFromPoints(points, lehrveranstaltung_id, studiensemester_kurzbz, manualErrorHandling) {\n\t\tconst config = manualErrorHandling ? {errorHandling: false} : {};\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/grades/getGradeFromPoints',\n\t\t\t{\n\t\t\t\t\"points\": points,\n\t\t\t\t\"lehrveranstaltung_id\": lehrveranstaltung_id,\n\t\t\t\t\"studiensemester_kurzbz\": studiensemester_kurzbz\n\t\t\t},\n\t\t\tconfig\n\t\t\t);\n\t}\n}","export default {\n\tgetMobilitaeten (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getMobilitaeten/' + params.id);\n\t},\n\tgetProgramsMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getProgramsMobility/');\n\t},\n\taddNewMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/insertMobility/', data);\n\t},\n\tloadMobility(bisio_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/loadMobility/' + bisio_id);\n\t},\n\tupdateMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/updateMobility/', data);\n\t},\n\tdeleteMobility(bisio_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobility/' + bisio_id);\n\t},\n\tgetLVList(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLVList/' + studiengang_kz);\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/getAllLehreinheiten/', data)\n\t},\n\tgetLvsandLesByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLvsandLesByStudent/' + uid);\n\t},\n\tgetPurposes(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getPurposes/' + params.id);\n\t},\n\tgetSupports(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getSupports/' + params.id);\n\t},\n\tgetListPurposes() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListPurposes/');\n\t},\n\tgetListSupports() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListSupports/');\n\t},\n\tdeleteMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilityPurpose/' + params.bisio_id, params);\n\t},\n\taddMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilityPurpose/' + params.bisio_id, params);\n\t},\n\tdeleteMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilitySupport/' + params.bisio_id, params);\n\t},\n\taddMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilitySupport/' + params.bisio_id, params);\n\t},\n\n}","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/archiv/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id)\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tgetArchivVorlagen() {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/getArchivVorlagen');\n\t},\n\tarchive(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archive',\n\t\t\tdata\n\t\t);\n\t},\n\tarchiveSigned(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archiveSigned',\n\t\t\tdata\n\t\t);\n\t},\n\tupdate(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/update', data);\n\t},\n\tdelete({akte_id, studiengang_kz}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/delete', {akte_id, studiengang_kz});\n\t}\n};\n","export default {\n\tgetDocumentsUnaccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tgetDocumentsAccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsAccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tdeleteZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteZuordnung/' + params.prestudent_id + '/' + params.dokument_kurzbz);\n\t},\n\tcreateZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/createZuordnung/'\n\t\t\t+ params.prestudent_id + '/'\n\t\t\t+ params.dokument_kurzbz);\n\t},\n\tloadAkte(akte_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/loadAkte/' + akte_id);\n\t},\n\tgetDoktypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDoktypen/');\n\t},\n\tupdateFile(akte_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/updateAkte/' + akte_id,\n\t\t\tdata);\n\t},\n\tdeleteFile(akte_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteAkte/' + akte_id);\n\t},\n\tuploadFile(prestudent_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/uploadDokument/' + prestudent_id,\n\t\t\tdata);\n\t},\n}","export default {\n\tgetAnrechnungen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getAnrechnungen/' + params.id);\n\t},\n\tgetLehrveranstaltungen(prestudent_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/' + prestudent_id);\n\t},\n\tgetBegruendungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getBegruendungen/');\n\t},\n\tgetLvsKompatibel(lv_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLvsKompatibel/' + lv_id);\n\t},\n\tgetLektoren(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLektoren/' + studiengang_kz);\n\t},\n\taddNewAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/insertAnrechnung/', data);\n\t},\n\tloadAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/loadAnrechnung/' + anrechnung_id);\n\t},\n\teditAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/updateAnrechnung/', data);\n\t},\n\tdeleteAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/anrechnungen/deleteAnrechnung/' + anrechnung_id);\n\t},\n}","export default {\n\tgetStudies(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudien/' + params.id);\n\t},\n\tgetTypenMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/');\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/');\n\t},\n\tgetStudyprograms(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/');\n\t},\n\tgetListPartner(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/');\n\t},\n\tgetStatiPrestudent(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/');\n\t},\n\tloadStudy(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/loadStudie/' + id);\n\t},\n\tinsertStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/insertStudie/', data);\n\t},\n\tupdateStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/updateStudie/', data);\n\t},\n\tdeleteStudy(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/GemeinsameStudien/deleteStudie/' + id);\n\t},\n\n}","export default {\n\tgetCourselist(url, config, params) {\n\t\t//corresponding logic controller Stundenplan.php\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStundenplan/'\n\t\t\t+ params.student_uid + '/'\n\t\t\t+ params.start_date + '/'\n\t\t\t+ params.end_date + '/'\n\t\t\t+ params.group_consecutiveHours + '/'\n\t\t\t+ params.dbStundenplanTable\n\t\t);\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStudiensemester/');\n\t},\n}","import person from \"./notiz/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetNotizen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getNotizen/' + params.id + '/' + params.type);\n\t},\n\tgetUid(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getUid/');\n\t},\n\taddNewNotiz(form, id, formData) {\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/addNewNotiz/' + id,\n\t\t\tformData\n\t\t);\n\t},\n\tloadNotiz(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadNotiz/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tloadDokumente(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadDokumente/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tdeleteNotiz(notiz_id, type_id, id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/deleteNotiz/', {\n\t\t\tnotiz_id,\n\t\t\ttype_id,\n\t\t\tid\n\t\t});\n\t},\n\tupdateNotiz(form, notiz_id, formData){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/updateNotiz/' + notiz_id,\n\t\t\tformData\n\t\t);\n\t},\n\tgetMitarbeiter(event){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getMitarbeiter/' + event);\n\t},\n\tisBerechtigt(id, type_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/isBerechtigt/');\n\t}\n}","import person from \"./betriebsmittel/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetAllBetriebsmittel(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + params.type + '/' + params.id);\n\t},\n\taddNewBetriebsmittel(form, person_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' +\n\t\t\tperson_id, formData\n\t\t);\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id);\n\t},\n\tupdateBetriebsmittel(form, betriebsmittelperson_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tformData);\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id);\n\t},\n\tgetTypenBetriebsmittel(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/');\n\t},\n\tloadInventarliste(query){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery);\n\t}\n}","export default {\n\tupdatePersonUnrulyStatus(person_id, unrulyParam) {\n\n\t\ttry {\n\t\t\tconst payload = {person_id, unruly: unrulyParam}\n\t\t\tconst url = '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus';\n\t\t\treturn this.$fhcApi.post(url, payload, null);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t},\n\tfilterPerson(payload, base = ''){\n\n\t\ttry {\n\t\t\tconst url = base + '/api/frontend/v1/checkperson/CheckPerson/filterPerson';\n\t\t\treturn axios.post(url, payload)\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t}\n}","export default {\n  getContentID(ort_kurbz) {\n\t\treturn this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            \"/api/frontend/v1/Ort/ContentID\",\n\t\t\t{ ort_kurzbz: ort_kurbz }\n\t\t);\n\t},\n\tgetRooms(datum, von, bis, typ, personenanzahl = 0) {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getRooms\",\n\t\t\t{ datum, von, bis, typ, personenanzahl }\n\t\t);\n\t},\n\tgetRoomTypes() {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getTypes\"\n\t\t);\n\t}\n}","export default {\n    content(content_id, version=null, sprache=null, sichtbar=null) {\n        return this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/content\",\n\t\t\t{ \n\t\t\t\tcontent_id: content_id,\n\t\t\t\t...(version?{version}:{}),\n\t\t\t\t...(sprache?{sprache}:{}),\n\t\t\t\t...(sichtbar?{sichtbar}:{}),\n            }\n        );\n    },\n\t//api function used for the news View that renders the html\n\tgetNews(page = 1, page_size = 10, sprache) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNews\",\n\t\t\t{\n\t\t\t\tpage,\n\t\t\t\tpage_size,\n\t\t\t\tsprache,\n\t\t\t},\n\t\t);\n\t},\n\t//api function used for the widget component\n\tnews(limit) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/news\",\n\t\t\t{\n\t\t\t\tlimit: limit\n\t\t\t}\n\t\t);\n\t},\n\tgetNewsRowCount: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNewsRowCount\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetNewsExtra: function(){\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getStudiengangInfoForNews\",\n\t\t\t{}\n\t\t);\n\t}\n  }","export default {\n    getStudentenMail(lehreinheit_id) {\n          return this.$fhcApi.get(\n              FHC_JS_DATA_STORAGE_OBJECT.app_root +\n              FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n              \"/api/frontend/v1/Lehre/lvStudentenMail\",\n              { lehreinheit_id: lehreinheit_id }\n          );\n      },\n\tgetLvInfo(studiensemester_kurzbz, lehrveranstaltung_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/LV/${studiensemester_kurzbz}/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentPruefungen(lehrveranstaltung_id){\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/Pruefungen/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektarbeiten(uid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${uid}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektabgaben(detail) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektabgaben`\n\t\t\t, {\n\t\t\t\tprojektarbeit_id: detail.projektarbeit_id,\n\t\t\t\tstudent_uid: detail.student_uid\n\t\t\t}\n\t\t);\n\t},\n\tpostStudentProjektarbeitEndupload(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tpostStudentProjektarbeitZwischenabgabe(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tgetStudentProjektarbeitAbgabeFile(paabgabe_id, student_uid) {\n\t\tconst url = `/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${paabgabe_id}&student_uid=${student_uid}`;\n\n\t\twindow.location = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + url\n\t},\n\tgetMitarbeiterProjektarbeiten(uid, all) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${all}`\n\t\t\t, {}\n\t\t);\n\t},\n\tpostProjektarbeitAbgabe(termin) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id: termin.paabgabe_id,\n\t\t\tpaabgabetyp_kurzbz: termin.bezeichnung.paabgabetyp_kurzbz,\n\t\t\tdatum: termin.datum,\n\t\t\tfixtermin: termin.fixtermin,\n\t\t\tinsertvon: termin.insertvon,\n\t\t\tkurzbz: termin.kurzbz,\n\t\t\tprojektarbeit_id: termin.projektarbeit_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t\t\n\t},\n\tdeleteProjektarbeitAbgabe(paabgabe_id) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tpostSerientermin(datum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids) {\n\t\tconst payload = {\n\t\t\tdatum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postSerientermin';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tfetchDeadlines(person_id) {\n\t\tconst payload = {\n\t\t\tperson_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/fetchDeadlines';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t}\n  }","export default {\n    getLvMenu(lvid, studiensemester_kurzbz) {\n        return this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            `/api/frontend/v1/LvMenu/getLvMenu/${lvid}/${studiensemester_kurzbz}`,\n            {}\n        );\n    },\n\n      \n  }","import person from \"./messages/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\t\tgetMessages(url, config, params) {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessages/' + params.id + '/' + params.type + '/' + params.size + '/' + params.page);\n\t\t},\n\t\tgetVorlagen(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getVorlagen/');\n\t\t},\n\t\tgetMsgVarsLoggedInUser(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/');\n\t\t},\n\t\tgetMessageVarsPerson(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessageVarsPerson/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetMsgVarsPrestudent(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsPrestudent/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPersonId(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getPersonId/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetUid(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getUid/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getDataVorlage/' + vorlage_kurzbz);\n\t\t},\n\t\tgetNameOfDefaultRecipient(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getNameOfDefaultRecipient/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPreviewText(params, data){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/getPreviewText/' + params.id + '/' + params.type_id,\n\t\t\t\tdata);\n\t\t},\n\t\tgetReplyData(messageId){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getReplyData/' + messageId);\n\t\t},\n\t\tsendMessageFromModalContext(form, id, data) {\n\t\t\treturn this.$fhcApi.post(form,'api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tsendMessage(id, data) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tdeleteMessage(messageId){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/deleteMessage/' + messageId);\n\t\t}\n}","export default {\n\tgetVorlagen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagen/');\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/');\n\t}\n}","export default {\n\n\tgetStudiensemester: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/components/Cis/Mylv/Studiensemester',\n\t\t\t{}\n\t\t);\n\t},\n\n\tgetAllStudienSemester: function (studiensemester=undefined, studiengang=undefined, semester=undefined, studienplan=undefined) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/Studium/getStudienAllSemester',\n\t\t\t{studiensemester, studiengang, semester, studienplan}\n\t\t);\n\t},\n\n\tgetStudiengaengeForStudienSemester: function (studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${studiensemester}`,\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudienplaeneBySemester: function (studiengang, studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudienplaeneBySemester`,\n\t\t\t{\n\t\t\t\tstudiengang,\n\t\t\t\tstudiensemester,\n\t\t\t}\n\t\t);\n\t},\n\tgetLvPlanForStudiensemester: function (studiensemester, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${studiensemester}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\tgetLvEvaluierungInfo: function (studiensemester_kurzbz, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getLvEvaluierungInfo/${studiensemester_kurzbz}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\t\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport search from \"./search.js\";\nimport phrasen from \"./phrasen.js\";\nimport navigation from \"./navigation.js\";\nimport filter from \"./filter.js\";\nimport studstatus from \"./studstatus.js\";\nimport profil from \"./profil.js\";\nimport profilUpdate from \"./profilUpdate.js\";\nimport lvPlan from \"./lvPlan.js\";\nimport bookmark from \"./bookmark.js\";\nimport stv from \"./stv.js\";\nimport notiz from \"./notiz.js\";\nimport betriebsmittel from \"./betriebsmittel.js\";\nimport checkperson from \"./checkperson.js\";\nimport ampeln from \"./ampeln.js\";\nimport ort from \"./ort.js\";\nimport cms from \"./cms.js\";\nimport lehre from \"./lehre.js\";\nimport addons from \"./addons.js\";\nimport messages from \"./messages.js\";\nimport vorlagen from \"./vorlagen.js\";\nimport studiengang from \"./studiengang.js\";\nimport menu from \"./menu.js\";\nimport dashboard from \"./dashboard.js\";\nimport authinfo from \"./authinfo.js\";\nimport studium from \"./studium.js\";\nimport language from \"./language.js\";\n\nexport default {\n    search,\n    phrasen,\n    navigation,\n    dashboard,\n    filter,\n    studstatus,\n    profil,\n    profilUpdate,\n    lvPlan,\n    bookmark,\n    stv,\n    notiz,\n    betriebsmittel,\n    checkperson,\n    ampeln,\n    ort,\n    cms,\n    lehre,\n    addons,\n    messages,\n    vorlagen,\n    addons,\n\tstudiengang,\n\tmenu,\n\tauthinfo,\n\tstudium,\n    language\n};\n","export default {\n\tasync getViewData() {\n\t\tconst url = `/api/frontend/v1/Cis4FhcApi/getViewData`;\n\t\treturn this.$fhcApi.get(url, null, null)\n\t},\n}","export default {\n\n    getBookmarks: function () {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/getBookmarks`\n        ,{}\n      );\n    },\n  \n    delete: function (bookmark_id) {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/delete/${bookmark_id}`\n        ,{}\n      ); \n    },\n\n\tupdate: function ({ bookmark_id, url, title, tag=null}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/Bookmark/update/${bookmark_id}`\n\t\t\t, {\n\t\t\t\turl: url,\n\t\t\t\ttitle: title\n\t\t\t}\n\t\t);\n\t},\n\n    insert: function ({url, title, tag}) {\n      return this.$fhcApi.post(\n        `/api/frontend/v1/Bookmark/insert`\n        ,{\n          url: url,\n          title: title,\n          tag: tag\n        }\n      ); \n    },\n}","export default {\n    \n    open: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/open`,{});\n    },\n\n    all: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/all`,{});\n    },\n\n    confirm: function (ampel_id) {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/confirm/${ampel_id}`,{});\n    },\n\n}","export default {\n\tstudiengangInformation: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Studgang/getStudiengangInfo\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudiengangByKz: function (studiengang_kz) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz\",\n\t\t\t{\n\t\t\t\t\"studiengang_kz\": studiengang_kz\n\t\t\t}\n\t\t);\n\t}\n}","export default {\n\tgetMenu: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/CisMenu/getMenu\",\n\t\t\t{}\n\t\t);\n\t}\n\n}","\nexport default {\n\tgetAuthUID() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthUID',\n\t\t\t{ }\n\t\t);\n\t},\n\tgetAuthInfo() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthInfo',\n\t\t\t{}\n\t\t);\n\t},\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAll() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/language/get');\n\t}\n};","/** TODO(chris):\n * when deleting this file be sure to\n * remove line 1 & 90 from ../plugins/Phrasen.js\n */\nimport FhcApiFactory from '../api/fhcapifactory.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\tconsole.warn('$fhcApi.getUri is DEPRECATED! Use $api.getUri instead.');\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\tconsole.warn('$fhcApi.get is DEPRECATED! Use $api.get instead.');\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\tconsole.warn('$fhcApi.post is DEPRECATED! Use $api.post instead.');\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart, true)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart, noWarn) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif (!noWarn) console.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","import FhcAlert from './FhcAlert.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$api) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!app.config.globalProperties.$fhcAlert)\n\t\t\tapp.use(FhcAlert);\n\n\t\tfunction _send_array_or_object(errors, func) {\n\t\t\tif (Array.isArray(errors))\n\t\t\t\terrors.forEach(func);\n\t\t\telse\n\t\t\t\tObject.entries(errors).forEach(\n\t\t\t\t\t([title, errs]) => errs.forEach(\n\t\t\t\t\t\terror => func(error, title)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t\tlet DEFAULT_ERROR_CONFIG = {\n\t\t\tsuccess: true,\n\t\t\tfail: true,\n\t\t\tcombine: {\n\t\t\t\tform: ['validation', 'general'],\n\t\t\t\ttoast: ['validation', 'general', 'not_found', 'site_failed']\n\t\t\t},\n\t\t\thandler: {\n\t\t\t\tform(form, errors) {\n\t\t\t\t\tform.clearValidation();\n\t\t\t\t\terrors.forEach(err => form.setFeedback(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\terr.messages || err.message\n\t\t\t\t\t));\n\t\t\t\t},\n\t\t\t\tasync toast(errors) {\n\t\t\t\t\tconst $p = app.config.globalProperties.$p;\n\t\t\t\t\tif (!$p)\n\t\t\t\t\t\treturn Promise.reject('Phrasen plugin not loaded!');\n\t\t\t\t\n\t\t\t\t\tasync function _format_toast(errors) {\n\t\t\t\t\t\terrors = errors.reduce((result, err) => {\n\t\t\t\t\t\t\tswitch (err.type) {\n\t\t\t\t\t\t\tcase 'not_found':\n\t\t\t\t\t\t\tcase 'site_failed':\n\t\t\t\t\t\t\t\tif (err.message)\n\t\t\t\t\t\t\t\t\tresult[err.message] = [err.url];\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tresult._default = [err.url];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'general':\n\t\t\t\t\t\t\t\tif (!result._default)\n\t\t\t\t\t\t\t\t\tresult._default = [];\n\t\t\t\t\t\t\t\tresult._default.push(err.message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'validation':\n\t\t\t\t\t\t\t\tObject.entries(err.messages)\n\t\t\t\t\t\t\t\t\t.forEach(([field, msg]) => {\n\t\t\t\t\t\t\t\t\t\tif (!result[field])\n\t\t\t\t\t\t\t\t\t\t\tresult[field] = [];\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(msg))\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(...msg);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(msg);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tlet counter = 0;\n\t\t\t\t\t\tconst msgs = await Promise.all(Object.entries(errors)\n\t\t\t\t\t\t\t.sort((a, b) => ['_default'].indexOf(b[0]) - ['_default'].indexOf(a[0])) // sort _default first\n\t\t\t\t\t\t\t.map(async ([field, msgs]) => {\n\t\t\t\t\t\t\t\tif (field == '_default') {\n\t\t\t\t\t\t\t\t\tawait $p.loadCategory('dashboard');\n\t\t\t\t\t\t\t\t\tconst general = $p.t('dashboard/general');\n\t\t\t\t\t\t\t\t\tfield = '<dt class=\"d-none\">' + general + '</dt>';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield = '<dt>' + field + '</dt>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcounter += msgs.length;\n\t\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t\t+ '<dd>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('</dd><dd>')\n\t\t\t\t\t\t\t\t\t+ '</dd>';\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcounter,\n\t\t\t\t\t\t\tmsgs\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter, msgs;\n\t\t\t\t\tif (Array.isArray(errors)) {\n\t\t\t\t\t\t({ counter, msgs } = await _format_toast(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t({ counter, msgs } = await Object.entries(errors)\n\t\t\t\t\t\t\t.reduce(async (res, [title, errs]) => {\n\t\t\t\t\t\t\t\tconst result = await res;\n\t\t\t\t\t\t\t\tconst { counter, msgs } = await _format_toast(errs);\n\t\t\t\t\t\t\t\tresult.counter += counter;\n\t\t\t\t\t\t\t\tresult.msgs.push('<dt>'\n\t\t\t\t\t\t\t\t\t+ title\n\t\t\t\t\t\t\t\t\t+ '</dt><dd><dl>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('')\n\t\t\t\t\t\t\t\t\t+ '</dl></dd>');\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}, Promise.resolve({ counter: 0, msgs: []})));\n\t\t\t\t\t}\n\n\t\t\t\t\tawait $p.loadCategory('ui');\n\t\t\t\t\tconst n_errors = $p.t('ui/n_errors', { n: counter });\n\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\tn_errors,\n\t\t\t\t\t\t'<dl>' + msgs.join('') + '</dl>',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tphp(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('warn', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('info', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\tmessage = title + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\texception(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tdb(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tauth(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\ttitle += ': ' + error.message;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttitle = error.message;\n\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (options?.errorHandling !== undefined)\n\t\t\tDEFAULT_ERROR_CONFIG = _merge_error_config(options.errorHandling);\n\t\t\n\t\tfunction get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\t\tfunction clean_return_value(response) {\n\t\t\tif (typeof response.data === 'string' || response.data instanceof String)\n\t\t\t\treturn clean_return_value({ data: response });\n\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = { response };\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tfunction _merge_error_config(config) {\n\t\t\tif (config === false || config === 'off')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false, fail: false };\n\t\t\t\n\t\t\tif (!config || config === true)\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tif (config === 'success')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, fail: false };\n\t\t\t\n\t\t\tif (config === 'fail')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false };\n\t\t\t\n\t\t\tconst { success, fail, handler, combine } = config;\n\t\t\t\n\t\t\tconfig = { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tObject.entries({ fail, success }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = value;\n\t\t\t});\n\t\t\tObject.entries({ handler, combine }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = { ...config[key], ...value };\n\t\t\t});\n\n\t\t\treturn config;\n\t\t}\n\t\tfunction get_error_handler(config) {\n\t\t\tconst result = _merge_error_config(config?.errorHandling);\n\n\t\t\tif (!config?.form) {\n\t\t\t\tresult.combine = { ...result.combine, form: [] };\n\t\t\t} else {\n\t\t\t\tconst formHandler = result.handler.form;\n\t\t\t\tresult.handler = { ...result.handler, form: errors => formHandler(config.form, errors) };\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tfunction get_error_list(error) {\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'not_found',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tif (error.response.data.errors == undefined) return [];\n\t\t\t\t\treturn error.response.data.errors;\n\t\t\t\t}\n\t\t\t} else if (error.request) {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'site_failed',\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'script',\n\t\t\t\t\tmessage: error.message\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\tfunction popHandleableErrors(errorHandling, errors) {\n\t\t\tconst result = {};\n\t\t\tconst copy = [];\n\n\t\t\tif (errors == undefined) return {};\n\n\t\t\twhile (errors.length)\n\t\t\t\tcopy.push(errors.pop());\n\t\t\tfor (var error of copy) {\n\t\t\t\tlet type = error.type;\n\t\t\t\tlet newType = null;\n\t\t\t\tfor (var t in errorHandling.combine) {\n\t\t\t\t\tlet newTypeCombinesType = errorHandling\n\t\t\t\t\t\t.combine[t]\n\t\t\t\t\t\t.includes(type);\n\t\t\t\t\tlet newTypeHasHandler = errorHandling.handler[t];\n\t\t\t\t\tif (newTypeCombinesType && newTypeHasHandler) {\n\t\t\t\t\t\tnewType = t;\n\t\t\t\t\t\tif (newType == 'form')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newType)\n\t\t\t\t\ttype = newType;\n\t\t\t\tconst handler = errorHandling.handler[type];\n\t\t\t\tif (handler) {\n\t\t\t\t\tif (!result[type])\n\t\t\t\t\t\tresult[type] = [];\n\t\t\t\t\tif (Array.isArray(error))\n\t\t\t\t\t\tresult[type].push(...error);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult[type].push(error);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\terrors.push(error);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t+ FHC_JS_DATA_STORAGE_OBJECT.ci_router\n\t\t\t\t+ \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(\n\t\t\tresponse => {\n\t\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\t\treturn clean_return_value(response);\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\tif (response.data.errors)\n\t\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$api._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t\t);\n\n\t\t\t\treturn clean_return_value(response);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\n\t\t\t\tconst errorConfig = get_error_handler(error.config);\n\n\t\t\t\tif (!errorConfig.fail)\n\t\t\t\t\treturn Promise.reject(error);\n\n\t\t\t\tconst remaining = get_error_list(error);\n\n\t\t\t\tconst errors = popHandleableErrors(errorConfig, remaining);\n\n\t\t\t\tfor (var type in errors) {\n\t\t\t\t\terrorConfig.handler[type](errors[type]);\n\t\t\t\t}\n\n\t\t\t\tif (remaining.length)\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\n\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\t\t\t}\n\t\t);\n\n\t\tapp.config.globalProperties.$api = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\tcall(factory, configoverwrite, form) {\n\t\t\t\tif (Array.isArray(factory)) {\n\t\t\t\t\tconst $api = app.config.globalProperties.$api;\n\n\t\t\t\t\treturn Promise\n\t\t\t\t\t\t.allSettled(factory.map((config, index) => {\n\t\t\t\t\t\t\tif (!Array.isArray(config))\n\t\t\t\t\t\t\t\tconfig = ['#' + index, config];\n\t\t\t\t\t\t\treturn $api.call(config[1], {\n\t\t\t\t\t\t\t\terrorHeader: config[0],\n\t\t\t\t\t\t\t\terrorHandling: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst [ , , config ] = get_config(form, undefined, undefined, configoverwrite || {});\n\t\t\t\t\t\t\tconst errorConfig = get_error_handler(config);\n\n\t\t\t\t\t\t\tif (!errorConfig.success && !errorConfig.fail) {\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst typedErrors = {};\n\t\t\t\t\t\t\tfor (var res of result) {\n\t\t\t\t\t\t\t\tconst [ allowed, item ] = res.status === 'fulfilled'\n\t\t\t\t\t\t\t\t\t? [ errorConfig.success, res.value ]\n\t\t\t\t\t\t\t\t\t: [ errorConfig.fail, res.reason ];\n\t\t\t\t\t\t\t\tif (!allowed)\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tconst errors = popHandleableErrors(errorConfig, get_error_list(item));\n\n\t\t\t\t\t\t\t\tfor (var type in errors) {\n\t\t\t\t\t\t\t\t\tif (!typedErrors[type])\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type] = {\n\t\t\t\t\t\t\t\t\t\t\t[item.config.errorHeader]: errors[type]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type][item.config.errorHeader] = errors[type];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var errType in typedErrors) {\n\t\t\t\t\t\t\t\terrorConfig.handler[errType](typedErrors[errType]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet { method, url, params, config } = factory;\n\t\t\t\tif (configoverwrite !== undefined) {\n\t\t\t\t\tconfig = configoverwrite;\n\t\t\t\t}\n\t\t\t\tif (!method) {\n\t\t\t\t\tmethod = 'get';\n\t\t\t\t}\n\t\t\t\tif (method.toLowerCase)\n\t\t\t\t\tmethod = method.toLowerCase();\n\t\t\t\tif (method == 'get') {\n\t\t\t\t\treturn this.get(form, url, params, config);\n\t\t\t\t} else if (method == 'post') {\n\t\t\t\t\treturn this.post(form, url, params, config);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"FhcApi: method not allowed:\", method);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetErrorHandler(config) {\n\t\t\t\treturn get_error_handler(config);\n\t\t\t}\n\t\t};\n\n\t\tapp.provide('$api', app.config.globalProperties.$api);\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/loadModule/' + category\n\t\t};\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst params = {categories, language}\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/phrasen/setLanguage',\n\t\t\tparams\n\t\t};\n\t},\n\tgetLanguage() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getLanguage'\n\t\t};\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getAllLanguages'\n\t\t};\n\t}\n};","import OldFhcApi from '../plugin/OldFhcApi.js'; // TODO(chris): remove at some point\nimport PluginsApi from './Api.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(ApiPhrasen.loadCategory(category))\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tif (!app.config.globalProperties.$fhcApi)\n\t\t\tapp.use(OldFhcApi); // TODO(chris): remove at some point\n\t\tif (!app.config.globalProperties.$api)\n\t\t\tapp.use(PluginsApi);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n//--------------------------------------------------------------------------------------------------------------------\n// Configs\n\n// To see debug messages into the browser console set this parameter as true\nconst CORE_REST_CLIENT_DEBUG = false;\n\n// Default timeout (milliseconds)\nconst CORE_REST_CLIENT_TIMEOUT = 5000;\n\n//--------------------------------------------------------------------------------------------------------------------\n// Constants\n\n// Success\nconst CORE_REST_CLIENT_SUCCESS = 0;\n\n// Properties present in a response\nconst CORE_REST_CLIENT_ERROR = \"error\";\nconst CORE_REST_CLIENT_RETVAL = \"retval\";\n\n// HTTP method parameters\nconst CRC_HTTP_GET_METHOD = \"get\";\nconst CRC_HTTP_POST_METHOD = \"post\";\n\n/**\n * Definition and initialization of the object CoreRESTClient\n */\nexport const CoreRESTClient = {\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Public methods\n\n\t/**\n\t * Performs a call using the HTTP GET method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tget: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_GET_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Performs a call using the HTTP POST method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tpost: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_POST_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Checks if the response is a success\n\t */\n\tisSuccess: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR)\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL) && response.error == CORE_REST_CLIENT_SUCCESS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Checks if the response is an error\n\t */\n\tisError: function(response) {\n\t\treturn !CoreRESTClient.isSuccess(response);\n\t},\n\n\t/**\n\t * Checks if the response has data\n\t */\n\thasData: function(response) {\n\n\t\tif (CoreRESTClient.isSuccess(response))\n\t\t{\n\t\t\tif ((typeof response[CORE_REST_CLIENT_RETVAL] === \"object\" && Object.keys(response[CORE_REST_CLIENT_RETVAL]).length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"array\" && response[CORE_REST_CLIENT_RETVAL].length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"string\" && response[CORE_REST_CLIENT_RETVAL].trim() != \"\")\n\t\t\t\t|| typeof response[CORE_REST_CLIENT_RETVAL] === \"number\")\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Retrives data from response object\n\t */\n\tgetData: function(response) {\n\n\t\tif (CoreRESTClient.hasData(response))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Retrives error message from response object\n\t */\n\tgetError: function(response) {\n\n\t\tif (typeof response === \"object\"\n\t\t\t&& Object.keys(response).length > 0\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn \"Generic error\";\n\t},\n\n\t/**\n\t * Retrives code from response object\n\t */\n\tgetErrorCode: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_ERROR];\n\t\t}\n\n\t\treturn 1; // Generic error\n\t},\n\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Private methods\n\n\t/**\n\t * Generate the router URI using the connection parameters\n\t */\n\t_generateRouterURI: function(wsURL) {\n\t\tvar uri = null;\n\n\t\t// Checks if global JS object FHC_JS_DATA_STORAGE_OBJECT exists\n\t\tif (typeof FHC_JS_DATA_STORAGE_OBJECT !== \"undefined\")\n\t\t{\n\t\t\turi = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\" + wsURL;\n\t\t}\n\n\t\treturn uri;\n\t},\n\n\t/**\n\t * Method to print debug info after a controller has been called\n\t */\n\t_printDebug: function(parameters, response, errorThrown) {\n\n\t\tif (CORE_REST_CLIENT_DEBUG === true) // If global const CORE_REST_CLIENT_DEBUG is true, but really true!\n\t\t{\n\t\t\t// Print info about called controller\n\t\t\tconsole.log(\"Called controller: \" + parameters.remoteController);\n\t\t\tconsole.log(\"Call parameters:\"); // parameters given to this call\n\t\t\tconsole.log(parameters);\n\n\t\t\tif (response != null) // if there is a response...\n\t\t\t{\n\t\t\t\tconsole.log(\"Controller Response:\");\n\t\t\t\tconsole.log(response); // ...print it\n\t\t\t}\n\t\t\tif (errorThrown != null) // if there is a jQuery error...\n\t\t\t{\n\t\t\t\tconsole.log(\"jQuery error:\");\n\t\t\t\tconsole.log(errorThrown); // ...print it\n\t\t\t}\n\t\t\tconsole.log(\"--------------------------------------------------------------------------------------------\");\n\t\t}\n\t},\n\n\t/**\n\t * Performs a call to the server were the CI PHP layer is running\n\t * - wsURL: alias of the core controller to call\n\t * - wsParameters: parameters to give to the called controller\n\t * - type: POST or GET HTTP method\n\t * - axiosParameters: an object to configure the axios call\n\t */\n\t_axiosCall: function(wsURL, wsParameters, type, axiosParameters) {\n\n\t\t// Axios config object\n\t\tlet axiosCallObj = {\n\t\t\tmethod: type,\n\t\t\turl: CoreRESTClient._generateRouterURI(wsURL),\n\t\t\ttimeout: CORE_REST_CLIENT_TIMEOUT // default time out\n\t\t};\n\n\t\t// The ajax call is HTTP GET\n\t\tif (type == CRC_HTTP_GET_METHOD)\n\t\t{\n\t\t\taxiosCallObj.params = wsParameters;\n\t\t}\n\t\t// The ajax call is HTTP POST\n\t\telse\n\t\t{\n\t\t\taxiosCallObj.data = wsParameters;\n\t\t}\n\n\t\t// Check if axiosParameters is an object\n\t\tif (typeof axiosParameters === \"object\")\n\t\t{\n\t\t\t// And then copies the its properties into axiosCallObj\n\t\t\tfor (var prop in axiosParameters) axiosCallObj[prop] = axiosParameters[prop];\n\t\t}\n\n\t\t// Perform the ajax call via axios\n\t\treturn axios(axiosCallObj);\n\t}\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n * \n * @usage:\n * Preperations:\n * Be sure to have PrimeVue loaded  with the toast and confirmdialog\n * components as primevue variable\n * Install:\n * Import this Plugin and install it with the app.use() function.\n * Use:\n * In your component you can call now the global property $fhcAlert\n * which has the following functions:\n * \n * alertSuccess\n * ------------\n * Displays a success message\n * @param string\tmessage\n * @return void\n * \n * alertInfo\n * ---------\n * Displays an info message\n * @param string\tmessage\n * @return void\n * \n * alertWarning\n * ------------\n * Displays a warning\n * @param string\tmessage\n * @return void\n * \n * alertError\n * ----------\n * Displays an error\n * @param string\tmessage\n * @return void\n * \n * alertSystemError\n * ----------------\n * Displays an alert with the error details and a button to mail\n * the error to the Support Team\n * @param string\tmessage\n * @return void\n * \n * confirmDelete\n * -------------\n * Displays a confirmation dialog and returns a Promise which resolves\n * with true or false depending und the pressed button.\n * @return Promise\n * \n * alertDefault\n * ------------\n * Displays an alert\n * @param string\tseverity\t\tcan be 'success', 'info', 'warning', 'error'\n * @param string\ttitle\n * @param string\tmessage\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * alertMultiple\n * -------------\n * Displays multiple alerts\n * @param array\t\tmessageArray\n * @param string\tseverity\t\t(optional) defaults to 'info'\n * @param string\ttitle\t\t\t(optional) defaults to 'Info'\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * handleSystemError\n * -----------------\n * Automatiticly determine how to display an system error and display it.\n * This would be used in a catch block of an ajax call.\n * @param mixed\t\terror\n * @return void\n * \n * handleSystemMessage\n * -------------------\n * Automatiticly determine how to display a message and display it.\n * @param mixed\t\tmessage\n * @return void\n */\nimport PvConfig from \"../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js\";\nimport PvToast from \"../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js\";\nimport PvConfirm from \"../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js\";\nimport PvConfirmationService from \"../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js\";\nimport FhcPhrasen from \"./Phrasen.js\";\n\nimport {CoreRESTClient} from '../RESTClient.js';\n\nconst helperAppContainer = document.createElement('div');\n\nconst helperApp = Vue.createApp({\n\tname: \"FhcAlertApp\",\n\tcomponents: {\n\t\tPvToast,\n\t\tPvConfirm\n\t},\n\tmethods: {\n\t\tmailToUrl(slotProps) {\n\t\t\tlet mailTo = FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto;\n\t\t\tlet subject = 'Meldung%20Systemfehler';\n\t\t\tlet body = `\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausführlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewählt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: ` + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method + `%0D%0A\n\t\t\t\tFehler Meldung: ` + slotProps.message.detail + `%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kümmern uns um eine rasche Behebung des Problems!`\n\n\t\t\treturn \"mailto:\" + mailTo + \"?subject=\" + subject + \"&body=\" + body;\n\t\t},\n\t\topenMessagecard(e) {\n\t\t\tbootstrap.Collapse.getOrCreateInstance(e.target.getAttribute('href')).toggle();\n\t\t}\n\t},\n\tunmounted() {\n\t\thelperAppContainer.parentElement.removeChild(helperAppContainer);\n\t},\n\tcomputed: {\n\t\tshowmaillink: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto !== '';\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<pv-toast ref=\"toast\" class=\"fhc-alert\" :base-z-index=\"99999\">\n\t\t<template #message=\"{ message }\">\n\t\t\t<!--span :class=\"slotProps.iconClass\"></span-->\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{ message.summary }}</span>\n\t\t\t\t<div v-if=\"message.detail && message.html\" class=\"p-toast-detail\" v-html=\"message.detail\"></div>\n\t\t\t\t<div v-else-if=\"message.detail\" class=\"p-toast-detail\">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref=\"alert\" class=\"fhc-alert\" :base-z-index=\"99999\" position=\"center\">\n\t\t<template #message=\"slotProps\">\n\t\t\t<i class=\"fa fa-circle-exclamation fa-2xl mt-3\"></i>\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class=\"p-toast-detail my-3\">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"align-bottom flex-fill me-2\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\t:href=\"'#fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t:aria-controls=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\t@click=\"openMessagecard\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"showmaillink\"\n\t\t\t\t\t\tclass=\"btn btn-primary flex-fill\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t:href=\"mailToUrl(slotProps)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"messageCard\" :id=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\" class=\"collapse mt-3\">\n\t\t\t\t\t<div class=\"card card-body text-body small alertCollapseText\">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group=\"fhcAlertConfirm\"></pv-confirm>`\n});\n\nhelperApp.use(PvConfig);\nhelperApp.use(PvConfirmationService);\n//helperApp.use(FhcPhrasen);\n\nconst helperAppInstance = helperApp.mount(helperAppContainer);\n\ndocument.body.appendChild(helperAppContainer);\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (!app.config.globalProperties.$p)\n\t\t\tapp.use(FhcPhrasen);\n\n\t\tconst $fhcAlert = {\n\t\t\talertSuccess(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSuccess);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'success', summary: 'Info', detail: message, life: 1000});\n\t\t\t},\n\t\t\talertInfo(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertInfo);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'info', summary: 'Info', detail: message, life: 3000 });\n\t\t\t},\n\t\t\talertWarning(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertWarning);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'warn', summary: 'Achtung', detail: message});\n\t\t\t},\n\t\t\talertError(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertError);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'error', summary: 'Achtung', detail: message });\n\t\t\t},\n\t\t\talertSystemError(message) {\n\t\t\t\t//TODO(Manu) for translation of content of template: restructure in data\n\t\t\t\t//and update definitions with  translations\n\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSystemError);\n\t\t\t\thelperAppInstance.$refs.alert.add({\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\tsummary: Vue.computed(() => app.config.globalProperties.$p.t('alert/systemerror')),\n\t\t\t\t\tdetail: message});\n\t\t\t},\n\t\t\tconfirmDelete() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: 'fhcAlertConfirm',\n\t\t\t\t\t\theader: Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: Vue.computed(() => app.config.globalProperties.$p.t('alert/confirm_delete')),\n\t\t\t\t\t\tacceptLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/loeschen')),\n\t\t\t\t\t\tacceptClass: 'p-button-danger',\n\t\t\t\t\t\trejectLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: 'p-button-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfirm(options) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: options?.group ?? 'fhcAlertConfirm',\n\t\t\t\t\t\theader: options?.header ?? Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: options?.message ?? '',\n\t\t\t\t\t\tacceptLabel: options?.acceptLabel ?? 'Ok',\n\t\t\t\t\t\tacceptClass: options?.acceptClass ?? 'btn btn-primary',\n\t\t\t\t\t\trejectLabel: options?.rejectLabel ?? Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: options?.rejectClass ?? 'btn btn-outline-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\talertDefault(severity, title, message, sticky = false, html = false) {\n\t\t\t\tlet options = { severity: severity, summary: title, detail: message, html };\n\t\t\t\t\n\t\t\t\tif (!sticky)\n\t\t\t\t\toptions.life = 3000;\n\n\t\t\t\thelperAppInstance.$refs.toast.add(options);\n\t\t\t},\n\t\t\talertMultiple(messageArray, severity = 'info', title = 'Info', sticky = false, html = false){\n\t\t\t\t// Check, if array has only string values\n\t\t\t\tif (messageArray.every(message => typeof message === 'string')) {\n\t\t\t\t\tmessageArray.forEach(message => this.alertDefault(severity, title, message, sticky, html));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thandleSystemError(error) {\n\t\t\t\t// don't show an error message to the user if the error was an aborted request\n\t\t\t\tif(error.hasOwnProperty('name') && error.name.toLowerCase() === \"AbortError\".toLowerCase())\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is string\n\t\t\t\tif (typeof error === 'string')\n\t\t\t\t\treturn $fhcAlert.alertSystemError(error);\n\n\t\t\t\t// Error is array of strings\n\t\t\t\tif (Array.isArray(error) && error.every(err => typeof err === 'string'))\n\t\t\t\t\treturn error.every($fhcAlert.alertSystemError);\n\n\t\t\t\t// Error has been handled already\n\t\t\t\tif (error.hasOwnProperty('handled') && error.handled)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is object\n\t\t\t\tif (typeof error === 'object' && error !== null) {\n\t\t\t\t\tlet errMsg = '';\n\n\n\t\t\t\t\tif (error.hasOwnProperty('response') && error.response?.data?.retval)\n\t\t\t\t\t\terrMsg += 'Error Message: ' + (error.response.data.retval.message || error.response.data.retval) + '\\r\\n';\n\t\t\t\t\telse if (error.hasOwnProperty('message'))\n\t\t\t\t\t\terrMsg += 'Error Message: ' + error.message.toUpperCase() + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('config') && error.config.hasOwnProperty('url'))\n\t\t\t\t\t\terrMsg += 'Error ConfigURL: ' + error.config.url + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('stack'))\n\t\t\t\t\t\terrMsg += 'Error Stack: ' + error.stack + '\\r\\n';\n\t\t\t\t\t\n\t\t\t\t\t// Fallback object error message\n\t\t\t\t\tif (errMsg == '')\n\t\t\t\t\t\terrMsg = 'Error Message: ' + JSON.stringify(error) + '\\r\\n';\n\n\t\t\t\t\terrMsg += 'Error Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\n\t\t\t\t\treturn $fhcAlert.alertSystemError(errMsg);\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\thandleSystemMessage(message) {\n\t\t\t\t// Message is string\n\t\t\t\tif (typeof message === 'string')\n\t\t\t\t\treturn $fhcAlert.alertWarning(message);\n\n\t\t\t\t// Message is array of strings\n\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t// If Array has only Strings\n\t\t\t\t\tif (message.every(msg => typeof msg === 'string'))\n\t\t\t\t\t\treturn message.every($fhcAlert.alertWarning);\n\n\t\t\t\t\t// If Array has only Objects\n\t\t\t\t\tif (message.every(msg => typeof msg === 'object') && msg !== null) {\n\t\t\t\t\t\treturn message.every(msg => {\n\t\t\t\t\t\t\tif (msg.hasOwnProperty('data') && msg.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(msg.data.retval));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(msg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Message is Object with data property\n\t\t\t\tif (typeof message === 'object' && message !== null){\n\t\t\t\t\tif (message.hasOwnProperty('data') && message.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t// NOTE(chris): changed: alertSystemError => alertWarning\n\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(message.data.retval));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(message));\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' +  FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\tresetFormValidation(form) {\n\t\t\t\tconst event = new Event('fhc-form-reset');\n\t\t\t\tform.querySelectorAll(['[data-fhc-form-validate],[data-fhc-form-error]']).forEach(el => el.dispatchEvent(event));\n\t\t\t\t/*const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\tif (alert) {\n\t\t\t\t\talert.innerHTML = '';\n\t\t\t\t\talert.classList.add('d-none');\n\t\t\t\t}\n\t\t\t\tform.querySelectorAll('.invalid-feedback').forEach(n => n.remove());\n\t\t\t\tform.querySelectorAll('.is-invalid').forEach(n => n.classList.remove('is-invalid'));\n\t\t\t\tform.querySelectorAll('.is-valid').forEach(n => n.classList.remove('is-valid'));*/\n\t\t\t},\n\t\t\thandleFormValidation(error, form) {\n\t\t\t\tif (form === undefined) {\n\t\t\t\t\tif (error && error.nodeType === Node.ELEMENT_NODE)\n\t\t\t\t\t\treturn err => $fhcAlert.handleFormValidation(err, error);\n\t\t\t\t} else {\n\t\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t\tif (typeof errors !== \"object\")\n\t\t\t\t\t\t\terrors = error.response.data;\n\n\t\t\t\t\t\t// NOTE(chris): reset form validation\n\t\t\t\t\t\t$fhcAlert.resetFormValidation(form);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// NOTE(chris): set form input validation\n\t\t\t\t\t\tconst notFound = Object.entries(errors).filter(([key, detail]) => {\n\t\t\t\t\t\t\tconst input = form.querySelector('[data-fhc-form-validate=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tinput.dispatchEvent(new CustomEvent('fhc-form-invalidate', {detail}));\n\n\t\t\t\t\t\t\t/*const input = form.querySelector('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\t\t\t\tconst feedback = document.createElement('div');\n\t\t\t\t\t\t\tfeedback.classList.add('invalid-feedback');\n\t\t\t\t\t\t\tfeedback.innerHTML = detail;\n\t\t\t\t\t\t\tinput.after(feedback);*/\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).map(arr => arr[1]);\n\n\n\t\t\t\t\t\t//const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\t\t\tconst alert = form.querySelector('[data-fhc-form-error]');\n\t\t\t\t\t\tif (alert && notFound.length) {\n\t\t\t\t\t\t\talert.dispatchEvent(new CustomEvent('fhc-form-error', {detail: notFound}));\n\t\t\t\t\t\t\t/*notFound.forEach(txt => {\n\t\t\t\t\t\t\t\tconst p = document.createElement('p');\n\t\t\t\t\t\t\t\tp.innerHTML = txt;\n\t\t\t\t\t\t\t\talert.append(p);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (notFound.length) {\n\t\t\t\t\t\t\t\talert.lastChild.classList.add('mb-0');\n\t\t\t\t\t\t\t\talert.classList.remove('d-none');\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotFound.forEach($fhcAlert.alertError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t$fhcAlert.alertError((typeof errors === 'object') ? Object.values(errors) : errors);\n\t\t\t\t} else {\n\t\t\t\t\t$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.config.globalProperties.$fhcAlert = $fhcAlert;\n\t\tapp.provide('$fhcAlert', app.config.globalProperties.$fhcAlert);\n\t}\n}","console.warn('plugin/FhcApi.js is DEPRECATED! Use plugins/Api.js instead.');\nimport FhcAlert from '../plugins/FhcAlert.js';\nimport PluginsApi from '../plugins/Api.js';\nimport FhcApiFactory from '../api/fhcapifactory.js';\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\t\tapp.use(FhcAlert);\n\t\tapp.use(PluginsApi);\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tconsole.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","console.warn('plugin/Phrasen.js is DEPRECATED! Use plugins/Phrasen.js instead.');\nimport FhcApi from './FhcApi.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\t\tconst $fhcApi = this.config.globalProperties.$fhcApi;\n\t\tconst $fhcApiFactory = this.config.globalProperties.$fhcApiFactory;\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(\n\t\t\t\t\tApiPhrasen.loadCategory(category)\n\t\t\t\t)\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tapp.use(FhcApi, options?.fhcApi || undefined);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","//TODO Manu\n//use this instead of Nachrichten.js\nimport NewMessage from \"../../components/Messages/Details/NewMessage/NewDiv.js\";\nimport Phrasen from \"../../plugin/Phrasen.js\";\n\nconst ciPath = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/(https:|)(^|\\/\\/)(.*?\\/)/g, '') + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n\nconst router = VueRouter.createRouter({\n\thistory: VueRouter.createWebHistory(),\n\troutes: [\n\t\t{ path: `/${ciPath}/NeueNachricht`, component: NewMessage },\n\t\t{ path: `/${ciPath}/NeueNachricht/:id`, component: NewMessage },\n\t\t{ path: `/${ciPath}/NeueNachricht/:id/:typeId`, component: NewMessage },\n\t]\n});\n\nconst app = Vue.createApp();\n\napp\n\t.use(router)\n\t.use(primevue.config.default, {\n\t\tzIndex: {\n\t\t\toverlay: 1100\n\t\t}\n\t})\n\t.use(Phrasen)\n\t.mount('#main');\n","export default {\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: String\n\t},\n\tcomputed: {\n\t\tvalueAsBase64DataString() {\n\t\t\tif (!this.modelValue || this.modelValue.substring(0, 10) == 'data:image')\n\t\t\t\treturn this.modelValue;\n\t\t\treturn 'data:image/jpeg;charset=utf-8;base64,' + this.modelValue;\n\t\t}\n\t},\n\tmethods: {\n\t\topenUploadDialog() {\n\t\t\tthis.$refs.fileInput.click();\n\t\t},\n\t\tpickFile() {\n\t\t\tlet file = this.$refs.fileInput.files;\n\t\t\tif (file && file[0]) {\n\t\t\t\tlet reader = new FileReader();\n\t\t\t\treader.onload = e => {\n\t\t\t\t\tthis.$emit('update:modelValue', e.target.result);\n\t\t\t\t}\n\t\t\t\treader.readAsDataURL(file[0]);\n\t\t\t}\n\t\t},\n\t\tdeleteImage() {\n\t\t\tthis.$emit('update:modelValue', '');\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-image\">\n\t\t<template v-if=\"modelValue\">\n\t\t\t<img class=\"img-thumbnail\" :src=\"valueAsBase64DataString\" />\n\t\t\t<div class=\"fotobutton\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"deleteImage\">\n\t\t\t\t\t\t<i class=\"fa fa-close\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<slot>\n\t\t\t\t<svg class=\"bd-placeholder-img img-thumbnail\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width=\"100%\" height=\"100%\" fill=\"#868e96\"></rect><text x=\"50%\" y=\"50%\" fill=\"#dee2e6\" dy=\".3em\"></text></svg>\n\t\t\t</slot>\n\t\t\t<div class=\"fotobutton-visible\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<input :id=\"$attrs.id\" class=\"d-none\" type=\"file\" ref=\"fileInput\" @input=\"pickFile\" accept=\"image/*\">\n\t</div>`\n}","import DmsItem from './Dms/Item.js';\n\nexport default {\n\tcomponents: {\n\t\tDmsItem\n\t},\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [ FileList, Array ],\n\t\t\trequired: true\n\t\t},\n\t\tmultiple: Boolean,\n\t\tid: String,\n\t\tname: String,\n\t\tinputClass: [String, Array, Object],\n\t\tnoList: Boolean,\n\t\taccept: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tmethods: {\n\t\tstringifyFile(file) {\n\t\t\treturn JSON.stringify({\n\t\t\t\tlastModified: file.lastModified,\n\t\t\t\tlastModifiedDate: file.lastModifiedDate,\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.type\n\t\t\t});\n\t\t},\n\t\taddFiles(event) {\n\t\t\tif (!this.multiple)\n\t\t\t\treturn this.$emit('update:modelValue', event.target.files);\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst doubles = [];\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tdt.items.add(file);\n\t\t\t\tdoubles.push(this.stringifyFile(file));\n\t\t\t}\n\t\t\tfor (var file of event.target.files) {\n\t\t\t\t// NOTE(chris): deep check (with FileReader) would require an async function so we only check the basic attributes\n\t\t\t\tif (doubles.indexOf(this.stringifyFile(file)) < 0)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t},\n\t\tremoveFile(id) {\n\t\t\tconst fileToRemove = Array.from(this.modelValue)[id];\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tif (file !== fileToRemove)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (!n)\n\t\t\t\treturn;\n\t\t\tif (n instanceof FileList) {\n\t\t\t\tif (!this.$refs.upload) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn this.$refs.upload.files = n;\n\t\t\t}\n\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst dms = [];\n\t\t\tfor (var file of n) {\n\t\t\t\tif (file instanceof File) {\n\t\t\t\t\tdt.items.add(file);\n\t\t\t\t} else {\n\t\t\t\t\tconst dmsFile = new File([JSON.stringify(file)], file.name, {\n\t\t\t\t\t\ttype: 'application/x.fhc-dms+json'\n\t\t\t\t\t});\n\t\t\t\t\tdt.items.add(dmsFile);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-dms\">\n\t\t<input ref=\"upload\" class=\"form-control\" :disabled=\"disabled\" :accept=\"accept\" :aria-label=\"$p.t('profilUpdate','documentUpload')\" :title=\"$p.t('profilUpdate','documentUpload')\" :class=\"inputClass\" :id=\"id\" :name=\"name\" :multiple=\"multiple\" type=\"file\" @change=\"addFiles\">\n\t\t<ul v-if=\"modelValue.length && multiple && !noList\" :accept=\"accept\" class=\"list-unstyled m-0\">\n\t\t\t<dms-item\n\t\t\t\tv-for=\"(file, index) in modelValue\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tv-model=\"file\"\n\t\t\t\tclass=\"d-flex mx-1 mt-1 align-items-start\"\n\t\t\t\t@delete=\"removeFile(index)\"\n\t\t\t\t>\n\t\t\t</dms-item>\n\t\t</ul>\n\t</div>`\n}","export default {\n\temits: [\n\t\t'delete'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [File, Object],\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpreview: ''\n\t\t};\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (n.type == 'application/x.fhc-dms+json') {\n\t\t\t\tn.text().then(result => {\n\t\t\t\t\tconst obj = JSON.parse(result);\n\t\t\t\t\tthis.preview = obj.preview || '';\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<li class=\"form-upload-dms-item\">\n\t\t<span class=\"col-auto\"><i class=\"fa fa-file me-1\"></i></span>\n\t\t<span class=\"col\">{{ modelValue.name }}</span>\n\t\t<a v-if=\"preview\" :href=\"preview\" target=\"_blank\" class=\"col-auto btn btn-outline-secondary btn-p-0 me-1\">\n\t\t\t<i class=\"fa fa-download\"></i>\n\t\t</a>\n\t\t<button class=\"col-auto btn btn-outline-secondary btn-p-0\" @click=\"$emit('delete')\">\n\t\t\t<i class=\"fa fa-close\"></i>\n\t\t</button>\n\t</li>`\n}\n"],"names":["FhcFragment","render","this","$slots","default","FormForm","components","provide","$registerToForm","component","inputs","indexOf","push","$clearValidationForName","clearValidationForName","props","tag","type","String","data","computed","sortedInputs","reduce","a","c","name","lcType","substr","lastIndexOf","factory","console","warn","Object","create","getPrototypeOf","$fhcApi","getOwnPropertyDescriptors","get","post","_defaultErrorHandlers","methods","args","clearValidation","setFeedback","unshift","$api","call","overwriteconfig","_sendFeedbackToInput","feedback","valid","length","forEach","input","$fhcAlert","Array","isArray","remaining","filter","fb","entries","split","slice","map","p","join","fromEntries","send","promise","Promise","resolve","reject","then","result","status","hasOwnProperty","error","retval","code","catch","response","handleSystemError","template","_uuid","FormInput","inheritAttrs","inject","registerToForm","from","bsFeedback","Boolean","noAutoClass","noFeedback","inputGroup","containerClass","label","onInput","Function","undefined","modelValueDummy","hasContainer","prop","autoContainerClass","hasOwn","acc","toLowerCase","validationClass","classes","$attrs","class","includes","feedbackClass","modelValueCmp","modelValue","set","v","$emit","idCmp","uuid","id","uid","clearValidationForThisName","selector","$el","parentNode","querySelectorAll","pop","$refs","_loadComponents","_","VueDatePicker","PvAutocomplete","UploadImage","UploadDms","Vue","defineAsyncComponent","primevue","autocomplete","import","beforeMount","beforeUpdate","mounted","CoreFetchCmpt","emits","refresh","apiFunction","required","apiFunctionParameters","watch","newValue","oldValue","fetchData","loading","errorMessage","created","apiFunctionResult","successHandler","errorHandler","finally","finallyHandler","setError","message","FILTER_COMPONENT_NEW_FILTER","FilterConfig","filters","columns","fields","switchFilter","applyFilterConfig","saveCustomFilter","currentFields","types","n","evt","currentTarget","value","filteredFields","el","condition","alert","addField","removeField","index","splice","FilterColumns","selected","names","hide","show","selectedFields","toggle","field","DEFAULT_ICONS","jsonLines","xlsx","pdf","html","json","csv","DEFAULT_LABELS","TableDownload","tabulator","config","iconClass","currentConfig","prototype","toString","newConfig","k","stringToFileFormatter","icon","formatter","validateFileFormatter","lcInput","window","XLSX","jspdf","jsPDF","autoTable","download","file","options","elementDataMap","WeakMap","collapseAutoClose","binding","open","contains","target","collapse","bootstrap","Collapse","getInstance","addEventListener","document","beforeUnmount","removeEventListener","collapsibleAutoHideFunc","Tabulator","extendModule","fitDataStretchFrozen","forced","colsWidth","tableWidth","table","rowManager","element","clientWidth","gap","lastCol","column","i","widthFixed","reinitializeWidth","responsiveLayout","modules","responsive","visible","definition","frozen","getWidth","modExists","setWidth","update","ApiFilter","wsParams","method","url","params","filterUniqueId","filterType","customFilterName","removeCustomFilter","filterId","applyFilterFields","filterFields","addFilterField","filterField","removeFilterField","getFilterById","getFilter","CoreFilterCmpt","directives","onNwNewEntry","title","description","sideMenu","tabulatorOptions","tabulatorEvents","tableOnly","noColumnFilter","reload","reloadBtnInfotext","newBtnShow","newBtnClass","newBtnDisabled","newBtnLabel","uniqueId","idField","parentIdField","countOnly","useSelectionSpan","filterName","filterActive","dataset","datasetMetadata","availableFilters","selectedFilter","fetchCmptRefresh","fetchCmptApiFunction","fetchCmptApiFunctionParams","fetchCmptDataFetched","fetchResult","tableBuilt","tabulatorHasSelector","selectedData","persistence","sort","headerFilter","group","page","notSelectedFields","x","filteredData","JSON","parse","stringify","filteredColumns","col","resizable","fieldIdsForVisibilty","getColumns","def","getDefinition","getField","fieldNames","res","idExtra","columnsForFilter","filterTitles","reloadTable","setData","initTabulator","placeholder","$p","loadCategory","t","location","hash","resolvePromiseFunc","setRenderData","startFetchCmpt","layout","movableColumns","columnDefaults","tooltip","height","minHeight","maxHeight","selectable","dataTree","on","event","handler","toDelete","childIdx","child","appendChild","counter","cols","isVisible","_setHeaderFilter","updateTabulator","_updateTabulator","setColumns","clearFilters","getHeaderFilters","setHeaderFilterValue","clearFilter","j","setSideMenu","setDropDownMenu","personalFilters","filtersArray","filtersCount","link","filter_id","desc","onClickCall","handlerGetFilterById","subscriptDescription","subscriptLinkClass","subscriptLinkValue","onClickSubscriptCall","handlerRemoveCustomFilter","children","option","dataFetchedCallback","FHC_JS_DATA_STORAGE_OBJECT","called_path","called_method","handlerSaveCustomFilter","getAttribute","substring","attr","parentId","parentIdx","parent","_children","beforeCreate","$props","ApiVorlage","getVorlagen","getVorlagenByLoggedInUser","NewMessage","ListBox","DropdownComponent","isAdmin","useLoggedInUserOe","vorlagen","selectedValue","vorlagenOe","updateValue","setValue","endpoint","openMode","tempTypeId","tempId","Number","tempMessageId","$route","typeId","messageId","formData","recipient","subject","body","vorlage_kurzbz","relationmessage_id","statusNew","recipientsArray","defaultRecipient","editor","fieldsUser","fieldsPerson","fieldsPrestudent","selectedFieldPrestudent","selectedFieldUser","selectedFieldPerson","itemsPrestudent","itemsPerson","itemsUser","previewText","previewBody","replyData","messageSent","initTinyMCE","vm","tinymce","init","toolbar","style_formats","block","autoresize_bottom_margin","setup","newContent","getContent","updateText","sendMessage","FormData","type_id","merged","append","alertSuccess","hideTemplate","resetForm","getDataVorlage","text","getPreviewText","insertVariable","selectedItem","insertContent","fire","setDirty","save","setContent","dropdownComp","toggleDivNewMessage","handleSelectedVorlage","showTemplate","showPreview","getUid","newVal","tinymcsVal","getMessageVarsPerson","person","key","getMsgVarsPrestudent","prestudent","getMsgVarsLoggedInUser","user","getNameOfDefaultRecipient","details","getReplyData","replySubject","replyBody","beforeDestroy","destroy","search","searchsettings","searchAdvanced","searchdummy","phrasen$2","category","setLanguage","categories","language","payload","getLanguage","getActiveDbLanguages","navigation","getHeader","navigation_page","getMenu","filter$1","studstatus","abmeldung","getDetails","antrag_id","prestudent_id","stdsem","grund","studiensemester","errorHandling","cancel","allSettled","antrag","studierendenantrag_id","errorHeader","unterbrechung","datum_wiedereinstieg","attachment","wiederholung","getLvs","saveLvs","forbiddenLvs","mandatoryLvs","leitung","getStgs","getAntraege","getHistory","getPrestudents","query","signal","timeout","approve","reopen","pause","unpause","object","approveObjection","denyObjection","profil","getView","app_root","ci_router","fotoSperre","isStudent","isMitarbeiter","getZustellAdresse","getZustellKontakt","getGemeinden","nation","zip","getAllNationen","profilUpdate","getStatus","getTopic","acceptProfilRequest","profil_update_id","status_message","topic","requested_change","denyProfilRequest","insertFile","dms","replace","getProfilRequestFiles","requestID","selectProfilRequest","insertProfilRequest","fileID","updateProfilRequest","ID","deleteProfilRequest","lvPlan","getRoomInfo","ort_kurzbz","start_date","end_date","getStunden","getOrtReservierungen","getLvPlanReservierungen","getLehreinheitStudiensemester","lehreinheit_id","studiensemesterDateInterval","date","LvPlanEvents","lv_id","stv","verband","favorites","students","studiensemester_kurzbz","encodeURIComponent","getUri","person_id","relative_path","getStg","setStg","studiengang_kz","konto","tabulatorConfig","self","ajaxURL","ajaxParams","e","only_open","studiengang_kz_intern","stg_kz","ajaxRequestFunc","ajaxResponse","checkDoubles","form","confirmErrorHandler","insert","edit","delete","buchungsnr","getBuchungstypen","getGruppen","deleteGroup","kontakt","getAdressen","addNewAddress","loadAddress","address_id","updateAddress","deleteAddress","getPlaces","plz","getFirmen","searchString","getNations","getAdressentypen","getBankverbindung","addNewBankverbindung","loadBankverbindung","bankverbindung_id","updateBankverbindung","deleteBankverbindung","getKontakte","addNewContact","loadContact","kontakt_id","updateContact","deleteContact","getStandorteByFirma","getKontakttypen","updatePrestudent","getBezeichnungZGV","getBezeichnungMZgv","getBezeichnungDZgv","getAusbildung","getAufmerksamdurch","getBerufstaetigkeit","getTypenStg","getBisstandort","getHistoryPrestudent","getMaxSem","studiengang_kzs","advanceStatus","status_kurzbz","ausbildungssemester","confirmStatus","isLastStatus","deleteStatus","getLastBismeldestichtag","getHistoryPrestudents","insertStatus","loadStatus","updateStatus","getStudienplaene","getStudiengang","getStatusgruende","getStati","addStudent","changeStatus","getStatusarray","exam","getPruefungen","loadPruefung","pruefung_id","getTypenPruefungen","getAllLehreinheiten","getLvsByStudent","getLvsandLesByStudent","semester","getLvsAndMas","getMitarbeiterLv","getNoten","checkZeugnisnoteLv","addPruefung","updatePruefung","deletePruefung","abschlusspruefung","getAbschlusspruefung","addNewAbschlusspruefung","loadAbschlusspruefung","updateAbschlusspruefung","deleteAbschlusspruefung","getTypenAbschlusspruefung","getTypenAntritte","getBeurteilungen","getAkadGrade","getTypStudiengang","getMitarbeiter","getPruefer","checkForExistingExams","uids","grades","list","getCertificate","getTeacherProposal","getRepeaterGrades","updateCertificate","lehrveranstaltung_id","student_uid","note","lehrveranstaltung_bezeichnung","deleteCertificate","copyTeacherProposalToCertificate","copyRepeaterGradeToCertificate","studierendenantrag_lehrveranstaltung_id","lv_bezeichnung","getGradeFromPoints","points","manualErrorHandling","mobility","getMobilitaeten","getProgramsMobility","addNewMobility","loadMobility","bisio_id","updateMobility","deleteMobility","getLVList","getPurposes","getSupports","getListPurposes","getListSupports","deleteMobilityPurpose","addMobilityPurpose","deleteMobilitySupport","addMobilitySupport","archiv","getArchivVorlagen","archive","archiveSigned","akte_id","documents","getDocumentsUnaccepted","getDocumentsAccepted","deleteZuordnung","dokument_kurzbz","createZuordnung","loadAkte","getDoktypen","updateFile","deleteFile","uploadFile","exemptions","getAnrechnungen","getLehrveranstaltungen","getBegruendungen","getLvsKompatibel","getLektoren","addNewAnrechnung","loadAnrechnung","anrechnung_id","editAnrechnung","deleteAnrechnung","jointstudies","getStudies","getTypenMobility","getStudiensemester","getStudyprograms","getListPartner","getStatiPrestudent","loadStudy","insertStudy","updateStudy","deleteStudy","courselist","getCourselist","group_consecutiveHours","dbStundenplanTable","configStudent","configStudents","notiz","getNotizen","addNewNotiz","loadNotiz","notiz_id","loadDokumente","deleteNotiz","updateNotiz","isBerechtigt","betriebsmittel","getAllBetriebsmittel","addNewBetriebsmittel","loadBetriebsmittel","betriebsmittelperson_id","updateBetriebsmittel","deleteBetriebsmittel","getTypenBetriebsmittel","loadInventarliste","checkperson","updatePersonUnrulyStatus","unrulyParam","unruly","filterPerson","base","axios","ort","getContentID","ort_kurbz","getRooms","datum","von","bis","typ","personenanzahl","getRoomTypes","cms","content","content_id","version","sprache","sichtbar","getNews","page_size","news","limit","getNewsRowCount","getNewsExtra","lehre","getStudentenMail","getLvInfo","getStudentPruefungen","getStudentProjektarbeiten","getStudentProjektabgaben","detail","projektarbeit_id","postStudentProjektarbeitEndupload","Headers","postStudentProjektarbeitZwischenabgabe","getStudentProjektarbeitAbgabeFile","paabgabe_id","getMitarbeiterProjektarbeiten","all","postProjektarbeitAbgabe","termin","paabgabetyp_kurzbz","bezeichnung","fixtermin","insertvon","kurzbz","deleteProjektarbeitAbgabe","postSerientermin","projektarbeit_ids","fetchDeadlines","addons","getLvMenu","lvid","messages","getMessages","size","getPersonId","sendMessageFromModalContext","deleteMessage","studium","getAllStudienSemester","studiengang","studienplan","getStudiengaengeForStudienSemester","getStudienplaeneBySemester","getLvPlanForStudiensemester","getLvEvaluierungInfo","FhcApiFactory","phrasen","dashboard","getViewData","bookmark","getBookmarks","bookmark_id","ampeln","confirm","ampel_id","studiengangInformation","getStudiengangByKz","menu","authinfo","getAuthUID","getAuthInfo","getAll","OldFhcApi","install","app","globalProperties","addEndpoints","_get_config","uri","TypeError","_clean_return_value","meta","fhcApiAxios","baseURL","interceptors","request","use","values","every","item","FileList","File","newData","nd","jsondata","errors","err","handled","alertDefault","responseURL","alertError","validation","apply","general","php","filename","line","backtrace","function","severity","alertSystemError","exception","db","heading","sql","auth","controller","required_permissions","FhcApiFactoryWrapper","constructor","factorypart","root","defineProperty","noWarn","keys","bind","PluginsApi","_send_array_or_object","func","errs","FhcAlert","DEFAULT_ERROR_CONFIG","success","fail","combine","toast","async","_format_toast","_default","msg","msgs","b","n_errors","get_config","clean_return_value","_merge_error_config","get_error_handler","formHandler","get_error_list","popHandleableErrors","copy","newType","newTypeCombinesType","newTypeHasHandler","errorConfig","configoverwrite","typedErrors","allowed","reason","errType","getErrorHandler","ApiPhrasen","reactive","loadingModules","user_language","ref","user_locale","server_languages","find","LC_Time","catArray","row","phrase","obj","elem","extractCategory","t_ref","val","match","p1","getValueForLoadedPhrase","FhcPhrasen","cat","lang","CORE_REST_CLIENT_ERROR","CORE_REST_CLIENT_RETVAL","CoreRESTClient","wsURL","wsParameters","axiosParameters","_axiosCall","isSuccess","isError","hasData","trim","getData","getError","getErrorCode","_generateRouterURI","_printDebug","parameters","errorThrown","axiosCallObj","helperAppContainer","createElement","helperApp","createApp","PvToast","PvConfirm","mailToUrl","slotProps","systemerror_mailto","openMessagecard","getOrCreateInstance","unmounted","parentElement","removeChild","showmaillink","PvConfig","PvConfirmationService","helperAppInstance","mount","add","summary","life","alertInfo","alertWarning","confirmDelete","$confirm","require","header","acceptLabel","acceptClass","rejectLabel","rejectClass","accept","sticky","alertMultiple","messageArray","errMsg","toUpperCase","stack","handleSystemMessage","resetFormValidation","Event","dispatchEvent","handleFormValidation","nodeType","Node","ELEMENT_NODE","notFound","querySelector","CustomEvent","arr","FhcApi","$fhcApiFactory","Phrasen","fhcApi","ciPath","router","VueRouter","createRouter","history","createWebHistory","routes","path","zIndex","overlay","Image","valueAsBase64DataString","openUploadDialog","fileInput","click","pickFile","files","reader","FileReader","onload","readAsDataURL","deleteImage","Dms","DmsItem","preview","multiple","inputClass","noList","disabled","stringifyFile","lastModified","lastModifiedDate","addFiles","dt","DataTransfer","doubles","items","removeFile","fileToRemove","upload","dmsFile"],"mappings":"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"}