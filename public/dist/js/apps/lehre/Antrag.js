import t from"../../../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js?2025111701";import e from"../../../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js?2025111701";import n from"../../../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js?2025111701";import r from"../../../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js?2025111701";const s={emits:["dataFetched"],props:{refresh:{type:Boolean},apiFunction:{required:!0,type:Function},apiFunctionParameters:{}},watch:{refresh:function(t,e){this.fetchData()}},data:function(){return{loading:!1,error:!1,errorMessage:null}},created:function(){this.fetchData()},methods:{fetchData:function(){if(this.loading=!0,this.error=!1,this.errorMessage=null,"function"==typeof this.apiFunction){let t=this.apiFunction(this.apiFunctionParameters);t instanceof Promise?t.then(this.successHandler).catch(this.errorHandler).finally(this.finallyHandler):this.setError("The called apiFunction does not return a Promise")}else this.setError("Property apiFunction is not a function")},setError:function(t){this.loading=!1,this.error=!0,this.errorMessage=t},successHandler:function(t){this.$emit("dataFetched",t?t.data:void 0)},errorHandler:function(t){t.response?.data?.retval?this.setError(t.response.data.retval):t.data?.message?this.setError(t.data.message):this.setError(t.message)},finallyHandler:function(){this.loading=!1}},template:'\n\t\t<slot v-if="loading" name="loading">\n\t\t\t<div class="fetch-loader">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if="error" name="error" :error-message="errorMessage">\n\t\t\t<div class="fetch-error">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t'};var a={render(){return this.$slots&&this.$slots.default?this.$slots.default():null}},i={components:{FhcFragment:a},provide(){return{$registerToForm:t=>{this.inputs.indexOf(t)<0&&this.inputs.push(t)},$clearValidationForName:this.clearValidationForName}},props:{tag:{type:String,default:"form"}},data:()=>({inputs:[]}),computed:{sortedInputs(){return this.inputs.reduce((t,e)=>{let n=e.name||"_default";return t[n]||(t[n]=[]),t[n].push(e),"checkbox"==e.lcType&&"]"==n.substr(-1)&&n.indexOf("[")&&(n=n.substr(0,n.lastIndexOf("[")),t[n]||(t[n]=[]),t[n].push(e)),t},{})},factory(){console.warn("<form>.factory is deprecated! Use <form>.call() instead.");const t=Object.create(Object.getPrototypeOf(this.$fhcApi.factory),Object.getOwnPropertyDescriptors(this.$fhcApi.factory));return t.$fhcApi={get:this.get,post:this.post,_defaultErrorHandlers:this.$fhcApi._defaultErrorHandlers},t}},methods:{get(...t){return"object"==typeof t[0]&&t[0].clearValidation&&t[0].setFeedback?t[0]=this:t.unshift(this),this.$api?this.$api.get(...t):this.$fhcApi.get(...t)},post(...t){return"object"==typeof t[0]&&t[0].clearValidation&&t[0].setFeedback?t[0]=this:t.unshift(this),this.$api?this.$api.post(...t):this.$fhcApi.post(...t)},call(t,e){return this.$api.call(t,e,this)},_sendFeedbackToInput(t,e,n){return t.length?(t.forEach(t=>t.setFeedback(n,e)),!1):!this.$fhcAlert||(this.$fhcAlert[n?"alertSuccess":"alertError"](e),!1)},setFeedback(t,e){if(Array.isArray(e)){let n=e.filter(e=>this._sendFeedbackToInput(this.sortedInputs._default||[],e,t));return n.length?n:null}if("object"==typeof e){let n=Object.entries(e).filter(([e,n])=>this._sendFeedbackToInput(this.sortedInputs[e.split(".")[0]+e.split(".").slice(1).map(t=>`[${t}]`).join("")]||this.sortedInputs._default||[],n,t));return n.length?Object.fromEntries(n):null}return this._sendFeedbackToInput(this.sortedInputs._default||[],e,t)?e:null},clearValidation(){this.inputs.forEach(t=>t.clearValidation())},send(t){return new Promise((e,n)=>{t.then(t=>{if(200==t?.status&&t.data){if("object"!=typeof t.data||!t.data.hasOwnProperty("retval"))return n(t);if(t.data.error)return n(t);const r=t.data.retval;return 1==t.data.code&&this.setFeedback(!0,r),e(r)}n(t)}).catch(t=>{if(400==t?.response?.status&&t.response.data){if("object"!=typeof t.response.data||!t.response.data.hasOwnProperty("retval"))return n(t);this.clearValidation();const e=this.setFeedback(!1,t.response.data.retval);if(e)return t.response.data.retval=e,n(t)}else{if(500!=t?.response?.status)return n(t);if(!this.$fhcAlert)return n(t);this.$fhcAlert.handleSystemError(t)}})})},clearValidationForName(t){(this.sortedInputs[t.split(".")[0]+t.split(".").slice(1).map(t=>`[${t}]`).join("")]||this.sortedInputs._default||[]).forEach(t=>t.clearValidation())}},template:'\n\t<component :is="tag || \'FhcFragment\'" v-bind="$attrs">\n\t\t<slot></slot>\n\t</component>'},o={inject:["$registerToForm"],data:()=>({feedback:{success:[],danger:[]}}),methods:{clearValidation(){this.feedback={success:[],danger:[]}},setFeedback(t,e){e||(e=[]),Array.isArray(e)||(e=[e]);const n=Date.now();this.feedback[t?"success":"danger"].push(...e.map(t=>[t,n]))}},mounted(){this.$registerToForm&&this.$registerToForm(this)},template:'\n\t<template v-for="(arr, key) in feedback" :key="key">\n\t\t<div v-for="[msg, ts] in arr" :key="ts + msg" class="alert alert-dismissible fade show" :class="\'alert-\' + key" role="alert">\n\t\t\t{{msg}}\n\t\t\t<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n\t\t</div>\n\t</template>\n\t'};let d={};var u={name:"FormInput",inheritAttrs:!1,components:{FhcFragment:a},inject:{registerToForm:{from:"$registerToForm",default:null},clearValidationForName:{from:"$clearValidationForName",default:null}},props:{bsFeedback:Boolean,noAutoClass:Boolean,noFeedback:Boolean,inputGroup:Boolean,type:String,name:String,containerClass:[String,Array,Object],label:String,onInput:[Array,Function],"onUpdate:modelValue":[Array,Function]},data:()=>({valid:void 0,feedback:[],modelValueDummy:void 0}),computed:{hasContainer(){if(!this.bsFeedback)return!0;if(this.containerClass)return!0;for(const t in this.autoContainerClass)if(Object.hasOwn(this.autoContainerClass,t))return!0;return!1},acc(){return this.containerClass?"string"==typeof this.containerClass||this.containerClass instanceof String?this.containerClass.split(" ").reduce((t,e)=>(t[e]=!0,t),{}):Array.isArray(this.containerClass)?this.containerClass.reduce((t,e)=>(t[e]=!0,t),{}):this.containerClass:{}},autoContainerClass(){if(this.noAutoClass)return this.acc;const t={...this.acc};return this.inputGroup&&(t["input-group-item"]=!0),"radio"!=this.lcType&&"checkbox"!=this.lcType||(t["form-check"]=!0),this.inputGroup&&t["form-check"]&&(t["input-group-item"]=!1,t["form-check"]=!1,t["input-group-text"]=!0),t},lcType(){return this.type?this.type.toLowerCase():"text"},tag(){switch(this.lcType){case"textarea":case"select":return this.lcType;case"datepicker":return"VueDatePicker";case"autocomplete":return"PvAutocomplete";case"uploadimage":return"UploadImage";case"uploadfile":case"uploaddms":return"UploadDms";default:return"input"}},validationClass(){const t=[];if(this.valid?t.push("is-valid"):!1===this.valid&&t.push("is-invalid"),!this.noAutoClass){let e=this.$attrs.class?this.$attrs.class.split(" "):[];switch(this.lcType){case"select":e.includes("form-select")||t.push("form-select");break;case"range":e.includes("form-range")||t.push("form-range");break;case"radio":case"checkbox":e.includes("form-check-input")||e.includes("btn-check")||t.push("form-check-input");break;case"color":e.includes("form-control-color")||t.push("form-control-color"),e.includes("form-control")||t.push("form-control");break;case"autocomplete":case"datepicker":t.push("p-0"),t.push("border-0"),e.includes("form-control")||t.push("form-control");break;case"text":case"number":case"password":case"textarea":e.includes("form-control")||t.push("form-control")}}return t},feedbackClass(){return this.feedback&&!0!==this.feedback?this.bsFeedback?{"valid-feedback":!0===this.valid,"invalid-feedback":!1===this.valid}:{"valid-tooltip":!0===this.valid,"invalid-tooltip":!1===this.valid}:""},modelValueCmp:{get(){return this.$attrs.hasOwnProperty("modelValue")?this.$attrs.modelValue:this.modelValueDummy},set(t){this.$attrs.hasOwnProperty("modelValue")||(this.modelValueDummy=t),this.$emit("update:modelValue",t)}},idCmp(){let t=this.$attrs.id;if("datepicker"==this.lcType&&(t=this.$attrs.uid),!t&&this.label&&(t="fhc-form-input"),t)return"datepicker"==this.lcType&&(t="dp-input-"+t),void 0===d[t]&&(d[t]=0),t+"-"+d[t]++}},methods:{clearValidation(){this.valid=void 0,this.feedback=[]},clearValidationForThisName(){void 0!==this.valid&&(this.clearValidationForName&&this.name?this.clearValidationForName(this.name):this.clearValidation())},setFeedback(t,e){if(e||(e=[]),Array.isArray(e)||(e=[e]),this.valid=t,this.name&&("radio"==this.lcType||"checkbox"==this.lcType)){const t='input[type="'+this.lcType+'"][name="'+this.name+'"]';if([...this.$el.parentNode.querySelectorAll(t)].pop()!=this.$refs.input)return}this.feedback=e},_loadComponents(){"VueDatePicker"!=this.tag||this._.components.VueDatePicker?"PvAutocomplete"!=this.tag||this._.components.PvAutocomplete?"UploadImage"!=this.tag||this._.components.UploadImage?"UploadDms"!=this.tag||this._.components.UploadDms||(this._.components.UploadDms=Vue.defineAsyncComponent(()=>Promise.resolve().then(function(){return dt}))):this._.components.UploadImage=Vue.defineAsyncComponent(()=>Promise.resolve().then(function(){return it})):this._.components.PvAutocomplete=primevue.autocomplete:this._.components.VueDatePicker=Vue.defineAsyncComponent(()=>import("../../../../js/components/vueDatepicker.js.php?2025111701"))}},beforeMount(){this._loadComponents()},beforeUpdate(){this._loadComponents()},mounted(){this.registerToForm&&this.registerToForm(this)},template:'\n\t<component :is="!hasContainer ? \'FhcFragment\' : \'div\'" class="position-relative" :class="autoContainerClass">\n\t\t<label v-if="label && lcType != \'radio\' && lcType != \'checkbox\'" :class="!noAutoClass && \'form-label\'" :for="idCmp">{{label}}</label>\n\t\t<input v-if="tag == \'input\'" :type="lcType" ref="input" v-model="modelValueCmp" v-bind="$attrs" :id="idCmp" :name="name" :class="validationClass" :modelValue="undefined" @input="clearValidationForThisName(); $emit(\'input\', $event)">\n\t\t<textarea v-else-if="tag == \'textarea\'" ref="input" v-model="modelValueCmp" v-bind="$attrs" :id="idCmp" :name="name" :class="validationClass" :modelValue="undefined" @input="clearValidationForThisName(); $emit(\'input\', $event)"></textarea>\n\t\t<select v-else-if="tag == \'select\'" ref="input" v-model="modelValueCmp" v-bind="$attrs" :id="idCmp" :name="name" :class="validationClass" :modelValue="undefined" @input="clearValidationForThisName(); $emit(\'input\', $event)">\n\t\t\t<slot></slot>\n\t\t</select>\n\t\t<component\n\t\t\tv-else-if="tag == \'VueDatePicker\'"\n\t\t\tref="input"\n\t\t\t:is="tag"\n\t\t\t:type="type"\n\t\t\tv-model="modelValueCmp"\n\t\t\tv-bind="$attrs"\n\t\t\t:uid="idCmp ? idCmp.substr(9) : idCmp"\n\t\t\t:name="name"\n\t\t\t:class="validationClass"\n\t\t\t:input-class-name=\n\t\t\t"[...Object.entries({\'form-control\': !noAutoClass, \'is-valid\': valid === true, \'is-invalid\': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs[\'input-class-name\'] ? $attrs[\'input-class-name\'].split(\' \') : [])].join(\' \')"\n\t\t\t@update:model-value="clearValidationForThisName"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if="tag == \'PvAutocomplete\'"\n\t\t\tref="input"\n\t\t\t:is="tag"\n\t\t\t:type="type"\n\t\t\tv-model="modelValueCmp"\n\t\t\tv-bind="$attrs"\n\t\t\t:id="idCmp"\n\t\t\t:input-props="{name}"\n\t\t\t:class="validationClass"\n\t\t\t:input-class="[...Object.entries({\'form-control\': !noAutoClass, \'is-valid\': valid === true, \'is-invalid\': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs[\'input-class\'] ? $attrs[\'input-class\'].split(\' \') : [])].join(\' \')"\n\t\t\t@update:model-value="clearValidationForThisName"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t\t<template #chip="data"><slot name="chip" v-bind="data"></slot></template>\n\t\t\t<template #header="data"><slot name="header" v-bind="data"></slot></template>\n\t\t\t<template #footer="data"><slot name="footer" v-bind="data"></slot></template>\n\t\t\t<template #option="data"><slot name="option" v-bind="data"></slot></template>\n\t\t\t<template #optiongroup="data"><slot name="optiongroup" v-bind="data"></slot></template>\n\t\t\t<template #content="data"><slot name="content" v-bind="data"></slot></template>\n\t\t\t<template #loader="data"><slot name="loader" v-bind="data"></slot></template>\n\t\t\t<template #empty="data"><slot name="empty" v-bind="data"></slot></template>\n\t\t\t<template #dropdownicon="data"><slot name="dropdownicon" v-bind="data"></slot></template>\n\t\t\t<template #removetokenicon="data"><slot name="removetokenicon" v-bind="data"></slot></template>\n\t\t\t<template #loadingicon="data"><slot name="loadingicon" v-bind="data"></slot></template>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if="tag == \'UploadDms\'"\n\t\t\tref="input"\n\t\t\t:is="tag"\n\t\t\t:type="type"\n\t\t\tv-model="modelValueCmp"\n\t\t\tv-bind="$attrs"\n\t\t\t:id="idCmp"\n\t\t\t:name="name"\n\t\t\t:class="validationClass"\n\t\t\t:input-class="validationClass"\n\t\t\t:no-list="inputGroup"\n\t\t\t@update:model-value="clearValidationForThisName"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else\n\t\t\tref="input"\n\t\t\t:is="tag"\n\t\t\t:type="type"\n\t\t\tv-model="modelValueCmp"\n\t\t\tv-bind="$attrs"\n\t\t\t:id="idCmp"\n\t\t\t:name="name"\n\t\t\t:class="validationClass"\n\t\t\t@update:model-value="clearValidationForThisName"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<label v-if="label && (lcType == \'radio\' || lcType == \'checkbox\')" :for="idCmp" :class="!noAutoClass && \'form-check-label\'" v-html="label"></label>\n\t\t<div v-if="valid !== undefined && feedback.length && !noFeedback" :class="feedbackClass">\n\t\t\t<template v-for="(msg, i) in feedback" :key="i">\n\t\t\t\t<hr v-if="i" class="m-0">\n\t\t\t\t{{msg}}\n\t\t\t</template>\n\t\t</div>\n\t</component>\n\t'},l={getDetails:(t,e)=>({method:"get",url:"/api/frontend/v1/studstatus/abmeldung/"+(void 0!==t?"getDetailsForAntrag/"+t:"getDetailsForNewAntrag/"+e)}),create:(t,e,n)=>({method:"post",url:"/api/frontend/v1/studstatus/abmeldung/createAntrag",params:{studiensemester:t,prestudent_id:e,grund:n}}),cancel:t=>({method:"post",url:"/api/frontend/v1/studstatus/abmeldung/cancelAntrag",params:{antrag_id:t}})},p=0,c={components:{CoreFetchCmpt:s,CoreForm:i,FormValidation:o,FormInput:u},emits:["setInfos","setStatus"],props:{prestudentId:Number,studierendenantragId:Number},data:()=>({data:null,saving:!1,formData:{grund:""}}),computed:{statusSeverity(){switch(this.data.status){case"Erstellt":return"info";case"Pause":case"Zurueckgezogen":return"danger";case"Genehmigt":return"success";default:return"warning"}}},methods:{load(){return this.$api.call(l.getDetails(this.studierendenantragId,this.prestudentId)).then(t=>{if(this.data=t.data,this.data.status){const t="Pause"==this.data.status&&"Studienabbruch"==this.data.status_insertvon?Vue.computed(()=>{let t=this.$p.t("studierendenantrag/status_stop");return this.$p.t("studierendenantrag","status_x",{status:t})}):Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp}));this.$emit("setStatus",{msg:t,severity:this.statusSeverity})}return t}).catch(this.$fhcAlert.handleSystemError)},createAntrag(){bootstrap.Modal.getOrCreateInstance(this.$refs.modal).hide(),this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_saving")})),severity:"warning"}),this.saving=!0,this.$refs.form.clearValidation(),this.$refs.form.call(l.create(this.data.studiensemester_kurzbz,this.data.prestudent_id,this.formData.grund)).then(t=>{!0===t.data&&(document.location+=""),this.data=t.data,this.data.status?this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp})),severity:this.statusSeverity}):this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_open")})),severity:"success"}),this.saving=!1}).catch(t=>{this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_error")})),severity:"danger"}),this.saving=!1,this.$fhcAlert.handleSystemError(t)})},cancelAntrag(){this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_cancelling")})),severity:"warning"}),this.saving=!0,this.$refs.form.clearValidation(),this.$refs.form.call(l.cancel(this.data.studierendenantrag_id)).then(t=>{Number.isInteger(t.data)&&(document.location=document.location.replace(/abmeldung\/([0-9]*)\/[0-9]*[\/]?$/,"abmeldung/$1")+"/"+t.data),this.data=t.data,this.data.status?this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp})),severity:this.statusSeverity}):this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_cancelled")})),severity:"danger"}),this.saving=!1}).catch(t=>{this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_error")})),severity:"danger"}),this.saving=!1,this.$fhcAlert.handleSystemError(t)})}},created(){this.uuid=p++},template:'\n\t<div class="studierendenantrag-form-abmeldung">\n\t\t<core-fetch-cmpt :api-function="load">\n\t\t\t<core-form ref="form" class="row">\n\t\t\t\t<div class="col-12">\n\t\t\t\t\t<form-validation></form-validation>\n\t\t\t\t\t<table class="table">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studiengang\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'organisationsform\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.orgform_bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'projektarbeitsbeurteilung\', \'nameStudierende\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.name}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'person\', \'personenkennzeichen\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.matrikelnr}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studienjahr\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.studienjahr_kurzbz}}</td>\n\t\t\t\t\t\t</tr>\t\t\t\t\t\t\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studiensemester\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.studiensemester_kurzbz}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'semester\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.semester}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div v-if="data.grund" class="mb-3">\n\t\t\t\t\t<h5>{{$p.t(\'studierendenantrag\', \'antrag_grund\')}}:</h5>\n\t\t\t\t\t<pre>{{data.grund}}</pre>\n\t\t\t\t</div>\n\t\t\t\t<div v-else class="col-sm-6 mb-3">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype="textarea"\n\t\t\t\t\t\tlabel="Grund:"\n\t\t\t\t\t\tv-model="formData.grund"\n\t\t\t\t\t\tname="grund"\n\t\t\t\t\t\trows="5"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-12 text-end">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if="data.studierendenantrag_id && data.canCancel"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\tclass="btn btn-danger"\n\t\t\t\t\t\t@click="cancelAntrag"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'btn_cancel\')}}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-else-if="!data.studierendenantrag_id"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\tclass="btn btn-primary"\n\t\t\t\t\t\tdata-bs-toggle="modal"\n\t\t\t\t\t\t:data-bs-target="\'#studierendenantrag-form-abmeldung-\' + uuid + \'-modal\'"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'btn_create_Abmeldung\')}}\n\t\t\t\t\t</button>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tref="modal"\n\t\t\t\t\t\tclass="modal fade text-start"\n\t\t\t\t\t\t:id="\'studierendenantrag-form-abmeldung-\' + uuid + \'-modal\'"\n\t\t\t\t\t\ttabindex="-1"\n\t\t\t\t\t\t:aria-labelledby="\'studierendenantrag-form-abmeldung-\' + uuid + \'-modal-label\'"\n\t\t\t\t\t\taria-hidden="true">\n\t\t\t\t\t\t<div class="modal-dialog">\n\t\t\t\t\t\t\t<div class="modal-content">\n\t\t\t\t\t\t\t\t<div class="modal-header">\n\t\t\t\t\t\t\t\t\t<h5\n\t\t\t\t\t\t\t\t\t\tclass="modal-title"\n\t\t\t\t\t\t\t\t\t\t:id="\'studierendenantrag-form-abmeldung-\' + uuid + \'-modal-label\'"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'title_Abmeldung\')}}\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t<button type="button" class="btn-close" data-bs-dismiss="modal" :aria-label="$p.t(\'ui\', \'schliessen\')"></button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="modal-body" v-html="$p.t(\'studierendenantrag\', \'warning_Abmeldung\')">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="modal-footer">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\t\tclass="btn btn-primary"\n\t\t\t\t\t\t\t\t\t\t@click="createAntrag">\n\t\t\t\t\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'btn_create_Abmeldung\')}}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</core-form>\n\t\t\t\n\t\t\t<template v-slot:error="{errorMessage}">\n\t\t\t\t<div class="alert alert-danger m-0" role="alert">\n\t\t\t\t\t{{ errorMessage }}\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</core-fetch-cmpt>\n\t</div>'},g={updatePersonUnrulyStatus:(t,e)=>({method:"post",url:"/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus",params:{person_id:t,unruly:e}}),filterPerson:(t,e="")=>({method:"post",url:e+"/api/frontend/v1/checkperson/CheckPerson/filterPerson",params:t})},h=0,f={components:{CoreFetchCmpt:s,CoreForm:i,FormValidation:o,FormInput:u},emits:["setInfos","setStatus"],props:{prestudentId:Number,studierendenantragId:Number},data:()=>({data:null,saving:!1,formData:{grund:""},unrulyInternal:!1}),computed:{statusSeverity(){switch(this.data?.status){case"Erstellt":return"info";case"Pause":case"Zurueckgezogen":return"danger";case"EinspruchAbgelehnt":case"Abgemeldet":return"success";default:return"warning"}}},methods:{load(){return this.$api.call(l.getDetails(this.studierendenantragId,this.prestudentId)).then(t=>{if(this.data=t.data,this.data.status){const t="Pause"==this.data.status&&"Studienabbruch"==this.data.status_insertvon?Vue.computed(()=>{let t=this.$p.t("studierendenantrag/status_stop");return this.$p.t("studierendenantrag","status_x",{status:t})}):Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp}));this.$emit("setStatus",{msg:t,severity:this.statusSeverity})}return t})},createAntrag(){bootstrap.Modal.getOrCreateInstance(this.$refs.modal).hide(),this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_saving")})),severity:"warning"}),this.saving=!0,this.$refs.form.clearValidation(),this.$refs.form.call(l.create(this.data.studiensemester_kurzbz,this.data.prestudent_id,this.formData.grund)).then(t=>{this.unrulyInternal&&this.$api.call(g.updatePersonUnrulyStatus(this.data.person_id,!0)).then(t=>{"success"===t?.meta?.status&&this.$fhcAlert.alertSuccess(this.$p.t("studierendenantrag","antrag_unruly_updated"))}),!0===t.data&&(document.location+=""),this.data=t.data,this.data.status?this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp})),severity:this.statusSeverity}):this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_open")})),severity:"success"}),this.saving=!1}).catch(t=>{this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_error")})),severity:"danger"}),this.saving=!1,this.$fhcAlert.handleSystemError(t)})},appendDropDownText(t){this.formData.grund=t.target.value?this.$p.t("studierendenantrag",t.target.value):""}},created(){this.uuid=h++},watch:{"formData.grund"(t){this.unrulyInternal=t===this.$p.t("studierendenantrag","textLong_unruly")}},template:'\n\t<div class="studierendenantrag-form-abmeldung">\n\t\t<core-fetch-cmpt :api-function="load">\n\t\t\t<core-form ref="form" class="row">\n\t\t\t\t<div class="col-12">\n\t\t\t\t\t<form-validation></form-validation>\n\t\t\t\t\t<table class="table">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studiengang\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'organisationsform\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.orgform_bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'projektarbeitsbeurteilung\', \'nameStudierende\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.name}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'person\', \'personenkennzeichen\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.matrikelnr}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studienjahr\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.studienjahr_kurzbz}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studiensemester\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.studiensemester_kurzbz}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'semester\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.semester}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if="data.grund" class="mb-3">\n\t\t\t\t\t<h5>{{$p.t(\'studierendenantrag\', \'antrag_grund\')}}:</h5>\n\t\t\t\t\n\t\t\t\t\t<pre class="text-prewrap">{{data?.grund}}</pre>\n\t\t\t\t</div>      \n\t\t\t\t<div v-else class="col-sm-6 mb-3">\n\t\t\t\t\t<label :for="\'studierendenantrag-form-abmeldung-\' + uuid + \'-grund\'" class="form-label">Grund:</label>\n\t\t\t\t\t<div class="mb-2">\n\t\t\t\t\t\t<select name="grundAv" class="form-select" @change="appendDropDownText">\n\t\t\t\t\t\t\t<option value="" > --- bitte ausw√§hlen, sofern zutreffend ---- </option>\n\t\t\t\t\t\t\t<option value="textLong_NichtantrittStudium">{{$p.t(\'studierendenantrag\', \'dropdown_NichtantrittStudium\')}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value="textLong_ungenuegendeLeistung">{{$p.t(\'studierendenantrag\', \'dropdown_ungenuegendeLeistung\')}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value="textLong_studentNichtAnwesend">{{$p.t(\'studierendenantrag\', \'dropdown_nichtAnwesend\')}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value="textLong_PruefunstermineNichtEingehalten">{{$p.t(\'studierendenantrag\', \'dropdown_PruefunstermineNichtEingehalten\')}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value="textLong_studentNichtGezahlt">{{$p.t(\'studierendenantrag\', \'dropdown_nichtGezahlt\')}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value="textLong_plageat">{{$p.t(\'studierendenantrag\', \'dropdown_plageat\')}}\n\t\t\t\t\t\t\t</option>\t\t\t\t\t\n\t\t\t\t\t\t\t<option value="textLong_MissingZgv">{{$p.t(\'studierendenantrag\', \'dropdown_MissingZgv\')}}\n\t\t\t\t\t\t\t</option>\t\n\x3c!--\n\t\t\t\t\t\t\t<option value="textLong_unruly">{{$p.t(\'studierendenantrag\', \'dropdown_unruly\')}}\n\t\t\t\t\t\t\t</option>\n--\x3e\n\t\t\t\t\t\t</select>\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype="textarea"\n\t\t\t\t\t\tv-model="formData.grund"\n\t\t\t\t\t\tname="grund"\n\t\t\t\t\t\t:id="\'studierendenantrag-form-abmeldung-\' + uuid + \'-grund\'"\n\t\t\t\t\t\trows="5"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="col-12 text-end">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if="!data?.studierendenantrag_id"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\tclass="btn btn-primary"\n\t\t\t\t\t\tdata-bs-toggle="modal"\n\t\t\t\t\t\t:data-bs-target="\'#studierendenantrag-form-abmeldung-\' + uuid + \'-modal\'"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'btn_create_Abmeldung\')}}\n\t\t\t\t\t</button>\n\t\t\t\t\t<div\n\t\t\t\t\t\tref="modal"\n\t\t\t\t\t\tclass="modal fade text-start"\n\t\t\t\t\t\t:id="\'studierendenantrag-form-abmeldung-\' + uuid + \'-modal\'"\n\t\t\t\t\t\ttabindex="-1"\n\t\t\t\t\t\t:aria-labelledby="\'studierendenantrag-form-abmeldung-\' + uuid + \'-modal-label\'"\n\t\t\t\t\t\taria-hidden="true">\n\t\t\t\t\t\t<div class="modal-dialog">\n\t\t\t\t\t\t\t<div class="modal-content">\n\t\t\t\t\t\t\t\t<div class="modal-header">\n\t\t\t\t\t\t\t\t\t<h5\n\t\t\t\t\t\t\t\t\t\tclass="modal-title"\n\t\t\t\t\t\t\t\t\t\t:id="\'studierendenantrag-form-abmeldung-\' + uuid + \'-modal-label\'"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'title_Abmeldung\')}}\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t<button type="button" class="btn-close" data-bs-dismiss="modal" :aria-label="$p.t(\'ui\', \'schliessen\')"></button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="modal-body" v-html="$p.t(\'studierendenantrag\', \'warning_AbmeldungStgl\')">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="modal-footer">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\t\t\t\t\tclass="btn btn-primary"\n\t\t\t\t\t\t\t\t\t\t@click="createAntrag">\n\t\t\t\t\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'btn_create_Abmeldung\')}}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</core-form>\n\t\t\t\n\t\t\t<template v-slot:error="{errorMessage}">\n\t\t\t\t<div class="alert alert-danger m-0" role="alert">\n\t\t\t\t\t{{ errorMessage }}\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</core-fetch-cmpt>\n\t</div>'},m={getDetails:(t,e)=>({method:"get",url:"/api/frontend/v1/studstatus/unterbrechung/"+(void 0!==t?"getDetailsForAntrag/"+t:"getDetailsForNewAntrag/"+e)}),create:(t,e,n,r,s)=>({method:"post",url:"/api/frontend/v1/studstatus/unterbrechung/createAntrag",params:{studiensemester:t,prestudent_id:e,grund:n,datum_wiedereinstieg:r,attachment:s}}),cancel:t=>({method:"post",url:"/api/frontend/v1/studstatus/unterbrechung/cancelAntrag",params:{antrag_id:t}})},v={components:{CoreFetchCmpt:s,CoreForm:i,FormValidation:o,FormInput:u},emits:["setInfos","setStatus"],props:{prestudentId:Number,studierendenantragId:Number},data:()=>({data:null,saving:!1,attachment:[],stsem:null,currentWiedereinstieg:"",siteUrl:FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router}),computed:{statusSeverity(){switch(this.data.status){case"Erstellt":return"info";case"Pause":case"Zurueckgezogen":case"Abgelehnt":return"danger";case"Genehmigt":case"EmailVersandt":return"success";default:return"warning"}},datumWsFormatted(){let t="";return this.data.datum_wiedereinstieg?t=this.data.datum_wiedereinstieg:null!==this.stsem&&this.data.studiensemester[this.stsem].wiedereinstieg&&(t=this.data.studiensemester[this.stsem].wiedereinstieg),""===t?t:new Date(t).toLocaleDateString()},semesterOffsets(){return this.data&&this.data.studiensemester?Object.values(this.data.studiensemester).filter(t=>!t.disabled).map(t=>t.studiensemester_kurzbz):[]},semester(){return this.stsem?this.data.semester+this.semesterOffsets.indexOf(this.stsem):""}},methods:{load(){return this.$api.call(m.getDetails(this.studierendenantragId,this.prestudentId)).then(t=>{if(this.data=t.data,this.data.status){const t="Pause"==this.data.status&&"Studienabbruch"==this.data.status_insertvon?Vue.computed(()=>{let t=this.$p.t("studierendenantrag/status_stop");return this.$p.t("studierendenantrag","status_x",{status:t})}):Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp}));this.$emit("setStatus",{msg:t,severity:this.statusSeverity})}return t})},createAntrag(){this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_saving")})),severity:"warning"}),this.saving=!0,this.$refs.form.clearValidation(),this.$refs.form.call(m.create(null!==this.stsem&&this.data.studiensemester[this.stsem].studiensemester_kurzbz,this.data.prestudent_id,this.data.grund,null!==this.stsem&&this.currentWiedereinstieg,this.attachment)).then(t=>{Number.isInteger(t.data)&&(document.location+="/"+t.data),this.data=t.data,this.data.status?this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp})),severity:this.statusSeverity}):this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_created")})),severity:"info"}),this.saving=!1}).catch(t=>{this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_error")})),severity:"danger"}),this.saving=!1,this.$fhcAlert.handleSystemError(t)})},cancelAntrag(){this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_cancelling")})),severity:"warning"}),this.saving=!0,this.$refs.form.clearValidation(),this.$refs.form.call(m.cancel(this.data.studierendenantrag_id)).then(t=>{Number.isInteger(t.data)&&(document.location=document.location.replace(/unterbrechung\/([0-9]*)\/[0-9]*[\/]?$/,"unterbrechung/$1")+"/"+t.data),this.data=t.data,this.data.status?this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp})),severity:this.statusSeverity}):this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_cancelled")})),severity:"danger"}),this.saving=!1}).catch(t=>{this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_error")})),severity:"danger"}),this.saving=!1,this.$fhcAlert.handleSystemError(t)})}},template:'\n\t<div class="studierendenantrag-form-unterbrechung">\n\t\t<core-fetch-cmpt :api-function="load">\n\t\t\t<core-form ref="form" class="row">\n\t\t\t\t<div class="col-12">\n\t\t\t\t\t<form-validation></form-validation>\n\t\t\t\t\t<table class="table">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studiengang\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'organisationsform\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.orgform_bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'projektarbeitsbeurteilung\', \'nameStudierende\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.name}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'person\', \'personenkennzeichen\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.matrikelnr}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studienjahr\')}}</th>\n\t\t\t\t\t\t\t<td align="right" v-if="data.studierendenantrag_id">{{data.studienjahr_kurzbz}}</td>\n\t\t\t\t\t\t\t<td align="right" v-else>{{stsem === null ? \'\' : data.studiensemester[stsem].studienjahr_kurzbz}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'semester\')}}</th>\n\t\t\t\t\t\t\t<td align="right" v-if="data.studierendenantrag_id">{{data.semester}}</td>\n\t\t\t\t\t\t\t<td align="right" v-else>{{semester}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="col-sm-6 mb-3">\n\t\t\t\t\t<div v-if="data.studierendenantrag_id">\n\t\t\t\t\t\t<label class="form-label">\n\t\t\t\t\t\t\t{{$p.t(\'lehre\', \'studiensemester\')}}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{{data.studiensemester_kurzbz}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form-input\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\ttype="select"\n\t\t\t\t\t\tv-model="stsem"\n\t\t\t\t\t\tname="studiensemester"\n\t\t\t\t\t\t:label="$p.t(\'lehre\', \'studiensemester\')"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t@input="currentWiedereinstieg = \'\'"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<option v-for="(stsem, index) in data.studiensemester" :key="index" :value="index" :disabled="stsem.disabled">\n\t\t\t\t\t\t\t{{stsem.studiensemester_kurzbz}}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-sm-6 mb-3">\n\t\t\t\t\t<div v-if="data.studierendenantrag_id">\n\t\t\t\t\t\t<label class="form-label">\n\t\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'antrag_datum_wiedereinstieg\')}}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{{datumWsFormatted}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form-input\n\t\t\t\t\t\tv-else-if="stsem === null"\n\t\t\t\t\t\ttype="select"\n\t\t\t\t\t\t:label="$p.t(\'studierendenantrag\', \'antrag_datum_wiedereinstieg\')"\n\t\t\t\t\t\tmodelValue=""\n\t\t\t\t\t\tname="datum_wiedereinstieg"\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t<option value="" selected disabled hidden>{{$p.t(\'ui/select_studiensemester\')}}</option>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</form-input>\n\t\t\t\t\t<form-input\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\ttype="select"\n\t\t\t\t\t\t:label="$p.t(\'studierendenantrag\', \'antrag_datum_wiedereinstieg\')"\n\t\t\t\t\t\tv-model="currentWiedereinstieg"\n\t\t\t\t\t\tname="datum_wiedereinstieg"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<option v-for="sem in data.studiensemester[stsem].wiedereinstieg" :key="sem.studiensemester_kurzbz" :value="sem.start" :disabled="sem.disabled">\n\t\t\t\t\t\t\t{{sem.studiensemester_kurzbz}}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-sm-6 mb-3">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\tv-if="data.studierendenantrag_id"\n\t\t\t\t\t\ttype="textarea"\n\t\t\t\t\t\t:label="$p.t(\'studierendenantrag\', \'antrag_grund\') + \':\'"\n\t\t\t\t\t\tv-model="data.grund"\n\t\t\t\t\t\tname="grund"\n\t\t\t\t\t\trows="5"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t\t<form-input\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\tref="grund"\n\t\t\t\t\t\ttype="textarea"\n\t\t\t\t\t\t:label="$p.t(\'studierendenantrag\', \'antrag_grund\') + \':\'"\n\t\t\t\t\t\tv-model="data.grund"\n\t\t\t\t\t\tname="grund"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t\trows="5"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-12 mb-3">\n\t\t\t\t\t<div v-if="data.studierendenantrag_id">\n\t\t\t\t\t\t<a v-if="data.dms_id" target="_blank" :href="siteUrl + \'/lehre/Antrag/Attachment/Show/\' + data.dms_id"> {{$p.t(\'studierendenantrag\', \'antrag_dateianhaenge\')}} </a>\n\t\t\t\t\t\t<span v-else>{{$p.t(\'studierendenantrag\', \'no_attachments\')}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form-input\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\tref="attachment"\n\t\t\t\t\t\ttype="uploadfile"\n\t\t\t\t\t\t:label="$p.t(\'studierendenantrag\', \'antrag_dateianhaenge\')"\n\t\t\t\t\t\tv-model="attachment"\n\t\t\t\t\t\tname="attachment"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-12 text-end">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if="!data.studierendenantrag_id"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\tclass="btn btn-primary"\n\t\t\t\t\t\t@click="createAntrag"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'btn_create_Unterbrechung\')}}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-else-if="data.status == \'Erstellt\'"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\tclass="btn btn-danger"\n\t\t\t\t\t\t@click="cancelAntrag"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t{{$p.t(\'studierendenantrag\', \'btn_cancel\')}}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</core-form>\n\t\t\t<template v-slot:error="{errorMessage}">\n\t\t\t\t<div class="alert alert-danger m-0" role="alert">\n\t\t\t\t\t{{ errorMessage }}\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</core-fetch-cmpt>\n\t</div>'},A={getDetails:t=>({method:"get",url:"/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/"+t}),getLvs:t=>({method:"get",url:"/api/frontend/v1/studstatus/wiederholung/getLvs/"+t}),create:(t,e)=>({method:"post",url:"/api/frontend/v1/studstatus/wiederholung/createAntrag",params:{prestudent_id:t,studiensemester:e}}),cancel:(t,e)=>({method:"post",url:"/api/frontend/v1/studstatus/wiederholung/cancelAntrag",params:{prestudent_id:t,studiensemester:e}}),saveLvs:(t,e)=>({method:"post",url:"/api/frontend/v1/studstatus/wiederholung/saveLvs",params:{forbiddenLvs:t,mandatoryLvs:e}})},b={components:{CoreFetchCmpt:s,CoreForm:i,FormValidation:o},emits:["setInfos","setStatus","update:status"],props:{status:String,prestudentId:Number,studierendenantragId:Number},data:()=>({data:null,saving:!1,infos:[]}),computed:{statusSeverity(){switch(this.data.status){case"Offen":case"Erstellt":case"ErsteAufforderungVersandt":return"info";case"Genehmigt":return"success";case"Pause":case"Verzichtet":case"Abgemeldet":return"danger";default:return"warning"}},datumPruefungFormatted(){if(!this.data.pruefungsdatum)return"";return new Date(this.data.pruefungsdatum).toLocaleDateString()}},methods:{load(){return this.$api.call(A.getDetails(this.prestudentId)).then(t=>{this.data=t.data,this.data.status&&"ErsteAufforderungVersandt"!=this.data.status&&"ZweiteAufforderungVersandt"!=this.data.status||(this.data.status="Offen",this.data.statustyp=this.$p.t("studierendenantrag","status_open")),this.$emit("update:status",this.data.status);const e="Pause"==this.data.status&&"Studienabbruch"==this.data.status_insertvon?Vue.computed(()=>{let t=this.$p.t("studierendenantrag/status_stop");return this.$p.t("studierendenantrag","status_x",{status:t})}):Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp}));return this.$emit("setStatus",{msg:e,severity:this.statusSeverity}),t})},createAntrag(){this.createAntragWithStatus(!0)},cancelAntrag(){this.createAntragWithStatus(!1)},createAntragWithStatus(t){let e=t?"create":"cancel",n=t?"Erstellt":"Verzichtet";this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_saving")})),severity:"warning"}),this.saving=!0,this.$refs.form.call(A[e](this.data.prestudent_id,this.data.studiensemester_kurzbz)).then(t=>{!0===t.data&&(document.location+=""),this.data=t.data,this.data.status||(this.data.status=n),this.$emit("update:status",this.data.status),this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.data.statustyp})),severity:this.statusSeverity}),this.saving=!1}).catch(t=>{this.$emit("setStatus",{msg:Vue.computed(()=>this.$p.t("studierendenantrag","status_x",{status:this.$p.t("studierendenantrag","status_error")})),severity:"danger"}),this.saving=!1,this.$fhcAlert.handleSystemError(t)})}},mounted(){this.infos=[...Array(5).keys()].map(t=>({body:Vue.computed(()=>this.$p.t("studierendenantrag","infotext_Wiederholung_"+t))})),this.$emit("setInfos",this.infos)},template:'\n\t<div class="studierendenantrag-form-wiederholung">\n\t\t<core-fetch-cmpt :api-function="load">\n\t\t\t<core-form ref="form" class="row">\n\t\t\t\t<div class="col-12">\n\t\t\t\t\t<form-validation></form-validation>\n\t\t\t\t\t<table class="table">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'studiengang\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'lehre\', \'organisationsform\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.orgform_bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'projektarbeitsbeurteilung\', \'nameStudierende\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.name}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'person\', \'personenkennzeichen\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.matrikelnr}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'studierendenantrag\', \'antrag_Wiederholung_pruefung\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{data.lvbezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>{{$p.t(\'studierendenantrag\', \'antrag_Wiederholung_pruefung_date\')}}</th>\n\t\t\t\t\t\t\t<td align="right">{{datumPruefungFormatted}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="col-12 d-flex justify-content-end gap-2">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if="!data.studierendenantrag_id || data.status == \'Offen\'"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\tclass="btn btn-primary"\n\t\t\t\t\t\t@click="createAntrag"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{$p.t(\'studierendenantrag/antrag_Wiederholung_button_yes\')}}\n\t\t\t\t\t</button>\n\x3c!--\t\t\t\t\t<button\n\t\t\t\t\t\tv-if="!data.studierendenantrag_id || data.status == \'Offen\'"\n\t\t\t\t\t\ttype="button"\n\t\t\t\t\t\tclass="btn btn-danger"\n\t\t\t\t\t\t@click="cancelAntrag"\n\t\t\t\t\t\t:disabled="saving"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{$p.t(\'studierendenantrag/antrag_Wiederholung_button_no\')}}\n\t\t\t\t\t</button>--\x3e\n\t\t\t\t</div>\n\t\t\t</core-form>\n\t\t\t<template v-slot:error="{errorMessage}">\n\t\t\t\t<div class="alert alert-danger m-0" role="alert">\n\t\t\t\t\t{{ errorMessage }}\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</core-fetch-cmpt>\n\t</div>\n\t'},_={components:{StudierendenantragAbmeldung:c,StudierendenantragAbmeldungStgl:f,StudierendenantragUnterbrechung:v,StudierendenantragWiederholung:b},emits:["update:infoArray","update:statusMsg","update:statusSeverity"],props:{antragType:String,prestudentId:Number,studierendenantragId:Number,infoArray:Array,statusMsg:String,statusSeverity:String},data:()=>({status:""}),computed:{typeComponent(){return"Studierendenantrag"+this.antragType},infoText(){return this.$p.t("studierendenantrag/info_"+this.antragType+"_"+this.status)}},template:'\n\t<div class="studierendenantrag-antrag card">\n\t\t<div class="card-header">\n\t\t    {{$p.t(\'studierendenantrag\', \'title_\' + antragType)}}\n\t\t</div>\n\t\t<div v-if="infoText && infoText.substr(0, 9) != \'<< PHRASE\'" class="alert alert-primary m-3" role="alert" v-html="infoText">\n\t\t</div>\n\t\t<component\n\t\t\t:is="typeComponent"\n\t\t\tclass="card-body"\n\t\t\tv-model:status="status"\n\t\t\t:prestudent-id="prestudentId"\n\t\t\t:studierendenantrag-id="studierendenantragId"\n\t\t\t@setInfos="$emit(\'update:infoArray\', $event)"\n\t\t\t@setStatus="$emit(\'update:statusMsg\', $event.msg);$emit(\'update:statusSeverity\', $event.severity)"\n\t\t\t>\n\t\t</component>\n\t</div>\n\t'},$={props:{msg:String,severity:String},computed:{severityClass(){return"alert-"+this.severity}},template:'\n\t<div v-if="msg && severity" class="studierendenantrag-status alert text-center mb-3" :class="severityClass" role="alert" v-html="msg">\n\t</div>\n\t'},y={props:{infos:Array},template:'\n\t<div class="studierendenantrag-infoblock">\n\t\t<div v-for="(info, index) in infos" :key="index" class="alert d-flex align-items-center" :class="\'alert-\' + (info.severity || \'info\')" role="alert">\n\t\t\t<i class="fa fa-lg flex-shrink-0 me-3" :class="\'fa-\' + (info.icon || \'info-circle\')" role="img" aria-label="Info:"></i>\n\t\t\t<div v-if="info.title">\n\t\t\t\t<h4 v-if="info.title" class="alert-heading">\n\t\t\t\t\t{{info.title}}\n\t\t\t\t</h4>\n\t\t\t\t<p class="mb-0" v-html="info.body"></p>\n\t\t\t</div>\n\t\t\t<p v-else class="mb-0" v-html="info.body"></p>\n\t\t</div>\n\t</div>\n\t'},S={search(t,e){return this.$fhcApi.post("/api/frontend/v1/searchbar/search",t,e)},searchAdvanced(t,e){return this.$fhcApi.post("/api/frontend/v1/searchbar/searchAdvanced",t,e)},searchdummy(t){return this.$fhcApi.post("public/js/apps/api/dummyapi.php/Search",t)}},k={loadCategory(t){return this.$fhcApi.get("/api/frontend/v1/phrasen/loadModule/"+t)},setLanguage(t,e){const n={categories:t,language:e};return this.$fhcApi.post("/api/frontend/v1/phrasen/setLanguage",n)},getLanguage(){return this.$fhcApi.get("/api/frontend/v1/phrasen/getLanguage",{})},getActiveDbLanguages(){return this.$fhcApi.get("/api/frontend/v1/phrasen/getAllLanguages",{})}},C={getHeader(t){return this.$fhcApi.get("/api/frontend/v1/navigation/header",{navigation_page:t})},getMenu:function(t){return this.$fhcApi.get("/api/frontend/v1/navigation/menu",{navigation_page:t})}},T={saveCustomFilter(t){return this.$fhcApi.post("/api/frontend/v1/filter/saveCustomFilter",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,customFilterName:t.customFilterName})},removeCustomFilter(t){return this.$fhcApi.post("/api/frontend/v1/filter/removeCustomFilter",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterId:t.filterId})},applyFilterFields(t){return this.$fhcApi.post("/api/frontend/v1/filter/applyFilterFields",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterFields:t.filterFields})},addFilterField(t){return this.$fhcApi.post("/api/frontend/v1/filter/addFilterField",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterField:t.filterField})},removeFilterField(t){return this.$fhcApi.post("/api/frontend/v1/filter/removeFilterField",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterField:t.filterField})},getFilterById(t){return this.$fhcApi.get("/api/frontend/v1/filter/getFilter",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterId:t.filterId})},getFilter(t){return this.$fhcApi.get("/api/frontend/v1/filter/getFilter",{filterUniqueId:t.filterUniqueId,filterType:t.filterType})}},P={abmeldung:{getDetails(t,e){const n="/api/frontend/v1/studstatus/abmeldung/"+(void 0!==t?"getDetailsForAntrag/"+t:"getDetailsForNewAntrag/"+e);return this.$fhcApi.get(n)},create(t,e,n){return this.$fhcApi.post("/api/frontend/v1/studstatus/abmeldung/createAntrag",{studiensemester:t,prestudent_id:e,grund:n},{errorHandling:"strict"})},cancel(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/abmeldung/cancelAntrag",{antrag_id:t.studierendenantrag_id},{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/abmeldung/cancelAntrag",{antrag_id:t})}},unterbrechung:{getDetails(t,e){const n="/api/frontend/v1/studstatus/unterbrechung/"+(void 0!==t?"getDetailsForAntrag/"+t:"getDetailsForNewAntrag/"+e);return this.$fhcApi.get(n)},create(t,e,n,r,s){return this.$fhcApi.post("/api/frontend/v1/studstatus/unterbrechung/createAntrag",{studiensemester:t,prestudent_id:e,grund:n,datum_wiedereinstieg:r,attachment:s},{errorHandling:"strict"})},cancel(t){return this.$fhcApi.post("/api/frontend/v1/studstatus/unterbrechung/cancelAntrag",{antrag_id:t},{errorHandling:"strict"})}},wiederholung:{getDetails(t){const e="/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/"+t;return this.$fhcApi.get(e)},getLvs(t){const e="/api/frontend/v1/studstatus/wiederholung/getLvs/"+t;return this.$fhcApi.get(e)},create(t,e){return this.$fhcApi.post("/api/frontend/v1/studstatus/wiederholung/createAntrag",{prestudent_id:t,studiensemester:e},{errorHandling:"strict"})},cancel(t,e){return this.$fhcApi.post("/api/frontend/v1/studstatus/wiederholung/cancelAntrag",{prestudent_id:t,studiensemester:e},{errorHandling:"strict"})},saveLvs(t,e){return this.$fhcApi.post("/api/frontend/v1/studstatus/wiederholung/saveLvs",{forbiddenLvs:t,mandatoryLvs:e})}},leitung:{getStgs(){return this.$fhcApi.get("/api/frontend/v1/studstatus/leitung/getActiveStgs")},getAntraege(t,e,n){return this.$fhcApi.get("/api/frontend/v1/studstatus/leitung/getAntraege/"+t).then(t=>t.data)},getHistory(t){return this.$fhcApi.get("/api/frontend/v1/studstatus/leitung/getHistory/"+t)},getPrestudents(t,e){return this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/getPrestudents",{query:t},{signal:e,timeout:3e4})},approve(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/approveAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/approveAntrag",t)},reject(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/rejectAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/rejectAntrag",t)},reopen(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/reopenAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/reopenAntrag",t)},pause(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/pauseAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/pauseAntrag",t)},unpause(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/unpauseAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/unpauseAntrag",t)},object(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/objectAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/objectAntrag",t)},approveObjection(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/approveObjection",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/approveObjection",t)},denyObjection(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/denyObjection",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/denyObjection",t)}}},E={getView:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/Profil/getView/${t}`,{})},fotoSperre:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/Profil/fotoSperre/${t}`,{})},isStudent:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Profil/isStudent",{uid:t})},isMitarbeiter:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/Profil/isMitarbeiter/${t}`,{})},getZustellAdresse:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Profil/getZustellAdresse",{})},getZustellKontakt:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Profil/getZustellKontakt",{})},getGemeinden:function(t,e){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/Profil/getGemeinden/${t}/${e}`,{})},getAllNationen:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Profil/getAllNationen",{})}},F={
//! API calls for profil update requests
getStatus:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/getStatus",{})},getTopic:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/getTopic",{})},acceptProfilRequest:function({profil_update_id:t,uid:e,status_message:n,topic:r,requested_change:s}){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/acceptProfilRequest",{profil_update_id:t,uid:e,status_message:n,topic:r,requested_change:s})},denyProfilRequest:function({profil_update_id:t,uid:e,topic:n,status_message:r}){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/denyProfilRequest",{profil_update_id:t,uid:e,topic:n,status_message:r})},insertFile:function(t,e=null){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/ProfilUpdate/insertFile/${e}`,t)},getProfilRequestFiles:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${t}`,{})},selectProfilRequest:function(t=null,e=null){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/selectProfilRequest",{...t?{uid:t}:{},...e?{id:e}:{}})},insertProfilRequest:function(t,e,n=null){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/insertProfilRequest",{topic:t,payload:e,...n?{fileID:n}:{}})},updateProfilRequest:function(t,e,n,r=null){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/updateProfilRequest",{topic:t,payload:e,ID:n,...r?{fileID:r}:{}})},deleteProfilRequest:function(t){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/deleteProfilRequest",{requestID:t})}},D={getRoomInfo(t,e,n){return this.$fhcApi.post("/api/frontend/v1/LvPlan/getRoomplan",{ort_kurzbz:t,start_date:e,end_date:n})},getStunden(){return this.$fhcApi.get("/api/frontend/v1/LvPlan/Stunden",{})},getOrtReservierungen(t,e,n){return this.$fhcApi.post(`/api/frontend/v1/LvPlan/getReservierungen/${t}`,{start_date:e,end_date:n})},getLvPlanReservierungen(t,e){return this.$fhcApi.post("/api/frontend/v1/LvPlan/getReservierungen",{start_date:t,end_date:e})},getLehreinheitStudiensemester(t){return this.$fhcApi.get(`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${t}`,{})},studiensemesterDateInterval(t){return this.$fhcApi.get(`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${t}`,{})},LvPlanEvents(t,e,n){return this.$fhcApi.get("/api/frontend/v1/LvPlan/LvPlanEvents",{start_date:t,end_date:e,lv_id:n})}},O={verband:{get(){return this.$fhcApi.get("api/frontend/v1/stv/verband")},favorites:{get(){return this.$fhcApi.get("api/frontend/v1/stv/favorites")},set(t){return this.$fhcApi.post("api/frontend/v1/stv/favorites/set",{favorites:t})}}},students:{uid(t,e){let n="api/frontend/v1/stv/students/"+encodeURIComponent(e)+"/uid/"+encodeURIComponent(t);return this.$fhcApi.getUri(n)},prestudent(t,e){let n="api/frontend/v1/stv/students/"+encodeURIComponent(e)+"/prestudent/"+encodeURIComponent(t);return this.$fhcApi.getUri(n)},person(t,e){let n="api/frontend/v1/stv/students/"+encodeURIComponent(e)+"/person/"+encodeURIComponent(t);return this.$fhcApi.getUri(n)},verband(t){return this.$fhcApi.getUri("api/frontend/v1/stv/students/"+t)}},filter:{getStg(){return this.$fhcApi.get("api/frontend/v1/stv/filter/getStg")},setStg(t){return this.$fhcApi.post("api/frontend/v1/stv/filter/setStg",{studiengang_kz:t})}},konto:{tabulatorConfig(t,e){return t.ajaxURL="api/frontend/v1/stv/konto/get",t.ajaxParams=()=>({person_id:e.modelValue.person_id||e.modelValue.map(t=>t.person_id),only_open:e.filter,studiengang_kz:e.studiengang_kz_intern?e.stg_kz:""}),t.ajaxRequestFunc=(t,e,n)=>this.$fhcApi.post(t,n,e),t.ajaxResponse=(t,e,n)=>n.data,t},checkDoubles(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/konto/checkDoubles",e,{confirmErrorHandler:t=>!0})},insert(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/konto/insert",e)},counter(t){return this.$fhcApi.post("api/frontend/v1/stv/konto/counter",t)},edit(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/konto/update",e)},delete(t){return this.$fhcApi.post("api/frontend/v1/stv/konto/delete",{buchungsnr:t})},getBuchungstypen(){return this.$fhcApi.get("api/frontend/v1/stv/konto/getBuchungstypen")}},group:{getGruppen(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/Gruppen/getGruppen/"+n.id)},deleteGroup(t){return this.$fhcApi.post("api/frontend/v1/stv/Gruppen/deleteGruppe/",t)}},kontakt:{getAdressen(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getAdressen/"+n.id)},addNewAddress(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/addNewAddress/"+e,n)},loadAddress(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/loadAddress/",{address_id:t})},updateAddress(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/updateAddress/"+e,n)},deleteAddress(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/deleteAddress/",{address_id:t})},getPlaces(t){return this.$fhcApi.get("api/frontend/v1/stv/address/getPlaces/"+t)},getFirmen(t){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getFirmen/"+t)},getNations(){return this.$fhcApi.get("api/frontend/v1/stv/address/getNations/")},getAdressentypen(){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getAdressentypen/")},getBankverbindung(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getBankverbindung/"+n.id)},addNewBankverbindung(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/addNewBankverbindung/"+e,n)},loadBankverbindung(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/loadBankverbindung/",{bankverbindung_id:t})},updateBankverbindung(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/updateBankverbindung/"+e,n)},deleteBankverbindung(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/deleteBankverbindung/",{bankverbindung_id:t})},getKontakte(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getKontakte/"+n.id)},addNewContact(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/addNewContact/"+e,n)},loadContact(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/loadContact/",{kontakt_id:t})},updateContact(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/updateContact/"+e,n)},deleteContact(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/deleteContact/",{kontakt_id:t})},getStandorteByFirma(t){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getStandorteByFirma/"+t)},getKontakttypen(){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getKontakttypen/")}},prestudent:{get(t,e){return this.$fhcApi.post("api/frontend/v1/stv/prestudent/get/"+encodeURIComponent(t)+"/"+encodeURIComponent(e))},updatePrestudent(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/prestudent/updatePrestudent/"+e,n)},getBezeichnungZGV(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBezeichnungZGV/")},getBezeichnungMZgv(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBezeichnungMZgv/")},getBezeichnungDZgv(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBezeichnungDZgv/")},getStgs(){return this.$fhcApi.get("api/frontend/v1/stv/lists/getStgs/")},getAusbildung(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getAusbildung/")},getAufmerksamdurch(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getAufmerksamdurch/")},getBerufstaetigkeit(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBerufstaetigkeit/")},getTypenStg(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getTypenStg/")},getBisstandort(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBisstandort/")},getHistoryPrestudent(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/status/getHistoryPrestudent/"+n.id)},getMaxSem(t){return this.$fhcApi.post("api/frontend/v1/stv/status/getMaxSemester/",{studiengang_kzs:t})},advanceStatus({prestudent_id:t,status_kurzbz:e,studiensemester_kurzbz:n,ausbildungssemester:r}){return this.$fhcApi.post("api/frontend/v1/stv/status/advanceStatus/"+t+"/"+e+"/"+n+"/"+r)},confirmStatus({prestudent_id:t,status_kurzbz:e,studiensemester_kurzbz:n,ausbildungssemester:r}){return this.$fhcApi.post("api/frontend/v1/stv/status/confirmStatus/"+t+"/"+e+"/"+n+"/"+r)},isLastStatus(t){return this.$fhcApi.get("api/frontend/v1/stv/status/isLastStatus/"+t)},deleteStatus({prestudent_id:t,status_kurzbz:e,studiensemester_kurzbz:n,ausbildungssemester:r}){return this.$fhcApi.post("api/frontend/v1/stv/status/deleteStatus/"+t+"/"+e+"/"+n+"/"+r)},getLastBismeldestichtag(){return this.$fhcApi.get("api/frontend/v1/stv/status/getLastBismeldestichtag/")},getHistoryPrestudents(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getHistoryPrestudents/"+n.id)}},status:{insertStatus(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/status/insertStatus/"+e,n)},loadStatus({prestudent_id:t,status_kurzbz:e,studiensemester_kurzbz:n,ausbildungssemester:r}){return this.$fhcApi.post("api/frontend/v1/stv/status/loadStatus/"+t+"/"+e+"/"+n+"/"+r)},updateStatus(t,{prestudent_id:e,status_kurzbz:n,studiensemester_kurzbz:r,ausbildungssemester:s},a){return this.$fhcApi.post(t,"api/frontend/v1/stv/status/updateStatus/"+e+"/"+n+"/"+r+"/"+s,a)},getStudienplaene(t){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getStudienplaene/"+t)},getStudiengang(t){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getStudiengang/"+t)},getStatusgruende(){return this.$fhcApi.get("api/frontend/v1/stv/status/getStatusgruende/")},getStati(){return this.$fhcApi.get("api/frontend/v1/stv/lists/getStati/")},addStudent(t,e){return this.$fhcApi.post("api/frontend/v1/stv/status/addStudent/"+t,e,{errorHeader:t})},changeStatus(t,e){return this.$fhcApi.post("api/frontend/v1/stv/status/changeStatus/"+t,e,{errorHeader:t})},getStatusarray(){return this.$fhcApi.get("api/frontend/v1/stv/status/getStatusarray/")}},details:{get(t,e){let n="api/frontend/v1/stv/student/get/"+encodeURIComponent(t)+"/"+encodeURIComponent(e);return this.$fhcApi.post(n)},save(t,e,n,r){let s="api/frontend/v1/stv/student/save/"+encodeURIComponent(e)+"/"+encodeURIComponent(n);return this.$fhcApi.post(t,s,r)}},exam:{getPruefungen(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getPruefungen/"+n.id)},loadPruefung(t){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/loadPruefung/"+t)},getTypenPruefungen(){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getTypenPruefungen")},getAllLehreinheiten(t){return this.$fhcApi.post("api/frontend/v1/stv/pruefung/getAllLehreinheiten/",t)},getLvsByStudent(t){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getLvsByStudent/"+t)},getLvsandLesByStudent(t,e){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getLvsandLesByStudent/"+t+"/"+e)},getLvsAndMas(t){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getLvsAndMas/"+t)},getMitarbeiterLv(t){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getMitarbeiterLv/"+t)},getNoten(){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getNoten")},checkZeugnisnoteLv(t){return this.$fhcApi.post("api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/",t)},addPruefung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/pruefung/insertPruefung/",e)},updatePruefung(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/stv/pruefung/updatePruefung/"+e,n)},deletePruefung(t){return this.$fhcApi.post("api/frontend/v1/stv/pruefung/deletePruefung/"+t)}},abschlusspruefung:{getAbschlusspruefung(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/"+n.id)},addNewAbschlusspruefung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/",e)},loadAbschlusspruefung(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/",{id:t})},updateAbschlusspruefung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/",e)},deleteAbschlusspruefung(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/",{id:t})},getTypenAbschlusspruefung(){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/")},getTypenAntritte(){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/")},getBeurteilungen(){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/")},getAkadGrade(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/getAkadGrade/",{studiengang_kz:t})},getTypStudiengang(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/",{studiengang_kz:t})},getMitarbeiter(t){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/"+t)},getPruefer(t){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getPruefer/"+t)},getNoten(){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getNoten/")},checkForExistingExams(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/",{uids:t})}},grades:{list(){return this.$fhcApi.get("api/frontend/v1/stv/grades/list")},getCertificate(t,e){let n="api/frontend/v1/stv/grades/getCertificate/"+encodeURIComponent(t);return e&&(n=n+"/"+encodeURIComponent(e)),this.$fhcApi.get(n)},getTeacherProposal(t,e){let n="api/frontend/v1/stv/grades/getTeacherProposal/"+encodeURIComponent(t);return e&&(n=n+"/"+encodeURIComponent(e)),this.$fhcApi.get(n)},getRepeaterGrades(t,e){let n="api/frontend/v1/stv/grades/getRepeaterGrades/"+encodeURIComponent(t);return e&&(n=n+"/"+encodeURIComponent(e)),this.$fhcApi.get(n)},updateCertificate({lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:n,note:r,lehrveranstaltung_bezeichnung:s}){return this.$fhcApi.post("api/frontend/v1/stv/grades/updateCertificate",{lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:n,note:r},{errorHeader:s})},deleteCertificate({lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:n,lehrveranstaltung_bezeichnung:r}){return this.$fhcApi.post("api/frontend/v1/stv/grades/deleteCertificate",{lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:n},{errorHeader:r})},copyTeacherProposalToCertificate({lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:n,lehrveranstaltung_bezeichnung:r}){return this.$fhcApi.post("api/frontend/v1/stv/grades/copyTeacherProposalToCertificate",{lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:n},{errorHeader:r})},copyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id:t,lv_bezeichnung:e}){return this.$fhcApi.post("api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate",{studierendenantrag_lehrveranstaltung_id:t},{errorHeader:e})},getGradeFromPoints(t,e,n,r){const s=r?{errorHandling:!1}:{};return this.$fhcApi.post("api/frontend/v1/stv/grades/getGradeFromPoints",{points:t,lehrveranstaltung_id:e,studiensemester_kurzbz:n},s)}},mobility:{getMobilitaeten(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getMobilitaeten/"+n.id)},getProgramsMobility(){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getProgramsMobility/")},addNewMobility(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/mobility/insertMobility/",e)},loadMobility(t){return this.$fhcApi.get("api/frontend/v1/stv/mobility/loadMobility/"+t)},updateMobility(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/mobility/updateMobility/",e)},deleteMobility(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/deleteMobility/"+t)},getLVList(t){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getLVList/"+t)},getAllLehreinheiten(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/getAllLehreinheiten/",t)},getLvsandLesByStudent(t){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getLvsandLesByStudent/"+t)},getPurposes(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getPurposes/"+n.id)},getSupports(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getSupports/"+n.id)},getListPurposes(){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getListPurposes/")},getListSupports(){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getListSupports/")},deleteMobilityPurpose(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/deleteMobilityPurpose/"+t.bisio_id,t)},addMobilityPurpose(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/addMobilityPurpose/"+t.bisio_id,t)},deleteMobilitySupport(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/deleteMobilitySupport/"+t.bisio_id,t)},addMobilitySupport(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/addMobilitySupport/"+t.bisio_id,t)}},archiv:{tabulatorConfig(t,e){return t.ajaxURL="api/frontend/v1/stv/archiv/get",t.ajaxParams=()=>({person_id:e.modelValue.person_id||e.modelValue.map(t=>t.person_id)}),t.ajaxRequestFunc=(t,e,n)=>this.$fhcApi.post(t,n,e),t.ajaxResponse=(t,e,n)=>n.data,t},getArchivVorlagen(){return this.$fhcApi.post("api/frontend/v1/stv/archiv/getArchivVorlagen")},archive(t){return this.$fhcApi.post("api/frontend/v1/documents/archive",t)},archiveSigned(t){return this.$fhcApi.post("api/frontend/v1/documents/archiveSigned",t)},update(t){return this.$fhcApi.post("api/frontend/v1/stv/archiv/update",t)},delete({akte_id:t,studiengang_kz:e}){return this.$fhcApi.post("api/frontend/v1/stv/archiv/delete",{akte_id:t,studiengang_kz:e})}},documents:{getDocumentsUnaccepted(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/"+n.id+"/"+n.studiengang_kz)},getDocumentsAccepted(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/dokumente/getDocumentsAccepted/"+n.id+"/"+n.studiengang_kz)},deleteZuordnung(t){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/deleteZuordnung/"+t.prestudent_id+"/"+t.dokument_kurzbz)},createZuordnung(t){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/createZuordnung/"+t.prestudent_id+"/"+t.dokument_kurzbz)},loadAkte(t){return this.$fhcApi.get("api/frontend/v1/stv/dokumente/loadAkte/"+t)},getDoktypen(){return this.$fhcApi.get("api/frontend/v1/stv/dokumente/getDoktypen/")},updateFile(t,e){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/updateAkte/"+t,e)},deleteFile(t){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/deleteAkte/"+t)},uploadFile(t,e){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/uploadDokument/"+t,e)}},exemptions:{getAnrechnungen(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getAnrechnungen/"+n.id)},getLehrveranstaltungen(t){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/"+t)},getBegruendungen(){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getBegruendungen/")},getLvsKompatibel(t){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getLvsKompatibel/"+t)},getLektoren(t){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getLektoren/"+t)},addNewAnrechnung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/anrechnungen/insertAnrechnung/",e)},loadAnrechnung(t){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/loadAnrechnung/"+t)},editAnrechnung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/anrechnungen/updateAnrechnung/",e)},deleteAnrechnung(t){return this.$fhcApi.post("api/frontend/v1/stv/anrechnungen/deleteAnrechnung/"+t)}},jointstudies:{getStudies(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getStudien/"+n.id)},getTypenMobility(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/")},getStudiensemester(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/")},getStudyprograms(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/")},getListPartner(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/")},getStatiPrestudent(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/")},loadStudy(t){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/loadStudie/"+t)},insertStudy(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/GemeinsameStudien/insertStudie/",e)},updateStudy(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/GemeinsameStudien/updateStudie/",e)},deleteStudy(t){return this.$fhcApi.post("api/frontend/v1/stv/GemeinsameStudien/deleteStudie/"+t)}},courselist:{getCourselist(t,e,n){return this.$fhcApi.get("api/frontend/v1/stv/LvTermine/getStundenplan/"+n.student_uid+"/"+n.start_date+"/"+n.end_date+"/"+n.group_consecutiveHours+"/"+n.dbStundenplanTable)},getStudiensemester(){return this.$fhcApi.get("api/frontend/v1/stv/LvTermine/getStudiensemester/")}},configStudent(){return this.$fhcApi.get("api/frontend/v1/stv/config/student")},configStudents(){return this.$fhcApi.get("api/frontend/v1/stv/config/students")}},w={person:{getNotizen(t,e,n){return this.$fhcApi.get("api/frontend/v1/notiz/notizPerson/getNotizen/"+n.id+"/"+n.type)},getUid(){return this.$fhcApi.get("api/frontend/v1/notiz/notizPerson/getUid/")},addNewNotiz(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/notiz/notizPerson/addNewNotiz/"+e,n)},loadNotiz(t){return this.$fhcApi.post("api/frontend/v1/notiz/notizPerson/loadNotiz/",{notiz_id:t})},loadDokumente(t){return this.$fhcApi.post("api/frontend/v1/notiz/notizPerson/loadDokumente/",{notiz_id:t})},deleteNotiz(t,e,n){return this.$fhcApi.post("api/frontend/v1/notiz/notizPerson/deleteNotiz/",{notiz_id:t,type_id:e,id:n})},updateNotiz(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/notiz/notizPerson/updateNotiz/"+e,n)},getMitarbeiter(t){return this.$fhcApi.get("api/frontend/v1/notiz/notizPerson/getMitarbeiter/"+t)},isBerechtigt(t,e){return this.$fhcApi.get("api/frontend/v1/notiz/notizPerson/isBerechtigt/")}}},V={person:{getAllBetriebsmittel(t,e,n){return this.$fhcApi.get("api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/"+n.type+"/"+n.id)},addNewBetriebsmittel(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/"+e,n)},loadBetriebsmittel(t){return this.$fhcApi.post("api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/"+t)},updateBetriebsmittel(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/"+e,n)},deleteBetriebsmittel(t){return this.$fhcApi.post("api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/"+t)},getTypenBetriebsmittel(){return this.$fhcApi.get("api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/")},loadInventarliste(t){return this.$fhcApi.get("api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/"+t)}}},z={updatePersonUnrulyStatus(t,e){try{const n={person_id:t,unruly:e},r="/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus";return this.$fhcApi.post(r,n,null)}catch(t){throw t}},filterPerson(t,e=""){try{const n=e+"/api/frontend/v1/checkperson/CheckPerson/filterPerson";return axios.post(n,t)}catch(t){throw t}}},L={getContentID(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Ort/ContentID",{ort_kurzbz:t})},getRooms(t,e,n,r,s=0){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Ort/getRooms",{datum:t,von:e,bis:n,typ:r,personenanzahl:s})},getRoomTypes(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Ort/getTypes")}},j={content(t,e=null,n=null,r=null){return this.$fhcApi.get("/api/frontend/v1/Cms/content",{content_id:t,...e?{version:e}:{},...n?{sprache:n}:{},...r?{sichtbar:r}:{}})},getNews(t=1,e=10,n){return this.$fhcApi.get("/api/frontend/v1/Cms/getNews",{page:t,page_size:e,sprache:n})},news(t){return this.$fhcApi.get("/api/frontend/v1/Cms/news",{limit:t})},getNewsRowCount:function(){return this.$fhcApi.get("/api/frontend/v1/Cms/getNewsRowCount",{})},getNewsExtra:function(){return this.$fhcApi.get("/api/frontend/v1/Cms/getStudiengangInfoForNews",{})}},R={getStudentenMail(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Lehre/lvStudentenMail",{lehreinheit_id:t})},getLvInfo(t,e){return this.$fhcApi.get(`/api/frontend/v1/Lehre/LV/${t}/${e}`,{})},getStudentPruefungen(t){return this.$fhcApi.get(`/api/frontend/v1/Lehre/Pruefungen/${t}`,{})},getStudentProjektarbeiten(t){return this.$fhcApi.get(`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${t}`,{})},getStudentProjektabgaben(t){return this.$fhcApi.get("/api/frontend/v1/Lehre/getStudentProjektabgaben",{projektarbeit_id:t.projektarbeit_id,student_uid:t.student_uid})},postStudentProjektarbeitEndupload(t){return this.$fhcApi.post("/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload",t,{Headers:{"Content-Type":"multipart/form-data"}})},postStudentProjektarbeitZwischenabgabe(t){return this.$fhcApi.post("/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe",t,{Headers:{"Content-Type":"multipart/form-data"}})},getStudentProjektarbeitAbgabeFile(t,e){const n=`/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${t}&student_uid=${e}`;window.location=FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+n},getMitarbeiterProjektarbeiten(t,e){return this.$fhcApi.get(`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${e}`,{})},postProjektarbeitAbgabe(t){const e={paabgabe_id:t.paabgabe_id,paabgabetyp_kurzbz:t.bezeichnung.paabgabetyp_kurzbz,datum:t.datum,fixtermin:t.fixtermin,insertvon:t.insertvon,kurzbz:t.kurzbz,projektarbeit_id:t.projektarbeit_id};return this.$fhcApi.post("/api/frontend/v1/Lehre/postProjektarbeitAbgabe",e,null)},deleteProjektarbeitAbgabe(t){const e={paabgabe_id:t};return this.$fhcApi.post("/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe",e,null)},postSerientermin(t,e,n,r,s){const a={datum:t,paabgabetyp_kurzbz:e,bezeichnung:n,kurzbz:r,projektarbeit_ids:s};return this.$fhcApi.post("/api/frontend/v1/Lehre/postSerientermin",a,null)},fetchDeadlines(t){const e={person_id:t};return this.$fhcApi.post("/api/frontend/v1/Lehre/fetchDeadlines",e,null)}},x={getLvMenu(t,e){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/LvMenu/getLvMenu/${t}/${e}`,{})}},H={person:{getMessages(t,e,n){return this.$fhcApi.get("api/frontend/v1/messages/messages/getMessages/"+n.id+"/"+n.type+"/"+n.size+"/"+n.page)},getVorlagen(){return this.$fhcApi.get("api/frontend/v1/messages/messages/getVorlagen/")},getMsgVarsLoggedInUser(){return this.$fhcApi.get("api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/")},getMessageVarsPerson(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getMessageVarsPerson/"+t.id+"/"+t.type_id)},getMsgVarsPrestudent(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getMsgVarsPrestudent/"+t.id+"/"+t.type_id)},getPersonId(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getPersonId/"+t.id+"/"+t.type_id)},getUid(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getUid/"+t.id+"/"+t.type_id)},getDataVorlage(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getDataVorlage/"+t)},getNameOfDefaultRecipient(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getNameOfDefaultRecipient/"+t.id+"/"+t.type_id)},getPreviewText(t,e){return this.$fhcApi.post("api/frontend/v1/messages/messages/getPreviewText/"+t.id+"/"+t.type_id,e)},getReplyData(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getReplyData/"+t)},sendMessageFromModalContext(t,e,n){return this.$fhcApi.post(t,"api/frontend/v1/messages/messages/sendMessage/"+e,n)},sendMessage(t,e){return this.$fhcApi.post("api/frontend/v1/messages/messages/sendMessage/"+t,e)},deleteMessage(t){return this.$fhcApi.post("api/frontend/v1/messages/messages/deleteMessage/"+t)}}},B={getVorlagen(){return this.$fhcApi.get("api/frontend/v1/vorlagen/vorlagen/getVorlagen/")},getVorlagenByLoggedInUser(){return this.$fhcApi.get("api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/")}},J={getStudiensemester:function(){return this.$fhcApi.get("/components/Cis/Mylv/Studiensemester",{})},getAllStudienSemester:function(t=void 0,e=void 0,n=void 0,r=void 0){return this.$fhcApi.get("/api/frontend/v1/Studium/getStudienAllSemester",{studiensemester:t,studiengang:e,semester:n,studienplan:r})},getStudiengaengeForStudienSemester:function(t){return this.$fhcApi.get(`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${t}`,{})},getStudienplaeneBySemester:function(t,e){return this.$fhcApi.get("/api/frontend/v1/Studium/getStudienplaeneBySemester",{studiengang:t,studiensemester:e})},getLvPlanForStudiensemester:function(t,e){return this.$fhcApi.get(`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${t}/${e}`,{})},getLvEvaluierungInfo:function(t,e){return this.$fhcApi.get(`/api/frontend/v1/Studium/getLvEvaluierungInfo/${t}/${e}`,{})}},I={search:S,phrasen:k,navigation:C,dashboard:{async getViewData(){return this.$fhcApi.get("/api/frontend/v1/Cis4FhcApi/getViewData",null,null)}},filter:T,studstatus:P,profil:E,profilUpdate:F,lvPlan:D,bookmark:{getBookmarks:function(){return this.$fhcApi.get("/api/frontend/v1/Bookmark/getBookmarks",{})},delete:function(t){return this.$fhcApi.get(`/api/frontend/v1/Bookmark/delete/${t}`,{})},update:function({bookmark_id:t,url:e,title:n,tag:r=null}){return this.$fhcApi.post(`/api/frontend/v1/Bookmark/update/${t}`,{url:e,title:n})},insert:function({url:t,title:e,tag:n}){return this.$fhcApi.post("/api/frontend/v1/Bookmark/insert",{url:t,title:e,tag:n})}},stv:O,notiz:w,betriebsmittel:V,checkperson:z,ampeln:{open:function(){return this.$fhcApi.get("/api/frontend/v1/Ampeln/open",{})},all:function(){return this.$fhcApi.get("/api/frontend/v1/Ampeln/all",{})},confirm:function(t){return this.$fhcApi.get(`/api/frontend/v1/Ampeln/confirm/${t}`,{})}},ort:L,cms:j,lehre:R,addons:x,messages:H,vorlagen:B,addons:x,studiengang:{studiengangInformation:function(){return this.$fhcApi.get("/api/frontend/v1/Studgang/getStudiengangInfo",{})},getStudiengangByKz:function(t){return this.$fhcApi.get("/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz",{studiengang_kz:t})}},menu:{getMenu:function(){return this.$fhcApi.get("/api/frontend/v1/CisMenu/getMenu",{})}},authinfo:{getAuthUID(){return this.$fhcApi.get("/api/frontend/v1/AuthInfo/getAuthUID",{})},getAuthInfo(){return this.$fhcApi.get("/api/frontend/v1/AuthInfo/getAuthInfo",{})}},studium:J,language:{getAll(){return this.$fhcApi.get("/api/frontend/v1/language/get")}}},U={install:(t,e)=>{if(t.config.globalProperties.$fhcApi)return void(e?.factory&&(console.warn("$fhcApi is DEPRECATED!"),t.config.globalProperties.$fhcApi.factory.addEndpoints(e.factory)));function n(t,e,n,r){if("string"==typeof t&&void 0===r)[e,n,r]=[t,e,n],t=void 0;else if(t){if("object"!=typeof t)throw new TypeError("Parameter 1 of _get_config must be an object or a string");void 0===e&&void 0===n&&void 0===r&&(r=t,t=void 0)}if(t){if(!t.clearValidation||!t.setFeedback)throw new TypeError("'form' is not a Form Component");t={clearValidation:t.clearValidation,setFeedback:t.setFeedback},r?r.form=t:r={form:t}}return[e,n,r]}function r(t){const e=t.data;return delete t.data,e.meta?e.meta.response=t:e.meta={response:t},e}FHC_JS_DATA_STORAGE_OBJECT.app_root,FHC_JS_DATA_STORAGE_OBJECT.ci_router;const s=axios.create({timeout:5e5,baseURL:FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/"});s.interceptors.request.use(t=>{if("post"!=t.method||!t.data)return t;if(t.data instanceof FormData)return t;if(!Object.values(t.data).every(t=>!(t instanceof FileList)&&(!Array.isArray(t)||t.every(t=>!(t instanceof File))))){const e=Object.entries(t.data).reduce((t,[e,n])=>{if(n instanceof FileList)for(const r of n)t.FormData.append(e+(n.length>1?"[]":""),r);else Array.isArray(n)?n.every(t=>!(t instanceof File))?t.jsondata[e]=n:n.forEach(r=>t.FormData.append(e+(n.length>1?"[]":""),r)):t.jsondata[e]=n;return t},{FormData:new FormData,jsondata:{}});e.FormData.append("_jsondata",JSON.stringify(e.jsondata)),t.data=e.FormData}return t}),s.interceptors.response.use(e=>("off"==e.config?.errorHandling||!1===e.config?.errorHandling||"fail"==e.config?.errorHandling||e.data.errors&&(e.data.errors=e.data.errors.filter(n=>(e.config[n.type+"ErrorHandler"]||t.config.globalProperties.$fhcApi._defaultErrorHandlers[n.type])(n,e.config))),r(e)),e=>"ERR_CANCELED"==e.code?Promise.reject({handled:!0,...e}):"off"==e.config?.errorHandling||!1===e.config?.errorHandling||"success"==e.config?.errorHandling?Promise.reject(e):e.response?404==e.response.status?(t.config.globalProperties.$fhcAlert.alertDefault("error",e.message,e.request.responseURL,!0),Promise.reject({handled:!0,...e})):(e.response.data.errors=e.response.data.errors.filter(n=>(e.config[n.type+"ErrorHandler"]||t.config.globalProperties.$fhcApi._defaultErrorHandlers[n.type])(n,e.config)),e.response.data.errors.length?Promise.reject(e):Promise.reject({handled:!0,...e})):e.request?(t.config.globalProperties.$fhcAlert.alertDefault("error",e.message,e.request.responseURL),Promise.reject({handled:!0,...e})):(t.config.globalProperties.$fhcAlert.alertError(e.message),Promise.reject({handled:!0,...e}))),t.config.globalProperties.$fhcApi={getUri:t=>(console.warn("$fhcApi.getUri is DEPRECATED! Use $api.getUri instead."),s.getUri({url:t})),get:(t,e,r,a)=>(console.warn("$fhcApi.get is DEPRECATED! Use $api.get instead."),[e,r,a]=n(t,e,r,a),r&&(a?a.params=r:a={params:r}),s.get(e,a)),post:(t,e,r,a)=>(console.warn("$fhcApi.post is DEPRECATED! Use $api.post instead."),[e,r,a]=n(t,e,r,a),s.post(e,r,a)),_defaultErrorHandlers:{validation(e,n){const r=t.config.globalProperties.$fhcAlert;return n?.form?(n.form.clearValidation(),n.form.setFeedback(!1,e.messages),!1):Array.isArray(e.messages)?(e.messages.forEach(r.alertError),!1):"object"!=typeof e.messages||(n?.errorHeader?Object.values(e.messages).forEach(e=>r.alertDefault("error",Array.isArray(n.errorHeader)?t.config.globalProperties.$p.t.apply(null,n.errorHeader):n.errorHeader,e,!0)):Object.entries(e.messages).forEach(([t,e])=>r.alertDefault("error",t,e,!0)),!1)},general(e,n){const r=t.config.globalProperties.$fhcAlert;n?.form?n.form.setFeedback(!1,e.message):n?.errorHeader?r.alertDefault("error",Array.isArray(n.errorHeader)?t.config.globalProperties.$p.t.apply(null,n.errorHeader):n.errorHeader,e.message,!0):r.alertError(e.message)},php(e){const n=t.config.globalProperties.$fhcAlert;var r="";switch(r+="Message: "+e.message+"\n\n",r+="Filename: "+e.filename+"\n",r+="Line Number: "+e.line+"\n",e.backtrace&&e.backtrace.length&&(r+="\nBacktrace: ",e.backtrace.forEach(t=>{r+="\n\tFile: "+t.file+"\n",r+="\tLine: "+t.line+"\n",r+="\tFunction: "+t.function+"\n"})),e.severity){case"Warning":case"Core Warning":case"Compile Warning":case"User Warning":n.alertDefault("warn","PHP "+e.severity,r,!0);break;case"Notice":case"User Notice":case"Runtime Notice":n.alertDefault("info","PHP "+e.severity,r,!0);break;default:r="Type: PHP "+e.severity+"\n\n"+r,n.alertSystemError(r)}},exception(e){const n=t.config.globalProperties.$fhcAlert;var r="";r+="Type: "+e.class+"\n\n",r+="Message: "+e.message+"\n\n",r+="Filename: "+e.filename+"\n",r+="Line Number: "+e.line+"\n",e.backtrace&&e.backtrace.length&&(r+="\nBacktrace: ",e.backtrace.forEach(t=>{r+="\n\tFile: "+t.file+"\n",r+="\tLine: "+t.line+"\n",r+="\tFunction: "+t.function+"\n"})),n.alertSystemError(r)},db(e){const n=t.config.globalProperties.$fhcAlert;var r="";void 0!==e.heading&&(r+=e.heading+"\n\n"),void 0!==e.code&&(r+="Code: "+e.code+"\n\n"),void 0!==e.sql&&(r+="SQL: "+e.sql+"\n\n"),void 0!==e.message?r+="Message: "+e.message+"\n\n":void 0!==e.messages&&(r+="Messages: "+e.messages.join("\n\t")+"\n\n"),void 0!==e.filename&&(r+="Filename: "+e.filename+"\n"),void 0!==e.line&&(r+="Line Number: "+e.line+"\n"),n.alertSystemError(r)},auth(e,n){const r=t.config.globalProperties.$fhcAlert;var s="";s+="Controller name: "+e.controller+"\n",s+="Method name: "+e.method+"\n",s+="Required permissions: "+e.required_permissions,n?.errorHeader?r.alertDefault("error",Array.isArray(n.errorHeader)?t.config.globalProperties.$p.t.apply(null,n.errorHeader):n.errorHeader,e.message,!0):r.alertDefault("error",e.message,s)}}};class a{constructor(e,n){void 0===n?(this.$fhcApi={getUri:e=>(console.warn("$fhcApi.factory is DEPRECATED!"),t.config.globalProperties.$fhcApi.getUri(e)),get:(e,n,r,s)=>(console.warn("$fhcApi.factory is DEPRECATED!"),t.config.globalProperties.$fhcApi.get(e,n,r,s)),post:(e,n,r,s)=>(console.warn("$fhcApi.factory is DEPRECATED!"),t.config.globalProperties.$fhcApi.post(e,n,r,s))},Object.defineProperty(this.$fhcApi,"factory",{get:()=>(console.warn("$fhcApi.factory is DEPRECATED!"),t.config.globalProperties.$fhcApi.factory)}),t.config.globalProperties.$fhcApi.factory=this):Object.defineProperty(this,"$fhcApi",{get(){return(n||this).$fhcApi}}),this.addEndpoints(e,!0)}addEndpoints(t,e){Object.keys(t).forEach(e=>{Object.defineProperty(this,e,{get(){return"function"==typeof t[e]?t[e].bind(this):new a(t[e],this.$fhcApi.factory)}})}),e||console.warn("$fhcApi.factory.addEndpoints() is DEPRECATED!")}}const i=new a(I);e?.factory&&(console.warn("$fhcApi is DEPRECATED!"),i.addEndpoints(e.factory)),t.config.globalProperties.$fhcApi.factory=i,t.provide("$fhcApi",t.config.globalProperties.$fhcApi)}};const M="error",G="retval",N={get:function(t,e,n=null){return N._axiosCall(t,e,"get",n)},post:function(t,e,n=null){return N._axiosCall(t,e,"post",n)},isSuccess:function(t){return!("object"!=typeof t||!t.hasOwnProperty(M)||!t.hasOwnProperty(G)||0!=t.error)},isError:function(t){return!N.isSuccess(t)},hasData:function(t){return!(!N.isSuccess(t)||!("object"==typeof t[G]&&Object.keys(t[G]).length>0||"array"==typeof t[G]&&t[G].length>0||"string"==typeof t[G]&&""!=t[G].trim()||"number"==typeof t[G]))},getData:function(t){return N.hasData(t)?t[G]:null},getError:function(t){return"object"==typeof t&&Object.keys(t).length>0&&t.hasOwnProperty(G)?t[G]:"Generic error"},getErrorCode:function(t){return"object"==typeof t&&t.hasOwnProperty(M)?t[M]:1},_generateRouterURI:function(t){var e=null;return"undefined"!=typeof FHC_JS_DATA_STORAGE_OBJECT&&(e=FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/"+t),e},_printDebug:function(t,e,n){},_axiosCall:function(t,e,n,r){let s={method:n,url:N._generateRouterURI(t),timeout:5e3};if("get"==n?s.params=e:s.data=e,"object"==typeof r)for(var a in r)s[a]=r[a];return axios(s)}},q=document.createElement("div"),W=Vue.createApp({name:"FhcAlertApp",components:{PvToast:e,PvConfirm:n},methods:{mailToUrl:t=>"mailto:"+FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto+"?subject=Meldung%20Systemfehler&body="+("\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausf√ºhrlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgew√§hlt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: "+FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method+"%0D%0A\n\t\t\t\tFehler Meldung: "+t.message.detail+"%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir k√ºmmern uns um eine rasche Behebung des Problems!"),openMessagecard(t){bootstrap.Collapse.getOrCreateInstance(t.target.getAttribute("href")).toggle()}},unmounted(){q.parentElement.removeChild(q)},computed:{showmaillink:function(){return""!==FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto}},template:'\n\t<pv-toast ref="toast" class="fhc-alert" :base-z-index="99999">\n\t\t<template #message="{ message }">\n\t\t\t\x3c!--span :class="slotProps.iconClass"></span--\x3e\n\t\t\t<div class="p-toast-message-text">\n\t\t\t\t<span class="p-toast-summary">{{ message.summary }}</span>\n\t\t\t\t<div v-if="message.detail && message.html" class="p-toast-detail" v-html="message.detail"></div>\n\t\t\t\t<div v-else-if="message.detail" class="p-toast-detail">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref="alert" class="fhc-alert" :base-z-index="99999" position="center">\n\t\t<template #message="slotProps">\n\t\t\t<i class="fa fa-circle-exclamation fa-2xl mt-3"></i>\n\t\t\t<div class="p-toast-message-text">\n\t\t\t\t<span class="p-toast-summary">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class="p-toast-detail my-3">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class="d-flex justify-content-between align-items-center">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass="align-bottom flex-fill me-2"\n\t\t\t\t\t\tdata-bs-toggle="collapse"\n\t\t\t\t\t\t:href="\'#fhcAlertCollapseMessageCard\' + slotProps.message.id"\n\t\t\t\t\t\trole="button"\n\t\t\t\t\t\taria-expanded="false"\n\t\t\t\t\t\t:aria-controls="\'fhcAlertCollapseMessageCard\' + slotProps.message.id"\n\t\t\t\t\t\t@click="openMessagecard"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if="showmaillink"\n\t\t\t\t\t\tclass="btn btn-primary flex-fill"\n\t\t\t\t\t\ttarget="_blank"\n\t\t\t\t\t\t:href="mailToUrl(slotProps)"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref="messageCard" :id="\'fhcAlertCollapseMessageCard\' + slotProps.message.id" class="collapse mt-3">\n\t\t\t\t\t<div class="card card-body text-body small alertCollapseText">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group="fhcAlertConfirm"></pv-confirm>'});W.use(t),W.use(r);const Z=W.mount(q);document.body.appendChild(q);var K={install:(t,e)=>{t.config.globalProperties.$p||t.use(st);const n={alertSuccess(t){if(Array.isArray(t))return t.forEach(this.alertSuccess);Z.$refs.toast.add({severity:"success",summary:"Info",detail:t,life:1e3})},alertInfo(t){if(Array.isArray(t))return t.forEach(this.alertInfo);Z.$refs.toast.add({severity:"info",summary:"Info",detail:t,life:3e3})},alertWarning(t){if(Array.isArray(t))return t.forEach(this.alertWarning);Z.$refs.toast.add({severity:"warn",summary:"Achtung",detail:t})},alertError(t){if(Array.isArray(t))return t.forEach(this.alertError);Z.$refs.toast.add({severity:"error",summary:"Achtung",detail:t})},alertSystemError(e){if(Array.isArray(e))return e.forEach(this.alertSystemError);Z.$refs.alert.add({severity:"error",summary:Vue.computed(()=>t.config.globalProperties.$p.t("alert/systemerror")),detail:e})},confirmDelete:()=>new Promise((e,n)=>{Z.$confirm.require({group:"fhcAlertConfirm",header:Vue.computed(()=>t.config.globalProperties.$p.t("alert/attention")),message:Vue.computed(()=>t.config.globalProperties.$p.t("alert/confirm_delete")),acceptLabel:Vue.computed(()=>t.config.globalProperties.$p.t("ui/loeschen")),acceptClass:"p-button-danger",rejectLabel:Vue.computed(()=>t.config.globalProperties.$p.t("ui/abbrechen")),rejectClass:"p-button-secondary",accept(){e(!0)},reject(){e(!1)}})}),confirm:e=>new Promise((n,r)=>{Z.$confirm.require({group:e?.group??"fhcAlertConfirm",header:e?.header??Vue.computed(()=>t.config.globalProperties.$p.t("alert/attention")),message:e?.message??"",acceptLabel:e?.acceptLabel??"Ok",acceptClass:e?.acceptClass??"btn btn-primary",rejectLabel:e?.rejectLabel??Vue.computed(()=>t.config.globalProperties.$p.t("ui/abbrechen")),rejectClass:e?.rejectClass??"btn btn-outline-secondary",accept(){n(!0)},reject(){n(!1)}})}),alertDefault(t,e,n,r=!1,s=!1){let a={severity:t,summary:e,detail:n,html:s};r||(a.life=3e3),Z.$refs.toast.add(a)},alertMultiple(t,e="info",n="Info",r=!1,s=!1){return!!t.every(t=>"string"==typeof t)&&(t.forEach(t=>this.alertDefault(e,n,t,r,s)),!0)},handleSystemError(t){if(!t.hasOwnProperty("name")||t.name.toLowerCase()!=="AbortError".toLowerCase()){if("string"==typeof t)return n.alertSystemError(t);if(Array.isArray(t)&&t.every(t=>"string"==typeof t))return t.every(n.alertSystemError);if(!t.hasOwnProperty("handled")||!t.handled){if("object"==typeof t&&null!==t){let e="";return t.hasOwnProperty("response")&&t.response?.data?.retval?e+="Error Message: "+(t.response.data.retval.message||t.response.data.retval)+"\r\n":t.hasOwnProperty("message")&&(e+="Error Message: "+t.message.toUpperCase()+"\r\n"),t.hasOwnProperty("config")&&t.config.hasOwnProperty("url")&&(e+="Error ConfigURL: "+t.config.url+"\r\n"),t.hasOwnProperty("stack")&&(e+="Error Stack: "+t.stack+"\r\n"),""==e&&(e="Error Message: "+JSON.stringify(t)+"\r\n"),e+="Error Controller Path: "+FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method,n.alertSystemError(e)}n.alertSystemError("alertSystemError throws Generic Error\r\nError Controller Path: "+FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method)}}},handleSystemMessage(t){if("string"==typeof t)return n.alertWarning(t);if(Array.isArray(t)){if(t.every(t=>"string"==typeof t))return t.every(n.alertWarning);if(t.every(t=>"object"==typeof t)&&null!==msg)return t.every(t=>{t.hasOwnProperty("data")&&t.data.hasOwnProperty("retval")?n.alertWarning(JSON.stringify(t.data.retval)):n.alertSystemError(JSON.stringify(t))})}"object"!=typeof t||null===t?n.alertSystemError("alertSystemError throws Generic Error\r\nError Controller Path: "+FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method):t.hasOwnProperty("data")&&t.data.hasOwnProperty("retval")?n.alertWarning(JSON.stringify(t.data.retval)):n.alertSystemError(JSON.stringify(t))},resetFormValidation(t){const e=new Event("fhc-form-reset");t.querySelectorAll(["[data-fhc-form-validate],[data-fhc-form-error]"]).forEach(t=>t.dispatchEvent(e))},handleFormValidation(t,e){if(void 0===e){if(t&&t.nodeType===Node.ELEMENT_NODE)return e=>n.handleFormValidation(e,t)}else if(400==t?.response?.status){let r=N.getError(t.response.data);"object"!=typeof r&&(r=t.response.data),n.resetFormValidation(e);const s=Object.entries(r).filter(([t,n])=>{const r=e.querySelector('[data-fhc-form-validate="'+t+'"]');return!r||(r.dispatchEvent(new CustomEvent("fhc-form-invalidate",{detail:n})),!1)}).map(t=>t[1]),a=e.querySelector("[data-fhc-form-error]");return void(a&&s.length?a.dispatchEvent(new CustomEvent("fhc-form-error",{detail:s})):s.forEach(n.alertError))}if(400==t?.response?.status){let e=N.getError(t.response.data);n.alertError("object"==typeof e?Object.values(e):e)}else n.handleSystemError(t)}};t.config.globalProperties.$fhcAlert=n,t.provide("$fhcAlert",t.config.globalProperties.$fhcAlert)}},Q={install:(t,e)=>{if(t.config.globalProperties.$api)return;function n(t,e){Array.isArray(t)?t.forEach(e):Object.entries(t).forEach(([t,n])=>n.forEach(n=>e(n,t)))}t.config.globalProperties.$fhcAlert||t.use(K);let r={success:!0,fail:!0,combine:{form:["validation","general"],toast:["validation","general","not_found","site_failed"]},handler:{form(t,e){t.clearValidation(),e.forEach(e=>t.setFeedback(!1,e.messages||e.message))},async toast(e){const n=t.config.globalProperties.$p;if(!n)return Promise.reject("Phrasen plugin not loaded!");async function r(t){t=t.reduce((t,e)=>{switch(e.type){case"not_found":case"site_failed":e.message?t[e.message]=[e.url]:t._default=[e.url];break;case"general":t._default||(t._default=[]),t._default.push(e.message);break;case"validation":Object.entries(e.messages).forEach(([e,n])=>{t[e]||(t[e]=[]),Array.isArray(n)?t[e].push(...n):t[e].push(n)})}return t},{});let e=0;const r=await Promise.all(Object.entries(t).sort((t,e)=>["_default"].indexOf(e[0])-["_default"].indexOf(t[0])).map(async([t,r])=>{if("_default"==t){await n.loadCategory("dashboard");t='<dt class="d-none">'+n.t("dashboard/general")+"</dt>"}else t="<dt>"+t+"</dt>";return e+=r.length,t+"<dd>"+r.join("</dd><dd>")+"</dd>"}));return{counter:e,msgs:r}}let s,a;Array.isArray(e)?({counter:s,msgs:a}=await r(e)):({counter:s,msgs:a}=await Object.entries(e).reduce(async(t,[e,n])=>{const s=await t,{counter:a,msgs:i}=await r(n);return s.counter+=a,s.msgs.push("<dt>"+e+"</dt><dd><dl>"+i.join("")+"</dl></dd>"),s},Promise.resolve({counter:0,msgs:[]}))),await n.loadCategory("ui");const i=n.t("ui/n_errors",{n:s});t.config.globalProperties.$fhcAlert.alertDefault("error",i,"<dl>"+a.join("")+"</dl>",!0,!0)},php(e){n(e,(e,n)=>{var r="";switch(r+="Message: "+e.message+"\n\n",r+="Filename: "+e.filename+"\n",r+="Line Number: "+e.line+"\n",e.backtrace&&e.backtrace.length&&(r+="\nBacktrace: ",e.backtrace.forEach(t=>{r+="\n\tFile: "+t.file+"\n",r+="\tLine: "+t.line+"\n",r+="\tFunction: "+t.function+"\n"})),e.severity){case"Warning":case"Core Warning":case"Compile Warning":case"User Warning":n?n+=": PHP "+e.severity:n="PHP "+e.severity,t.config.globalProperties.$fhcAlert.alertDefault("warn",n,r,!0);break;case"Notice":case"User Notice":case"Runtime Notice":n?n+=": PHP "+e.severity:n="PHP "+e.severity,t.config.globalProperties.$fhcAlert.alertDefault("info",n,r,!0);break;default:r="Type: PHP "+e.severity+"\n\n"+r,n&&(r=n+"\n\n"+r),t.config.globalProperties.$fhcAlert.alertSystemError(r)}})},exception(e){n(e,(e,n)=>{var r="";n&&(r+=n+"\n\n"),r+="Type: "+e.class+"\n\n",r+="Message: "+e.message+"\n\n",r+="Filename: "+e.filename+"\n",r+="Line Number: "+e.line+"\n",e.backtrace&&e.backtrace.length&&(r+="\nBacktrace: ",e.backtrace.forEach(t=>{r+="\n\tFile: "+t.file+"\n",r+="\tLine: "+t.line+"\n",r+="\tFunction: "+t.function+"\n"})),t.config.globalProperties.$fhcAlert.alertSystemError(r)})},db(e){n(e,(e,n)=>{var r="";n&&(r+=n+"\n\n"),void 0!==e.heading&&(r+=e.heading+"\n\n"),void 0!==e.code&&(r+="Code: "+e.code+"\n\n"),void 0!==e.sql&&(r+="SQL: "+e.sql+"\n\n"),void 0!==e.message?r+="Message: "+e.message+"\n\n":void 0!==e.messages&&(r+="Messages: "+e.messages.join("\n\t")+"\n\n"),void 0!==e.filename&&(r+="Filename: "+e.filename+"\n"),void 0!==e.line&&(r+="Line Number: "+e.line+"\n"),t.config.globalProperties.$fhcAlert.alertSystemError(r)})},auth(e){n(e,(e,n)=>{n?n+=": "+e.message:n=e.message;var r="";r+="Controller name: "+e.controller+"\n",r+="Method name: "+e.method+"\n",r+="Required permissions: "+e.required_permissions,t.config.globalProperties.$fhcAlert.alertDefault("error",n,r,!0)})}}};function s(t,e,n,r){if("string"==typeof t&&void 0===r)[e,n,r]=[t,e,n],t=void 0;else if(t){if("object"!=typeof t)throw new TypeError("Parameter 1 of _get_config must be an object or a string");void 0===e&&void 0===n&&void 0===r&&(r=t,t=void 0)}if(t){if(!t.clearValidation||!t.setFeedback)throw new TypeError("'form' is not a Form Component");t={clearValidation:t.clearValidation,setFeedback:t.setFeedback},r?r.form=t:r={form:t}}return[e,n,r]}function a(t){if("string"==typeof t.data||t.data instanceof String)return a({data:t});const e=t.data;return delete t.data,e?(e.meta?e.meta.response=t:e.meta={response:t},e):{meta:{response:t},data:null}}function i(t){if(!1===t||"off"===t)return{...r,success:!1,fail:!1};if(!t||!0===t)return{...r};if("success"===t)return{...r,fail:!1};if("fail"===t)return{...r,success:!1};const{success:e,fail:n,handler:s,combine:a}=t;return t={...r},Object.entries({fail:n,success:e}).forEach(([e,n])=>{void 0!==n&&(t[e]=n)}),Object.entries({handler:s,combine:a}).forEach(([e,n])=>{void 0!==n&&(t[e]={...t[e],...n})}),t}function o(t){const e=i(t?.errorHandling);if(t?.form){const n=e.handler.form;e.handler={...e.handler,form:e=>n(t.form,e)}}else e.combine={...e.combine,form:[]};return e}function d(t){return t.response?404==t.response.status?[{type:"not_found",message:t.message,url:t.request.responseURL}]:null==t.response.data.errors?[]:t.response.data.errors:t.request?[{type:"site_failed",message:t.message,url:t.request.responseURL}]:[{type:"script",message:t.message}]}function u(t,e){const n={},r=[];if(null==e)return{};for(;e.length;)r.push(e.pop());for(var s of r){let r=s.type,i=null;for(var a in t.combine){let e=t.combine[a].includes(r),n=t.handler[a];if(e&&n&&(i=a,"form"==i))break}i&&(r=i);t.handler[r]?(n[r]||(n[r]=[]),Array.isArray(s)?n[r].push(...s):n[r].push(s)):e.push(s)}return n}void 0!==e?.errorHandling&&(r=i(e.errorHandling));const l=axios.create({timeout:5e5,baseURL:FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/"});l.interceptors.request.use(t=>{if("post"!=t.method||!t.data)return t;if(t.data instanceof FormData)return t;if(!Object.values(t.data).every(t=>!(t instanceof FileList)&&(!Array.isArray(t)||t.every(t=>!(t instanceof File))))){const e=Object.entries(t.data).reduce((t,[e,n])=>{if(n instanceof FileList)for(const r of n)t.FormData.append(e+(n.length>1?"[]":""),r);else Array.isArray(n)?n.every(t=>!(t instanceof File))?t.jsondata[e]=n:n.forEach(r=>t.FormData.append(e+(n.length>1?"[]":""),r)):t.jsondata[e]=n;return t},{FormData:new FormData,jsondata:{}});e.FormData.append("_jsondata",JSON.stringify(e.jsondata)),t.data=e.FormData}return t}),l.interceptors.response.use(e=>("off"==e.config?.errorHandling||!1===e.config?.errorHandling||"fail"==e.config?.errorHandling||e.data.errors&&(e.data.errors=e.data.errors.filter(n=>(e.config[n.type+"ErrorHandler"]||t.config.globalProperties.$api._defaultErrorHandlers[n.type])(n,e.config))),a(e)),t=>{if("ERR_CANCELED"==t.code)return Promise.reject({handled:!0,...t});const e=o(t.config);if(!e.fail)return Promise.reject(t);const n=d(t),r=u(e,n);for(var s in r)e.handler[s](r[s]);return n.length?Promise.reject(t):Promise.reject({handled:!0,...t})}),t.config.globalProperties.$api={getUri:t=>l.getUri({url:t}),get:(t,e,n,r)=>([e,n,r]=s(t,e,n,r),n&&(r?r.params=n:r={params:n}),l.get(e,r)),post:(t,e,n,r)=>([e,n,r]=s(t,e,n,r),l.post(e,n,r)),call(e,n,r){if(Array.isArray(e)){const a=t.config.globalProperties.$api;return Promise.allSettled(e.map((t,e)=>(Array.isArray(t)||(t=["#"+e,t]),a.call(t[1],{errorHeader:t[0],errorHandling:!1})))).then(t=>{const[,,e]=s(r,void 0,void 0,n||{}),a=o(e);if(!a.success&&!a.fail)return t;const i={};for(var l of t){const[t,e]="fulfilled"===l.status?[a.success,l.value]:[a.fail,l.reason];if(!t)return;const n=u(a,d(e));for(var p in n)i[p]?i[p][e.config.errorHeader]=n[p]:i[p]={[e.config.errorHeader]:n[p]}}for(var c in i)a.handler[c](i[c]);return t})}let{method:a,url:i,params:l,config:p}=e;return void 0!==n&&(p=n),a||(a="get"),a.toLowerCase&&(a=a.toLowerCase()),"get"==a?this.get(r,i,l,p):"post"==a?this.post(r,i,l,p):void console.error("FhcApi: method not allowed:",a)},getErrorHandler:t=>o(t)},t.provide("$api",t.config.globalProperties.$api)}},Y={loadCategory:t=>({method:"get",url:"/api/frontend/v1/phrasen/loadModule/"+t}),setLanguage:(t,e)=>({method:"post",url:"/api/frontend/v1/phrasen/setLanguage",params:{categories:t,language:e}}),getLanguage:()=>({method:"get",url:"/api/frontend/v1/phrasen/getLanguage"}),getActiveDbLanguages:()=>({method:"get",url:"/api/frontend/v1/phrasen/getAllLanguages"})};const X=Vue.reactive({}),tt={};let et=Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language),nt=Vue.computed(()=>et.value?FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(t=>t.sprache==et.value).LC_Time:null);const rt={user_language:et,user_locale:nt,setLanguage(t){const e=Object.keys(X);return this.config.globalProperties.$api.call(Y.setLanguage(e,t)).then(e=>(e.data.forEach(t=>{X[t.category][t.phrase]=t.text}),et.value=t,e))},loadCategory(t){return Array.isArray(t)?Promise.all(t.map(this.config.globalProperties.$p.loadCategory)):(tt[t]||(tt[t]=this.config.globalProperties.$api.call(Y.loadCategory(t)).then(e=>e?.data?function(t,e){return t.filter(t=>t.category==e).reduce((t,e)=>(t[e.phrase]||(t[e.phrase]=e.text),t),{})}(e.data,t):{}).then(e=>{X[t]=e})),tt[t])},t_ref(t,e,n){return console.warn("deprecated"),Vue.computed(()=>this.t(t,e,n))},t(t,e,n){if(void 0===n&&(Array.isArray(t)&&2==t.length||t.split&&2==t.split("/").length)&&(n=e,[t,e]=t.split?t.split("/"):t),void 0===e)return console.error("invalid input",t,e,n),"";let r=Vue.computed(()=>X[t]?function(t,e,n){let r=X[t][e];return r?(n&&(r=r.replace(/\{([^}]*)\}/g,(t,e)=>void 0===n[e]?t:n[e])),r):"<< PHRASE "+e+">>"}(t,e,n):"");return X[t]||this.loadCategory(t),r.value}};var st={install(t,e){t.config.globalProperties.$fhcApi||t.use(U),t.config.globalProperties.$api||t.use(Q),t.config.globalProperties.$p={t:rt.t,loadCategory:e=>rt.loadCategory.call(t,e),setLanguage:e=>rt.setLanguage.call(t,e),user_language:et,user_locale:nt,t_ref:rt.t_ref},t.provide("$p",t.config.globalProperties.$p)}};Vue.createApp({name:"AntragApp",components:{StudierendenantragAntrag:_,StudierendenantragStatus:$,StudierendenantragInfoblock:y},data:()=>({status:{msg:"",severity:""},infoArray:[]})}).use(st).mount("#wrapper");var at={emits:["update:modelValue"],props:{modelValue:String},computed:{valueAsBase64DataString(){return this.modelValue&&"data:image"!=this.modelValue.substring(0,10)?"data:image/jpeg;charset=utf-8;base64,"+this.modelValue:this.modelValue}},methods:{openUploadDialog(){this.$refs.fileInput.click()},pickFile(){let t=this.$refs.fileInput.files;if(t&&t[0]){let e=new FileReader;e.onload=t=>{this.$emit("update:modelValue",t.target.result)},e.readAsDataURL(t[0])}},deleteImage(){this.$emit("update:modelValue","")}},template:'\n\t<div class="form-upload-image">\n\t\t<template v-if="modelValue">\n\t\t\t<img class="img-thumbnail" :src="valueAsBase64DataString" />\n\t\t\t<div class="fotobutton">\n\t\t\t\t<div class="d-grid gap-2 d-md-flex">\n\t\t\t\t\t<button type="button" class="btn btn-outline-dark btn-sm" @click="deleteImage">\n\t\t\t\t\t\t<i class="fa fa-close"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type="button" class="btn btn-outline-dark btn-sm" @click="openUploadDialog">\n\t\t\t\t\t\t<i class="fa fa-pen"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<slot>\n\t\t\t\t<svg class="bd-placeholder-img img-thumbnail" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200" preserveAspectRatio="xMidYMid slice" focusable="false"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width="100%" height="100%" fill="#868e96"></rect><text x="50%" y="50%" fill="#dee2e6" dy=".3em"></text></svg>\n\t\t\t</slot>\n\t\t\t<div class="fotobutton-visible">\n\t\t\t\t<div class="d-grid gap-2 d-md-flex">\n\t\t\t\t\t<button type="button" class="btn btn-outline-dark btn-sm" @click="openUploadDialog">\n\t\t\t\t\t\t<i class="fa fa-pen"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<input :id="$attrs.id" class="d-none" type="file" ref="fileInput" @input="pickFile" accept="image/*">\n\t</div>'},it=Object.freeze({__proto__:null,default:at}),ot={components:{DmsItem:{emits:["delete"],props:{modelValue:{type:[File,Object],required:!0}},data:()=>({preview:""}),watch:{modelValue(t){"application/x.fhc-dms+json"==t.type&&t.text().then(t=>{const e=JSON.parse(t);this.preview=e.preview||""})}},template:'\n\t<li class="form-upload-dms-item">\n\t\t<span class="col-auto"><i class="fa fa-file me-1"></i></span>\n\t\t<span class="col">{{ modelValue.name }}</span>\n\t\t<a v-if="preview" :href="preview" target="_blank" class="col-auto btn btn-outline-secondary btn-p-0 me-1">\n\t\t\t<i class="fa fa-download"></i>\n\t\t</a>\n\t\t<button class="col-auto btn btn-outline-secondary btn-p-0" @click="$emit(\'delete\')">\n\t\t\t<i class="fa fa-close"></i>\n\t\t</button>\n\t</li>'}},emits:["update:modelValue"],props:{modelValue:{type:[FileList,Array],required:!0},multiple:Boolean,id:String,name:String,inputClass:[String,Array,Object],noList:Boolean,accept:{type:String,default:""},disabled:{type:Boolean,default:!1}},methods:{stringifyFile:t=>JSON.stringify({lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type}),addFiles(t){if(!this.multiple)return this.$emit("update:modelValue",t.target.files);const e=new DataTransfer,n=[];for(var r of this.modelValue)e.items.add(r),n.push(this.stringifyFile(r));for(var r of t.target.files)n.indexOf(this.stringifyFile(r))<0&&e.items.add(r);this.$emit("update:modelValue",e.files)},removeFile(t){const e=Array.from(this.modelValue)[t],n=new DataTransfer;for(var r of this.modelValue)r!==e&&n.items.add(r);this.$emit("update:modelValue",n.files)}},watch:{modelValue(t){if(!t)return;if(t instanceof FileList){if(!this.$refs.upload)return;return this.$refs.upload.files=t}const e=new DataTransfer;for(var n of t)if(n instanceof File)e.items.add(n);else{const t=new File([JSON.stringify(n)],n.name,{type:"application/x.fhc-dms+json"});e.items.add(t)}this.$emit("update:modelValue",e.files)}},template:'\n\t<div class="form-upload-dms">\n\t\t<input ref="upload" class="form-control" :disabled="disabled" :accept="accept" :aria-label="$p.t(\'profilUpdate\',\'documentUpload\')" :title="$p.t(\'profilUpdate\',\'documentUpload\')" :class="inputClass" :id="id" :name="name" :multiple="multiple" type="file" @change="addFiles">\n\t\t<ul v-if="modelValue.length && multiple && !noList" :accept="accept" class="list-unstyled m-0">\n\t\t\t<dms-item\n\t\t\t\tv-for="(file, index) in modelValue"\n\t\t\t\t:key="index"\n\t\t\t\tv-model="file"\n\t\t\t\tclass="d-flex mx-1 mt-1 align-items-start"\n\t\t\t\t@delete="removeFile(index)"\n\t\t\t\t>\n\t\t\t</dms-item>\n\t\t</ul>\n\t</div>'},dt=Object.freeze({__proto__:null,default:ot});
//# sourceMappingURL=Antrag.js.map
