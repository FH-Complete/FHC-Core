{"version":3,"file":"ProfilUpdateRequests.js","sources":["../../../../js/components/Fetch.js","../../../../js/components/filter/Filter/Config.js","../../../../js/components/filter/Filter/Columns.js","../../../../js/components/filter/Table/Download.js","../../../../js/directives/collapseAutoClose.js","../../../../js/tabulator/layouts/fitDataStretchFrozen.js","../../../../js/api/factory/filter.js","../../../../js/components/filter/Filter.js","../../../../js/components/Bootstrap/Modal.js","../../../../js/components/Cis/Profil/ProfilComponents/Kontakt.js","../../../../js/components/Cis/Profil/ProfilComponents/Adresse.js","../../../../js/api/factory/profilUpdate.js","../../../../js/components/Cis/ProfilUpdate/AcceptDenyUpdate.js","../../../../js/components/Loader.js","../../../../js/tabulator/filters/Dates.js","../../../../js/components/Cis/ProfilUpdate/ProfilUpdateView.js","../../../../js/api/search.js","../../../../js/api/phrasen.js","../../../../js/api/navigation.js","../../../../js/api/filter.js","../../../../js/api/studstatus.js","../../../../js/api/profil.js","../../../../js/api/profilUpdate.js","../../../../js/api/lvPlan.js","../../../../js/api/stv.js","../../../../js/api/stv/verband.js","../../../../js/api/stv/students.js","../../../../js/api/stv/filter.js","../../../../js/api/stv/konto.js","../../../../js/api/stv/group.js","../../../../js/api/stv/kontakt.js","../../../../js/api/stv/prestudent.js","../../../../js/api/stv/status.js","../../../../js/api/stv/details.js","../../../../js/api/stv/exam.js","../../../../js/api/stv/abschlusspruefung.js","../../../../js/api/stv/grades.js","../../../../js/api/stv/mobility.js","../../../../js/api/stv/archiv.js","../../../../js/api/stv/documents.js","../../../../js/api/stv/exemptions.js","../../../../js/api/stv/jointstudies.js","../../../../js/api/stv/courselist.js","../../../../js/api/notiz.js","../../../../js/api/notiz/person.js","../../../../js/api/betriebsmittel.js","../../../../js/api/betriebsmittel/person.js","../../../../js/api/checkperson.js","../../../../js/api/ort.js","../../../../js/api/cms.js","../../../../js/api/lehre.js","../../../../js/api/addons.js","../../../../js/api/messages.js","../../../../js/api/messages/person.js","../../../../js/api/vorlagen.js","../../../../js/api/studium.js","../../../../js/api/fhcapifactory.js","../../../../js/api/dashboard.js","../../../../js/api/bookmark.js","../../../../js/api/ampeln.js","../../../../js/api/studiengang.js","../../../../js/api/menu.js","../../../../js/api/authinfo.js","../../../../js/api/language.js","../../../../js/plugin/OldFhcApi.js","../../../../js/RESTClient.js","../../../../js/plugins/FhcAlert.js","../../../../js/plugins/Api.js","../../../../js/api/factory/phrasen.js","../../../../js/plugins/Phrasen.js","../../../../js/apps/Cis/ProfilUpdateRequests.js"],"sourcesContent":["/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport const CoreFetchCmpt = {\n\temits: ['dataFetched'], // this component can emit the event dataFetched that it is catched by this component itself\n\tprops: {\n\t\trefresh: { // to refresh this component\n\t\t\ttype: Boolean\n\t\t},\n\t\tapiFunction: { // the function to call, must return a Promise\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\t\tapiFunctionParameters: {} // parameters for the apiFunction, type mixed, optional\n\t},\n\twatch: {\n\t\t/**\n\t\t * If the refresh property is changed then call fetchData\n\t\t */\n\t\trefresh: function (newValue, oldValue) {\n\t\t\tthis.fetchData();\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloading: false, // if in loading or not\n\t\t\terror: false, // if an error occurred while loading data\n\t\t\terrorMessage: null // the error message\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.fetchData();\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchData: function() {\n\t\t\tthis.loading = true; // loader started\n\t\t\tthis.error = false;\n\t\t\tthis.errorMessage = null;\n\n\t\t\t// Checks if the apifunction is a callable function\n\t\t\tif (typeof this.apiFunction == \"function\")\n\t\t\t{\n\t\t\t\t// Call the function stored in apiFunction\n\t        \t\tlet apiFunctionResult = this.apiFunction(this.apiFunctionParameters);\n\n\t\t\t\t// It is expected that the function returns a Promise\n\t\t\t\tif (apiFunctionResult instanceof Promise)\n\t\t\t\t{\n\t\t\t\t\tapiFunctionResult\n\t\t\t\t\t\t.then(this.successHandler) // on success\n\t\t\t\t\t\t.catch(this.errorHandler) // on error\n\t\t\t\t\t\t.finally(this.finallyHandler); // finally in any case\n\t\t\t\t}\n\t\t\t\telse // otherwise display an error\n\t\t\t\t{\n\t\t\t\t\tthis.setError(\"The called apiFunction does not return a Promise\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // otherwise display an error\n\t\t\t{\n\t\t\t\tthis.setError(\"Property apiFunction is not a function\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsetError: function(errorMessage) {\n\t\t\tthis.loading = false; // loading ended\n\t\t\tthis.error = true; // error occurred\n\t\t\tthis.errorMessage = errorMessage; // save the error message\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsuccessHandler: function(response) {\n\t\t\tthis.$emit('dataFetched', response ? response.data : undefined); // trigger the event dataFetched\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\terrorHandler: function(error) {\n\t\t\tif (error.response?.data?.retval)\n\t\t\t\tthis.setError(error.response.data.retval);\n\t\t\telse if (error.data?.message)\n\t\t\t\tthis.setError(error.data.message);\n\t\t\telse\n\t\t\t\tthis.setError(error.message);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfinallyHandler: function() {\n\t\t\tthis.loading = false; // loading ended\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot v-if=\"loading\" name=\"loading\">\n\t\t\t<div class=\"fetch-loader\">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if=\"error\" name=\"error\" :error-message=\"errorMessage\">\n\t\t\t<div class=\"fetch-error\">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\temits: {\n\t\tswitchFilter: ['filterId'],\n\t\tapplyFilterConfig: ['filterFields'],\n\t\tsaveCustomFilter: ['customFilterName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentFields: []\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypes() {\n\t\t\treturn this.columns.reduce((a,c) => {\n\t\t\t\tlet type = c.type.toLowerCase();\n\t\t\t\tif (type.indexOf('int') >= 0)\n\t\t\t\t\ta[c.name] = 'Numeric';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('varchar') >= 0 || \n\t\t\t\t\ttype.indexOf('text') >= 0 || \n\t\t\t\t\ttype.indexOf('bpchar') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Text';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('timestamp') >= 0 || \n\t\t\t\t\ttype.indexOf('date') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Date';\n\t\t\t\telse\n\t\t\t\t\ta[c.name] = '';\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t}\n\t},\n\twatch: {\n\t\tfields(n) {\n\t\t\tthis.currentFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\tswitchFilter(evt) {\n\t\t\tthis.$emit('switchFilter', evt.currentTarget.value);\n\t\t},\n\t\tapplyFilterConfig() {\n\t\t\tconst filteredFields = this.currentFields.filter(el => el.name != FILTER_COMPONENT_NEW_FILTER);\n\t\t\tif (filteredFields.filter(el => el.condition == \"\").length)\n\t\t\t\talert(\"Please fill all the filter options\");\n\t\t\telse\n\t\t\t\tthis.$emit('applyFilterConfig', filteredFields);\n\t\t},\n\t\taddField(evt) {\n\t\t\tthis.currentFields.push({\n\t\t\t\tname: FILTER_COMPONENT_NEW_FILTER\n\t\t\t});\n\t\t},\n\t\tremoveField(index) {\n\t\t\tthis.currentFields.splice(index, 1);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-config\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div v-if=\"filters.length\" class=\"mb-4\">\n\t\t\t\t\t<select class=\"form-select\" @change=\"switchFilter\">\n\t\t\t\t\t\t<option value=\"\">Bitte auswählen...</option>\n\t\t\t\t\t\t<option v-for=\"filter in filters\" :value=\"filter.id\">\n\t\t\t\t\t\t\t{{ filter.description }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=addField>\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span> Neuer Filter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter-config-fields my-3\">\n\t\t\t\t\t<div v-for=\"(filterField, index) in currentFields\" class=\"filter-config-field row\">\n\n\t\t\t\t\t\t<div class=\"col-5\">\n\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">Filter {{ index + 1 }}</span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\t\t\t\tv-model=\"filterField.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Feld zum Filter hinzufügen...</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"col in columns\" :value=\"col.name\">\n\t\t\t\t\t\t\t\t\t\t{{ col.title }}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Numeric -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Numeric'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Text'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"contains\">Enthält</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ncontains\">Enthält nicht</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Timestamp and date -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Date'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"set\">Eingestellt ist</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nset\">Eingestellt nicht ist</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-1\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.option\">\n\t\t\t\t\t\t\t\t\t<option value=\"minutes\">Minuten</option>\n\t\t\t\t\t\t\t\t\t<option value=\"hours\">Stunden</option>\n\t\t\t\t\t\t\t\t\t<option value=\"days\">Tage</option>\n\t\t\t\t\t\t\t\t\t<option value=\"months\">Monate</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"col text-end\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-dark\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"removeField(index)\"\n\t\t\t\t\t\t\t\ttitle=\"Filter entfernen\"\n\t\t\t\t\t\t\t\taria-title=\"Filter entfernen\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fa-solid fa-minus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Filter save options -->\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-7\">\n\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t<input ref=\"filterName\" type=\"text\" class=\"form-control\" placeholder=\"Filternamen eingeben...\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"$emit('saveCustomFilter', $refs.filterName.value)\">Filter speichern</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" @click=\"applyFilterConfig\">Filter anwenden</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfields: Array,\n\t\tselected: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tnames: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t}\n\t},\n\temits: {\n\t\thide: ['fieldName'],\n\t\tshow: ['fieldName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tselectedFields: []\n\t\t};\n\t},\n\twatch: {\n\t\tselected(n) {\n\t\t\tthis.selectedFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle(field) {\n\t\t\tif (this.selectedFields.indexOf(field) != -1)\n\t\t\t{\n\t\t\t\tthis.selectedFields.splice(this.selectedFields.indexOf(field), 1);\n\t\t\t\tthis.$emit('hide', field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedFields.push(field);\n\t\t\t\tthis.$emit('show', field);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-columns\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"d-flex flex-wrap gap-2 p-3 justify-content-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"fieldToDisplay in fields\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:class=\"selectedFields.indexOf(fieldToDisplay) != -1 ? 'btn-dark' : 'btn-outline-dark' \"\n\t\t\t\t\t@click=\"toggle(fieldToDisplay)\"\n\t\t\t\t>\n\t\t\t\t\t{{ names[fieldToDisplay] || fieldToDisplay }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst DEFAULT_ICONS = {\n\tjsonLines: 'fa-file-lines',\n\txlsx: 'fa-file-excel',\n\tpdf: 'fa-file-pdf',\n\thtml: 'fa-file-code',\n\tjson: 'fa-file',\n\tcsv: 'fa-file-csv'\n};\nconst DEFAULT_LABELS = {\n\tjsonLines: 'Download as JSONLINES',\n\txlsx: 'Download as XLSX',\n\tpdf: 'Download as PDF',\n\thtml: 'Download as HTML',\n\tjson: 'Download as JSON',\n\tcsv: 'Download as CSV '\n};\n\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\ttabulator: Object,\n\t\tconfig: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\ticonClass: [String, Array, Object]\n\t},\n\tcomputed: {\n\t\tcurrentConfig() {\n\t\t\tif (!this.config)\n\t\t\t\treturn false;\n\n\t\t\tlet config = this.config;\n\n\t\t\tif (config instanceof Function)\n\t\t\t\treturn [config];\n\n\t\t\tif (config === null)\n\t\t\t\treturn [];\n\n\t\t\tif (this.config === true)\n\t\t\t\tconfig = ['csv'];\n\n\t\t\tif (Object.prototype.toString.call(config) === \"[object String]\")\n\t\t\t\tconfig = config.split(',');\n\n\t\t\tif (typeof config === 'object' && !Array.isArray(config)) {\n\t\t\t\tlet newConfig = [];\n\t\t\t\tfor (var k in config) {\n\t\t\t\t\tvar v = config[k], type;\n\t\t\t\t\t\n\t\t\t\t\tif (!v)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\n\t\t\t\t\tif (Object.prototype.toString.call(v) === \"[object String]\") {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(v);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: v === k ? DEFAULT_LABELS[type] : k,\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\t\tif(type !== null) {\n\t\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\t\tlabel: v,\n\t\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('neither ' + k + ' nor ' + v + ' are supported download file types');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof v === 'object' && !Array.isArray(v)) {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tif (v.formatter === undefined)\n\t\t\t\t\t\t\t\tv.formatter = type;\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = DEFAULT_LABELS[type];\n\t\t\t\t\t\t\tif (v.icon === undefined)\n\t\t\t\t\t\t\t\tv.icon = DEFAULT_ICONS[type];\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = k;\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[type],\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(k + ' is not a supported download file type');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconfig = newConfig;\n\t\t\t}\n\n\t\t\tif (Array.isArray(config))\n\t\t\t{\n\t\t\t\tconfig = config.map(el => {\n\t\t\t\t\tif (Object.prototype.toString.call(el) === \"[object String]\") {\n\t\t\t\t\t\tlet formatter = this.stringToFileFormatter(el);\n\t\t\t\t\t\tif (formatter === null)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[formatter],\n\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[formatter],\n\t\t\t\t\t\t\tformatter\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (el instanceof Function)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tformatter: el\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (typeof el === 'object' && !Array.isArray(el) && el !== null) {\n\t\t\t\t\t\tif (el.formatter instanceof Function)\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\tif (this.validateFileFormatter(el.formatter))\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(el => el !== null);\n\n\t\t\t\tif (config.length < 2)\n\t\t\t\t\treturn config;\n\n\t\t\t\tif (config.filter(el => el.label || el.icon).length == config.length)\n\t\t\t\t\treturn config;\n\n\t\t\t\talert('Config not valid');\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n\tmethods: {\n\t\tstringToFileFormatter(input) {\n\t\t\tlet lcInput = input.toLowerCase();\n\t\t\t\n\t\t\tif (lcInput == 'jsonlines')\n\t\t\t\treturn 'jsonLines';\n\t\t\t\n\t\t\tif (['xlsx', 'pdf', 'html', 'json', 'csv'].includes(lcInput))\n\t\t\t\treturn lcInput;\n\n\t\t\treturn null;\n\t\t},\n\t\tvalidateFileFormatter(input) {\n\t\t\tlet formatter = this.stringToFileFormatter(input);\n\t\t\tif (!formatter) {\n\t\t\t\talert(input + ' is not a supported file formatter');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (formatter == 'xlsx') {\n\t\t\t\tif (!window.XLSX) {\n\t\t\t\t\talert('XLSX Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (formatter == 'pdf') {\n\t\t\t\tif (!window.jspdf) {\n\t\t\t\t\talert('jsPDF Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar doc = new jspdf.jsPDF({});\n\t\t\t\tif (!doc.autoTable) {\n\t\t\t\t\talert('jsPDF-AutoTable Plugin not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdownload(config) {\n\t\t\tthis.tabulator.download(config.formatter, config.file, config.options)\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"currentConfig\">\n\t\t<template v-if=\"currentConfig.length == 1\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\t@click.prevent=\"download(currentConfig[0])\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t</template>\n\t\t<div v-else class=\"dropdown d-inline\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\trole=\"button\"\n\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t\t<li v-for=\"(conf, i) in currentConfig\" :key=\"i\">\n\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" @click.prevent=\"download(conf)\">\n\t\t\t\t\t\t<span v-if=\"conf.icon\" :class=\"conf.icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{conf.label}}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</template>\n\t`\n};\n\n","const elementDataMap = new WeakMap();\n\nexport default {\n\tmounted(el, binding) {\n\t\tlet open = false;\n\t\telementDataMap.set(el, evt => {\n\t\t\tif (!open)\n\t\t\t\treturn;\n\n\t\t\tif (el.contains(evt.target))\n\t\t\t\treturn;\n\n\t\t\tconst collapse = bootstrap.Collapse.getInstance(el)\n\t\t\tif (collapse)\n\t\t\t\tcollapse.hide();\n\t\t});\n\t\tel.addEventListener('shown.bs.collapse', () => {\n\t\t\topen = true;\n\t\t});\n\t\tel.addEventListener('hide.bs.collapse', () => {\n\t\t\topen = false;\n\t\t});\n\t\tdocument.addEventListener('click', elementDataMap.get(el), true);\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tdocument.removeEventListener('click', elementDataMap.get(el));\n\t\tdelete el.collapsibleAutoHideFunc;\n\t}\n}","/**\n * This may need changes if Tabulator gets updated!\n *\n * Current working Version: 5.5.2\n * \n * This is a copy of the fitDataStretch function. The only difference\n * is the check for frozen columns on line 22.\n */\n\nexport default window.Tabulator?.extendModule(\"layout\", \"modes\", {\n\tfitDataStretchFrozen(columns, forced) {\n\t\tvar colsWidth = 0,\n\t\ttableWidth = this.table.rowManager.element.clientWidth,\n\t\tgap = 0,\n\t\tlastCol = false;\n\n\t\tcolumns.forEach((column, i) => {\n\t\t\tif (!column.widthFixed) {\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible && !column.definition.frozen) {\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol){\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tlastCol.setWidth(0);\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/saveCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t};\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/applyFilterFields',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t};\n\t},\n\taddFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/addFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tgetFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport FilterConfig from './Filter/Config.js';\nimport FilterColumns from './Filter/Columns.js';\nimport TableDownload from './Table/Download.js';\nimport collapseAutoClose from '../../directives/collapseAutoClose.js';\n\nimport moduleLayoutFitDataStretchFrozen from '../../tabulator/layouts/fitDataStretchFrozen.js';\n\nimport ApiFilter from '../../api/factory/filter.js';\n\n//\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\nconst FILTER_COMPONENT_NEW_FILTER_TYPE = 'Filter Component New Filter Type';\n\nvar _uuid = 0;\n\n/**\n *\n */\nexport const CoreFilterCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt,\n\t\tFilterConfig,\n\t\tFilterColumns,\n\t\tTableDownload\n\t},\n\tdirectives: {\n\t\tcollapseAutoClose\n\t},\n\temits: [\n\t\t'nwNewEntry',\n\t\t'click:new',\n\t\t'tableBuilt',\n\t\t'uuidDefined'\n\t],\n\tprops: {\n\t\tonNwNewEntry: Function, // NOTE(chris): Hack to get the nwNewEntry listener into $props\n\t\ttitle: String,\n\t\tdescription: String,\n\t\tsideMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tfilterType: {\n\t\t\ttype: String\n\t\t},\n\t\ttabulatorOptions: Object,\n\t\ttabulatorEvents: Array,\n\t\ttableOnly: Boolean,\n\t\tnoColumnFilter:Boolean,\n\t\treload: Boolean,\n\t\treloadBtnInfotext: String,\n\t\tdownload: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\tnewBtnShow: Boolean,\n\t\tnewBtnClass: [String, Array, Object],\n\t\tnewBtnDisabled: Boolean,\n\t\tnewBtnLabel: String,\n\t\tuniqueId: String,\n\n\t\tidField: String,\n\t\tparentIdField: String,\n\t\tcountOnly: Boolean,\n\t\tuseSelectionSpan: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tuuid: 0,\n\t\t\t// FilterCmpt properties\n\t\t\tfilterName: null,\n\t\t\tfilterActive: false,\n\t\t\tfields: null,\n\t\t\tdataset: null,\n\t\t\tdatasetMetadata: null,\n\t\t\tselectedFields: null,\n\t\t\tfilterFields: null,\n\n\t\t\tavailableFilters: null,\n\t\t\tselectedFilter: null,\n\n\t\t\t// FetchCmpt binded properties\n\t\t\tfetchCmptRefresh: false,\n\t\t\tfetchCmptApiFunction: null,\n\t\t\tfetchCmptApiFunctionParams: null,\n\t\t\tfetchCmptDataFetched: null,\n\n\t\t\tfetchResult: null,\n\n\t\t\ttabulator: null,\n\t\t\ttableBuilt: false,\n\t\t\ttabulatorHasSelector: false,\n\t\t\tselectedData: [],\n\t\t\tpersistence: {\n\t\t\t\tsort: true,\n\t\t\t\tcolumns: true,\n\t\t\t\tfilter: false,\n\t\t\t\theaderFilter: false,\n\t\t\t\tgroup: false,\n\t\t\t\tpage: false,\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotSelectedFields() {\n\t\t\tif (!this.fields || !this.selectedFields)\n\t\t\t\treturn null;\n\t\t\treturn this.fields.filter(x => this.selectedFields.indexOf(x) === -1)\n\t\t},\n\t\tfilteredData() {\n\t\t\tif (!this.dataset)\n\t\t\t\treturn [];\n\t\t\treturn JSON.parse(JSON.stringify(this.dataset));\n\t\t},\n\t\tfilteredColumns() {\n\t\t\tlet fields = JSON.parse(JSON.stringify(this.fields)) || [];\n\t\t\tlet selectedFields = JSON.parse(JSON.stringify(this.selectedFields)) || [];\n\n\t\t\tlet columns = null;\n\n\t\t\t// If the tabulator options has been provided and it contains the property columns\n\t\t\tif (this.tabulatorOptions && this.tabulatorOptions.hasOwnProperty('columns'))\n\t\t\t\tcolumns = this.tabulatorOptions.columns;\n\n\t\t\t// If columns is not an array or it is an array with less elements then the array fields\n\t\t\tif (!Array.isArray(columns) || (Array.isArray(columns) && columns.length < fields.length))\n\t\t\t{\n\t\t\t\tcolumns = []; // set it as an empty array\n\n\t\t\t\t// Loop throught all the retrieved columns from database\n\t\t\t\tfor (let field of fields)\n\t\t\t\t{\n\t\t\t\t\t// Create a new column having the title equal to the field name\n\t\t\t\t\tlet column = {\n\t\t\t\t\t\ttitle: field,\n\t\t\t\t\t\tfield: field\n\t\t\t\t\t};\n\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\tcolumn.visible = selectedFields.indexOf(field) >= 0;\n\n\t\t\t\t\t// Add the new column to the list of columns\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // the property columns has been provided in the tabulator options\n\t\t\t{\n\t\t\t\t// Loop throught the property columns of the tabulator options\n\t\t\t\tfor (let col of columns)\n\t\t\t\t{\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\t/* fields.indexOf(col.field) == -1; ensures displaying formatter colums\n\t\t\t\t\te.g. column with rowSelection checkboxes or with custom formatted action buttons */\n\t\t\t\t\tcol.visible = selectedFields.indexOf(col.field) >= 0 || fields.indexOf(col.field) == -1;\n\n\t\t\t\t\tif (col.hasOwnProperty('resizable'))\n\t\t\t\t\t\tcol.resizable = col.visible;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn columns;\n\t\t},\n\t\tfieldIdsForVisibilty() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn [];\n\t\t\treturn this.tabulator.getColumns().filter(col => {\n\t\t\t\tlet def = col.getDefinition();\n\t\t\t\treturn !def.frozen && def.title && def.formatter != \"responsiveCollapse\";\n\t\t\t}).map(col => col.getField());\n\t\t},\n\t\tfieldNames() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn {};\n\t\t\treturn this.tabulator.getColumns().reduce((res, col) => {\n\t\t\t\tres[col.getField()] = col.getDefinition().title;\n\t\t\t\treturn res;\n\t\t\t}, {});\n\t\t},\n\t\tidExtra() {\n\t\t\tif (!this.uuid)\n\t\t\t\treturn '';\n\t\t\treturn '-' + this.uuid;\n\t\t},\n\t\tcolumnsForFilter() {\n\t\t\tif (!this.filteredColumns || !this.datasetMetadata)\n\t\t\t\treturn [];\n\t\t\tconst filterTitles = this.filteredColumns.reduce((a,c) => {\n\t\t\t\ta[c.field] = c.title;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\treturn this.datasetMetadata.map(el => ({...el, ...{title: filterTitles[el.name]}}));\n\t\t}\n\t},\n\tmethods: {\n\t\treloadTable() {\n\t\t\tif (this.tableOnly)\n\t\t\t\tthis.tabulator.setData();\n\t\t\telse\n\t\t\t\tthis.getFilter();\n\t\t},\n\t\tasync initTabulator() {\n\t\t\tlet placeholder = '< Phrasen Plugin not loaded! >';\n\t\t\tif (this.$p) {\n\t\t\t\tawait this.$p.loadCategory('ui');\n\t\t\t\tplaceholder = this.$p.t('ui/keineDatenVorhanden');\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\t// prefetch data to get fields & selectedFields for filteredColumns & filteredData\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tconst filterId = window.location.hash ? window.location.hash.slice(1) : null;\n\n\t\t\t\t\tconst resolvePromiseFunc = data => {\n\t\t\t\t\t\tthis.setRenderData(data);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\t\t\t\t\t// get the filter data\n\t\t\t\t\tif (filterId === null)\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t\t\t{ filterId },\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Define a default tabulator options in case it was not provided\n\t\t\tlet tabulatorOptions = {...{\n\t\t\t\t\tlayout: \"fitDataStretchFrozen\",\n\t\t\t\t\tmovableColumns: true,\n\t\t\t\t\tcolumnDefaults:{\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tpersistence: this.persistence,\n\t\t\t\t}, ...(this.tabulatorOptions || {})};\n\n\t\t\t// set default height if no height property is set\n\t\t\tif (tabulatorOptions.height === undefined &&\n\t\t\t\ttabulatorOptions.minHeight === undefined &&\n\t\t\t\ttabulatorOptions.maxHeight === undefined) {\n\t\t\t\ttabulatorOptions.height = 500;\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\ttabulatorOptions.data = this.filteredData;\n\t\t\t\ttabulatorOptions.columns = this.filteredColumns;\n\t\t\t} else {\n\t\t\t\ttabulatorOptions.columns.forEach(col => {\n\t\t\t\t\tif (col.visible === undefined)\n\t\t\t\t\t\tcol.visible = true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tabulatorOptions.selectable || (tabulatorOptions.columns && tabulatorOptions.columns.filter(el => el.formatter == 'rowSelection').length))\n\t\t\t\tthis.tabulatorHasSelector = true;\n\n\t\t\tif (this.idField) {\n\t\t\t\t// enable nested tabulator if parent Id given\n\t\t\t\tif (this.parentIdField) tabulatorOptions.dataTree = true;\n\t\t\t\t// set tabulator index\n\t\t\t\ttabulatorOptions.index = this.idField;\n\t\t\t}\n\n\t\t\t// Start the tabulator with the build options\n\t\t\tthis.tabulator = new Tabulator(\n\t\t\t\tthis.$refs.table,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n\t\t\t// If event handlers have been provided\n\t\t\tif (Array.isArray(this.tabulatorEvents) && this.tabulatorEvents.length > 0)\n\t\t\t{\n\t\t\t\t// Attach all the provided event handlers to the started tabulator\n\t\t\t\tfor (let evt of this.tabulatorEvents)\n\t\t\t\t\tthis.tabulator.on(evt.event, evt.handler);\n\t\t\t}\n\t\t\tthis.tabulator.on('tableBuilt', () => {this.tableBuilt = true; this.$emit('tableBuilt');});\n\t\t\tthis.tabulator.on(\"rowSelectionChanged\", data => {\n\t\t\t\tthis.selectedData = data;\n\t\t\t});\n\n\t\t\t// if nested tabulator, restructure data\n\t\t\tif (this.parentIdField && this.idField) {\n\t\t\t\tthis.tabulator.on(\"dataLoading\", data => {\n\t\t\t\t\tlet toDelete = [];\n\n\t\t\t\t\t// loop through all data\n\t\t\t\t\tfor (let childIdx = 0; childIdx < data.length; childIdx++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet child = data[childIdx];\n\n\t\t\t\t\t\t// if it has parent id, it is a child\n\t\t\t\t\t\tif (child[this.parentIdField])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// append the child on the right place. If parent found, mark original sw child on 0 level for deleting\n\t\t\t\t\t\t\tif (this.appendChild(data, child)) toDelete.push(childIdx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete the marked children from 0 level\n\t\t\t\t\tfor (let counter = 0; counter < toDelete.length; counter++)\n\t\t\t\t\t{\n\t\t\t\t\t\t// decrease index by counter as index of data array changes after every deletion\n\t\t\t\t\t\tdata.splice(toDelete[counter] - counter, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.tableOnly) {\n\t\t\t\tthis.tabulator.on('tableBuilt', () => {\n\t\t\t\t\tconst cols = this.tabulator.getColumns();\n\t\t\t\t\tthis.fields = cols.map(col => col.getField());\n\t\t\t\t\tthis.selectedFields = cols.filter(col => col.isVisible()).map(col => col.getField());\n\t\t\t\t\tif (this.tabulator.options.persistence.headerFilter)\n\t\t\t\t\t\tthis._setHeaderFilter();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.tabulator.on(\"dataFiltered\", filters => {\n\t\t\t\tthis.filterActive = filters.length > 0;\n\t\t\t});\n\t\t},\n\t\tupdateTabulator() {\n\t\t\tif (this.tabulator) {\n\t\t\t\tif (this.tableBuilt)\n\t\t\t\t\tthis._updateTabulator();\n\t\t\t\telse\n\t\t\t\t\tthis.tabulator.on('tableBuilt', this._updateTabulator);\n\t\t\t}\n\t\t},\n\t\t_updateTabulator() {\n\t\t\tthis.tabulatorHasSelector = this.tabulatorOptions.selectable || this.filteredColumns.filter(el => el.formatter == 'rowSelection').length;\n\t\t\tthis.tabulator.setColumns(this.filteredColumns);\n\t\t\tthis.tabulator.setData(this.filteredData);\n\t\t\tthis._setHeaderFilter()\n\t\t},\n\t\tclearFilters()\n\t\t{\n\t\t\tlet existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, \"\");\n\t\t\t});\n\t\t\tthis.tabulator.clearFilter();\n\t\t\tthis.filterActive = false;\n\t\t},\n\t\t_setHeaderFilter()\n\t\t{\n\t\t\tconst existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, filter.value);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetFilter() {\n\t\t\tif (this.selectedFilter === null)\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t{\n\t\t\t\t\t\tfilterId: this.selectedFilter\n\t\t\t\t\t},\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t},\n\t\tsetRenderData(data) {\n\t\t\tthis.fetchResult = data;\n\t\t\tthis.filterName = data.filterName;\n\t\t\tthis.dataset = data.dataset;\n\t\t\tthis.datasetMetadata = data.datasetMetadata;\n\n\t\t\tthis.fields = data.fields;\n\t\t\tthis.selectedFields = data.selectedFields;\n\t\t\tthis.filterFields = [];\n\n\t\t\tfor (let i = 0; i < data.datasetMetadata.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < data.filters.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (data.datasetMetadata[i].name == data.filters[j].name)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet filter = data.filters[j];\n\t\t\t\t\t\tfilter.type = data.datasetMetadata[i].type;\n\n\t\t\t\t\t\tthis.filterFields.push(filter);\n\t\t\t\t\t\t//break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\trender(response) {\n\t\t\tlet data = response;\n\n\t\t\tthis.setRenderData(data);\n\n\t\t\t// If the side menu is active\n\t\t\tif (this.sideMenu === true)\n\t\t\t{\n\t\t\t\tthis.setSideMenu(data);\n\t\t\t}\n\t\t\telse // otherwise use the dropdown in the filter options\n\t\t\t{\n\t\t\t\tthis.setDropDownMenu(data);\n\t\t\t}\n\t\t\tthis.updateTabulator();\n\t\t},\n\t\t/**\n\t\t * Set the menu\n\t\t */\n\t\tsetSideMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc,\n\t\t\t\t\tsubscriptDescription: personalFilters[filtersCount].subscriptDescription,\n\t\t\t\t\tsubscriptLinkClass: personalFilters[filtersCount].subscriptLinkClass,\n\t\t\t\t\tsubscriptLinkValue: personalFilters[filtersCount].subscriptLinkValue,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById,\n\t\t\t\t\tonClickSubscriptCall: this.handlerRemoveCustomFilter\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\n\t\t\tthis.$emit(\n\t\t\t\t'nwNewEntry',\n\t\t\t\t{\n\t\t\t\t\tlink: \"#\",\n\t\t\t\t\tdescription: \"Filters\",\n\t\t\t\t\ticon: \"filter\",\n\t\t\t\t\tchildren: filtersArray\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Set the drop down menu\n\t\t */\n\t\tsetDropDownMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\toption: filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\toption: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\t\t},\n\t\t/**\n\t\t * Used to start/refresh the FetchCmpt\n\t\t */\n\t\tstartFetchCmpt(apiFunction, apiFunctionParameters, dataFetchedCallback) {\n\t\t\t// Assign the function api of the FetchCmpt binded property\n\t\t\tthis.fetchCmptApiFunction = apiFunction;\n\n\t\t\t// In case a null value is provided set the parameters as an empty object\n\t\t\tif (apiFunctionParameters == null) apiFunctionParameters = {};\n\n\t\t\t// Always needed parameters\n\t\t\tapiFunctionParameters.filterUniqueId = FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t\tapiFunctionParameters.filterType = this.filterType;\n\n\t\t\tif (this.uniqueId)\n\t\t\t\tapiFunctionParameters.filterUniqueId += '_' + this.uniqueId;\n\n\t\t\t// Assign parameters to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptApiFunctionParams = apiFunctionParameters;\n\t\t\t// Assign data fetch callback to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptDataFetched = dataFetchedCallback;\n\t\t\t// Set the FetchCmpt binded property refresh to have the component to refresh\n\t\t\t// NOTE: this should be the last one to be called because it triggers the FetchCmpt to start to refresh\n\t\t\tthis.fetchCmptRefresh === true ? this.fetchCmptRefresh = false : this.fetchCmptRefresh = true;\n\t\t},\n\n\t\t// ------------------------------------------------------------------------------------------------------------------\n\t\t// Event handlers\n\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerSaveCustomFilter(customFilterName) {\n\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.saveCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tcustomFilterName\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerRemoveCustomFilter(event) {\n\t\t\tlet filterId = event.currentTarget.getAttribute(\"href\").substring(1);\n\t\t\tif (filterId === this.selectedFilter)\n\t\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.removeCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterId: filterId\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t/*\n\t\t *\n\t\t */\n\t\thandlerGetFilterById: function(event) {\n\n\t\t\tlet filterId = null;\n\n\t\t\t// Get the attribute href if side menu is rendered\n\t\t\tlet attr = event.currentTarget.getAttribute(\"href\");\n\n\t\t\t// Otherwise get the value of the drop down menu\n\t\t\tif (attr == null)\n\t\t\t{\n\t\t\t\tfilterId = event.currentTarget.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfilterId = attr.substring(1);\n\t\t\t}\n\n\t\t\tthis.switchFilter(filterId);\n\t\t},\n\t\tswitchFilter(filterId) {\n\t\t\tthis.selectedFilter = filterId;\n\t\t\tthis.getFilter();\n\t\t},\n\t\tapplyFilterConfig(filterFields) {\n\t\t\tthis.selectedFilter = null;\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.applyFilterFields(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterFields\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t// append child to it's parent\n\t\tappendChild(data, child) {\n\t\t\t// get parent id\n\t\t\tlet parentId = child[this.parentIdField];\n\n\t\t\t// loop thorugh all data\n\t\t\tfor (let parentIdx = 0; parentIdx < data.length; parentIdx++)\n\t\t\t{\n\t\t\t\tlet parent = data[parentIdx];\n\n\t\t\t\t// if it's the parent\n\t\t\t\tif (parent[this.idField] == parentId)\n\t\t\t\t{\n\t\t\t\t\t// create children array if not done yet\n\t\t\t\t\tif (!parent._children) parent._children = [];\n\n\t\t\t\t\t// if child is not included in children array, append the child\n\t\t\t\t\tif (!parent._children.includes(child)) parent._children.push(child);\n\n\t\t\t\t\t// parent found\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// search children for parents\n\t\t\t\telse if (parent._children) this.appendChild(parent._children, child);\n\t\t\t}\n\n\t\t\t// parent not found\n\t\t\treturn false;\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tif (!this.tableOnly == !this.filterType)\n\t\t\talert('You can not have a filter-type in table-only mode!');\n\t},\n\tcreated() {\n\t\tif (this.sideMenu && (!this.$props.onNwNewEntry || !(this.$props.onNwNewEntry instanceof Function)))\n\t\t\talert('\"nwNewEntry\" listener is mandatory when sideMenu is true');\n\t\tthis.uuid = _uuid++;\n\t\tthis.$emit('uuidDefined', this.uuid)\n\t},\n\tmounted() {\n\t\tthis.initTabulator().then(() => {\n\t\t\tif (!this.tableOnly) {\n\t\t\t\tthis.selectedFilter = window.location.hash ? window.location.hash.slice(1) : null;\n\t\t\t\tthis.render(this.fetchResult);\n\t\t\t}\n\t\t});\n\n\t},\n\ttemplate: `\n\t\t<!-- Load filter data -->\n\t\t<core-fetch-cmpt\n\t\t\tv-if=\"!tableOnly && fetchCmptApiFunction\"\n\t\t\tv-bind:api-function=\"fetchCmptApiFunction\"\n\t\t\tv-bind:api-function-parameters=\"fetchCmptApiFunctionParams\"\n\t\t\tv-bind:refresh=\"fetchCmptRefresh\"\n\t\t\t@data-fetched=\"fetchCmptDataFetched\">\n\t\t</core-fetch-cmpt>\n\n\t\t<div class=\"row\" v-if=\"title != null && title != ''\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<h3 class=\"page-header mt-1 mb-4\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"'filterCollapsables' + idExtra\">\n\n\t\t\t<div class=\"d-flex flex-row justify-content-between flex-wrap\">\n\t\t\t\t<div v-if=\"newBtnShow || reload || $slots.search || $slots.actions\" class=\"d-flex gap-2 align-items-baseline flex-wrap\">\n\t\t\t\t\t<button v-if=\"newBtnShow\" class=\"btn btn-primary\" :class=\"newBtnClass\" :title=\"newBtnLabel ? undefined : 'New'\" :aria-label=\"newBtnLabel ? undefined : 'New'\" @click=\"$emit('click:new', $event)\" :disabled=\"newBtnDisabled\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{ newBtnLabel }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"reload\" class=\"btn btn-outline-secondary\" aria-label=\"Reload\" @click=\"reloadTable\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-rotate-right\" aria-hidden=\"true\"  :title=\"reloadBtnInfotext ? reloadBtnInfotext : 'Reload'\" ></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span v-if=\"$slots.actions && tabulatorHasSelector && useSelectionSpan\">\n\t\t\t\t\t\t<span v-if=\"countOnly\">{{ selectedData.length }} ausgewählt</span>\n\t\t\t\t\t\t<span v-else id=\"selected-info-text\"> Mit {{ selectedData.length }} ausgewählten:</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<slot name=\"actions\" v-bind=\"{selected: tabulatorHasSelector ? selectedData : []}\"></slot>\n\t\t\t\t\t<slot name=\"search\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-1 align-items-baseline flex-grow-1 justify-content-end\">\n\t\t\t\t\t<span v-if=\"!tableOnly\">[ {{ filterName }} ]</span>\n\t\t\t\t\t<span v-else-if=\"description\" v-html=\"description\"></span>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"!tableOnly || $slots.filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseFilters' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"filterActive\"  class=\"btn btn-link px-0 fhc-text\" :title=\"$p.t('ui','filterdelete')\" @click=\"clearFilters\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter-circle-xmark\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseColumns' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-table-columns\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<table-download class=\"btn btn-link px-0 fhc-text\" :tabulator=\"tabulator\" :config=\"download\"></table-download>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<filter-columns\n\t\t\t\t:id=\"'collapseColumns' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:fields=\"fieldIdsForVisibilty\"\n\t\t\t\t:selected=\"selectedFields\"\n\t\t\t\t:names=\"fieldNames\"\n\t\t\t\t@hide=\"tabulator.hideColumn($event)\"\n\t\t\t\t@show=\"tabulator.showColumn($event)\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-columns>\n\n\t\t\t<filter-config\n\t\t\t\tv-if=\"!tableOnly\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:filters=\"!sideMenu ? (availableFilters || []) : []\"\n\t\t\t\t:columns=\"columnsForFilter\"\n\t\t\t\t:fields=\"filterFields || []\"\n\t\t\t\t@switch-filter=\"switchFilter\"\n\t\t\t\t@apply-filter-config=\"applyFilterConfig\"\n\t\t\t\t@save-custom-filter=\"handlerSaveCustomFilter\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-config>\n\t\t\t<div\n\t\t\t\tv-else-if=\"$slots.filter\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t\t>\n\t\t\t\t<slot name=\"filter\"></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tabulator -->\n\t\t<div ref=\"table\" :id=\"'filterTableDataset' + idExtra\" class=\"filter-table-dataset\"></div>\n\t`\n};\n","//import Phrasen from '../../plugin/Phrasen.js';\n\nexport default {\n\tname: 'BootstrapModal',\n\tdata: () => ({\n\t\tmodal: null,\n\t\tfullscreen: false\n\t}),\n\tprops: {\n\t\tbackdrop: {\n\t\t\ttype: [Boolean,String],\n\t\t\tdefault: true,\n\t\t\tvalidator(value) {\n\t\t\t\treturn ['static', true, false].includes(value);\n\t\t\t}\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tkeyboard: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tnoCloseBtn: Boolean,\n\t\tdialogClass: [String,Array,Object],\n\t\theaderClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tbodyClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: 'px-4 py-5'\n\t\t},\n\t\tfooterClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tallowFullscreenExpand: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\temits: [\n\t\t\"hideBsModal\",\n\t\t\"hiddenBsModal\",\n\t\t\"hidePreventedBsModal\",\n\t\t\"showBsModal\",\n\t\t\"shownBsModal\"\n\t],\n\tmethods: {\n\t\tdispose() {\n\t\t\treturn this.modal.dispose();\n\t\t},\n\t\thandleUpdate() {\n\t\t\treturn this.modal.handleUpdate();\n\t\t},\n\t\thide() {\n\t\t\treturn this.modal.hide();\n\t\t},\n\t\tshow(relatedTarget) {\n\t\t\treturn this.modal.show(relatedTarget);\n\t\t},\n\t\ttoggle() {\n\t\t\treturn this.modal.toggle();\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tthis.fullscreen = !this.fullscreen\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.$refs.modal)\n\t\t\tthis.modal = new bootstrap.Modal(this.$refs.modal, {\n\t\t\t\tbackdrop: this.backdrop,\n\t\t\t\tfocus: this.focus,\n\t\t\t\tkeyboard: this.keyboard\n\t\t\t});\n\t},\n\tpopup(body, options, title, footer) {\n\t\tconst BsModal = this,\n\t\t\tslots = {};\n\t\tif (body !== undefined)\n\t\t\tslots.default = () => body;\n\t\tif (title !== undefined)\n\t\t\tslots.title = () => title;\n\t\tif (footer !== undefined)\n\t\t\tslots.footer = () => footer;\n\n\t\t// little hack to check whether primevue is included in the app or not\n\t\tlet includedPrimevue = false;\n\t\tif(typeof primevue !== 'undefined'){\n\t\t\tincludedPrimevue = true;\n\t\t}\n\n\t\treturn new Promise((resolve,reject) => {\n\t\t\tconst instance = Vue.createApp({\n\t\t\t\tname: 'ModalTmpApp',\n\t\t\t\tsetup() {\n\t\t\t\t\treturn () => Vue.h(BsModal, {...{\n\t\t\t\t\t\tclass: 'fade'\n\t\t\t\t\t},...options, ...{\n\t\t\t\t\t\tref: 'modal',\n\t\t\t\t\t\t'onHidden.bs.modal': instance.unmount\n\t\t\t\t\t}}, slots);\n\t\t\t\t},\n\t\t\t\tmounted() {\n\t\t\t\t\tthis.$refs.modal.show();\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tbeforeUnmount() {\n\t\t\t\t\tif (this.$refs.modal)\n\t\t\t\t\t\tthis.$refs.modal.result !== false ? resolve(this.$refs.modal.result) : reject();\n\t\t\t\t},\n\t\t\t\tunmounted() {\n\t\t\t\t\twrapper.parentElement.removeChild(wrapper);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst wrapper = document.createElement(\"div\");\n\t\t\t\n\t\t\t// if(primevue) --> won't work because primevue is not defined in this scope and promise would be rejected\n\t\t\tif (includedPrimevue){\n\t\t\t\tinstance.use(primevue.config.default, {zIndex: {overlay: 9999}})\n\t\t\t}\n\t\t\t\t \n\t\t\t//instance.use(Phrasen); // TODO(chris): find a more dynamic way\n\t\t\timport('../../plugins/Phrasen.js').then((Phrasen) => {\n\t\t\t\tinstance.use(Phrasen.default);\n\t\t\t\tinstance.mount(wrapper);\n\t\t\t\tdocument.body.appendChild(wrapper);\n\t\t\t});\n\t\t});\n\t},\n\ttemplate: `<div ref=\"modal\" class=\"bootstrap-modal modal\" tabindex=\"-1\" @[\\`hide.bs.modal\\`]=\"$emit('hideBsModal')\" @[\\`hidden.bs.modal\\`]=\"$emit('hiddenBsModal')\" @[\\`hidePrevented.bs.modal\\`]=\"$emit('hidePreventedBsModal')\" @[\\`show.bs.modal\\`]=\"$emit('showBsModal')\" @[\\`shown.bs.modal\\`]=\"$emit('shownBsModal')\">\n\t\t<div class=\"modal-dialog\" :class=\"fullscreen ? 'modal-fullscreen' : dialogClass\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<div v-if=\"$slots.title\" class=\"modal-header\" :class=\"headerClass\">\n\t\t\t\t\t<h5 class=\"modal-title\"><slot name=\"title\"/></h5>\n\t\t\t\t\t<div class=\"d-flex align-items-center ms-auto\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn ms-auto\" style=\"filter: invert(1)\" v-if=\"allowFullscreenExpand\" @click=\"toggleFullscreen\">\n\t\t\t\t\t\t  <i v-if=\"!fullscreen\" class=\"fa-solid fa-expand\"></i>\n\t\t\t\t\t\t  <i v-else class=\"fa-solid fa-compress\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button v-if=\"!noCloseBtn\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<slot name=\"modal-header-content\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-body\" :class=\"bodyClass\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"$slots.footer\" class=\"modal-footer\" :class=\"footerClass\">\n\t\t\t\t\t<slot name=\"footer\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n}\n","export default{\n    props:{\n        view:String,\n        data:Object,\n    },\n    data(){\n        return {\n\n        }\n    },\n    created(){\n\n    }, \n    template:/*html*/`\n\t<template v-if=\"data.kontakt\">\n    <div class=\"gy-2 row align-items-center justify-content-center\">\n        <div class=\"col-1 text-center\" >\n            <i class=\"fa-solid fhc-link-color\" :class=\"{...(data.kontakt.includes('@')?{'fa-envelope':true}:{'fa-phone':true})}\" ></i>\n        </div>\n        <div :class=\"{...(data.anmerkung? {'col-11':true, 'col-md-6':true, 'col-xl-11':true, 'col-xxl-6':true} : {'col-10':true, 'col-xl-9':true, 'col-xxl-10':true})}\">\n            <!-- rendering KONTAKT emails -->\n            <div  class=\"form-underline \">\n                <div class=\"form-underline-titel\">{{$p.t('profil',data.kontakttyp.toUpperCase())}}</div>\n                <a v-if=\"data.kontakt.includes('@')\" role=\"link\" :aria-disabled=\"view?true:false\" :href=\"!view?('mailto:'+data.kontakt):null\" class=\"form-underline-content\">{{data.kontakt}} </a>\n                <a v-else role=\"link\" :aria-disabled=\"view?true:false\" :href=\"!view?('tel:'+data.kontakt):null\" class=\"form-underline-content\">{{data.kontakt}} </a>\n            </div>\n        </div>\n        <div v-if=\"data?.anmerkung\" class=\"offset-1 offset-md-0 offset-xl-1 offset-xxl-0 order-2 order-sm-1 col-10  col-md-4   col-xl-9 col-xxl-4   \">\n            <div  class=\"form-underline \">\n                <div class=\"form-underline-titel\">{{$p.t('global','anmerkung')}}</div>\n                <span  class=\"form-underline-content\">{{data.anmerkung}} </span>\n            </div>\n        </div>\n        <div class=\"text-center col-1 col-sm-1 order-2  order-lg-1 col-xl-2 col-xxl-1 allign-middle\">\n            <i v-if=\"data.zustellung\" class=\"fa-solid fa-check\"></i>\n            <i v-else=\"data.zustellung\" class=\"fa-solid fa-xmark\"></i>\n        </div>\n    </div>\n\t</template>\n`,\n};","export default {\n    props:{\n        data:Object,\n        view:String,\n        withZustelladresse:{\n            type:Boolean,\n            default:true,\n        },\n    },\n    data(){\n        return{}\n    },\n    created(){\n        \n    },\n    template:/*html*/`\n    \n    <div class=\"gy-2 row justify-content-center align-items-center\">\n    \n        <!-- column 1 in the address row -->\n        <div class=\"col-1 text-center\">\n            <i class=\"fa fa-location-dot fa-lg fhc-link-color\" ></i>\n        </div>\n        \n        <div  class=\"col-11 col-sm-8 col-xl-11 col-xxl-8 order-1\">\n            <div class=\"form-underline \">\n                <div class=\"form-underline-titel\">{{$p.t('person','strasse')}}</div>\n                <span class=\"form-underline-content\">{{data.strasse}} </span>\n            </div>\n        </div>\n        \n        <!-- column 2 in the address row -->\n        <div class=\"offset-1 offset-sm-0 offset-xl-1 offset-xxl-0 order-2 order-sm-4 order-xl-2 order-xxl-4 col-11 col-sm-5 col-xl-11 col-xxl-5\">\n            <div class=\"form-underline \">\n                <div class=\"form-underline-titel\">{{$p.t('global','typ')}}</div>\n                <span class=\"form-underline-content\">{{data.typ}} </span>\n            </div>\n        </div>\n        \n        <div class=\"offset-1 order-3 order-sm-3 col-11 col-sm-6  col-xl-7 col-xxl-6\">     \n            <div class=\"form-underline \">\n                <div class=\"form-underline-titel\">{{$p.t('person','ort')}}</div>\n                <span class=\"form-underline-content\">{{data.ort}} </span>\n            </div>\n        </div>\n        <div  class=\" offset-1 offset-sm-0 order-4 order-sm-2 order-xl-4 order-xxl-2 col-11 col-sm-3 col-xl-4 col-xxl-3\">\n            <div class=\"form-underline\">\n                <div class=\"form-underline-titel\">{{$p.t('person','plz')}}</div>\n                <span class=\"form-underline-content\">{{data.plz}} </span>\n            </div>\n        </div>\n\n        <div v-if=\"withZustelladresse\" class=\"order-5 offset-1 col-11\">\n            <div class=\"form-underline\">\n                <div class=\"form-underline-titel\">{{$p.t('person','zustelladresse')}}</div>\n                <div class=\"ms-2 form-check \">\n                    <input class=\"form-check-input\" type=\"checkbox\"  @click.prevent :checked=\"data.zustelladresse\"  >\n                </div>\n            </div>\n        </div>\n    </div>\n`\n};","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\t//! API calls for profil update requests\n\tgetStatus() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/getStatus'\n\t\t};\n\t},\n\tgetTopic() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/getTopic'\n\t\t};\n\t},\n\tacceptProfilRequest({profil_update_id, uid, status_message, topic, requested_change}) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/acceptProfilRequest',\n\t\t\tparams: {\n\t\t\t\tprofil_update_id,\n\t\t\t\tuid,\n\t\t\t\tstatus_message,\n\t\t\t\ttopic,\n\t\t\t\trequested_change\n\t\t\t}\n\t\t};\n\t},\n\tdenyProfilRequest({profil_update_id, uid, topic, status_message}) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/denyProfilRequest',\n\t\t\tparams: {\n\t\t\t\tprofil_update_id,\n\t\t\t\tuid,\n\t\t\t\ttopic,\n\t\t\t\tstatus_message\n\t\t\t}\n\t\t};\n\t},\n\tinsertFile(dms, replace = null) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n\t\t\tparams: dms\n\t\t};\n\t},\n\tupdateProfilbild(dms) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: `/api/frontend/v1/ProfilUpdate/updateProfilbild`,\n\t\t\tparams: dms\n\t\t};\n\t},\n\tgetProfilUpdateWithPermission(filter) {\n\t\tconst url_filter = (filter !== '') ? '/' + encodeURIComponent(filter) : '';\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/getProfilUpdateWithPermission' + url_filter\n\t\t};\n\t},\n\tgetProfilRequestFiles(requestID) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`\n\t\t};\n\t},\n\tselectProfilRequest(uid = null, id = null) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/selectProfilRequest',\n\t\t\tparams: {\n\t\t\t\t...(uid ? { uid } : {}),\n\t\t\t\t...(id ? { id } : {})\n\t\t\t}\n\t\t};\n\t},\n\tinsertProfilRequest(topic, payload, fileID = null) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/insertProfilRequest',\n\t\t\tparams: {\n\t\t\t\ttopic,\n\t\t\t\tpayload,\n\t\t\t\t...(fileID ? { fileID } : {})\n\t\t\t}\n\t\t};\n\t},\n\tupdateProfilRequest(topic, payload, ID, fileID = null) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/updateProfilRequest',\n\t\t\tparams: {\n\t\t\t\ttopic,\n\t\t\t\tpayload,\n\t\t\t\tID,\n\t\t\t\t...(fileID ? { fileID } : {})\n\t\t\t}\n\t\t};\n\t},\n\tdeleteProfilRequest(requestID) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/ProfilUpdate/deleteProfilRequest',\n\t\t\tparams: { requestID }\n\t\t};\n\t}\n};","import BsModal from \"../../Bootstrap/Modal.js\";\nimport Alert from \"../../Bootstrap/Alert.js\";\nimport Kontakt from \"../Profil/ProfilComponents/Kontakt.js\";\nimport Adresse from \"../Profil/ProfilComponents/Adresse.js\";\n\nimport ApiProfilUpdate from '../../../api/factory/profilUpdate.js';\n\nexport default {\n  components: {\n    BsModal,\n    Kontakt,\n    Adresse,\n  },\n  inject: [\"profilUpdateStates\"],\n  mixins: [BsModal],\n  props: {\n    title: {\n      type: String,\n    },\n    value: {\n      type: Object,\n    },\n    setLoading: {\n      type: Function,\n    },\n\n    /*\n     * NOTE(chris):\n     * Hack to expose in \"emits\" declared events to $props which we use\n     * in the v-bind directive to forward all events.\n     * @see: https://github.com/vuejs/core/issues/3432\n     */\n    onHideBsModal: Function,\n    onHiddenBsModal: Function,\n    onHidePreventedBsModal: Function,\n    onShowBsModal: Function,\n    onShownBsModal: Function,\n  },\n  data() {\n    return {\n      data: this.value,\n      loading: false,\n      result: false,\n      info: null,\n      files: null,\n    };\n  },\n\n  methods: {\n    getProfilStatus: async function () {\n      return (\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/Cis/ProfilUpdate/show/${dms_id}`\n      );\n    },\n    getDocumentLink: function (dms_id) {\n      return (\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/Cis/ProfilUpdate/show/${dms_id}`\n      );\n    },\n    handleRequest: function (type) {\n      this.loading = true;\n      this.setLoading(true);\n      this.$api\n        .call(ApiProfilUpdate[\n          type.toLowerCase() == \"accept\"\n            ? \"acceptProfilRequest\"\n            : \"denyProfilRequest\"\n        ](this.data))\n        .then((res) => {\n          this.result = true;\n        })\n\t\t.catch((e) => this.$fhcAlert.handleSystemError)\n        .finally(() => {\n\t\t  this.setLoading(false);\n\t\t  this.loading = false;\n          this.hide();\n        });\n    },\n  },\n\n  computed: {\n    getComponentView: function () {\n      if (this.data.topic.toLowerCase().includes(\"kontakt\")) {\n        return \"kontakt\";\n      } else if (this.data.topic.toLowerCase().includes(\"adresse\")) {\n        return \"adresse\";\n      } else {\n        return \"text_input\";\n      }\n    },\n  },\n  created() {\n    // only fetching the profilUpdate Attachemnts if the profilUpdate actually has attachments\n    if (this.value.attachment_id) {\n      this.$api\n        .call(ApiProfilUpdate.getProfilRequestFiles(\n          this.data.profil_update_id\n        ))\n        .then((res) => {\n          this.files = res.data;\n        });\n    }\n  },\n  mounted() {\n    this.modal = this.$refs.modalContainer.modal;\n  },\n  popup(options) {\n    return BsModal.popup.bind(this)(null, options);\n  },\n  template: /*html*/ `\n\n  <bs-modal\n\t\tv-show=\"!loading\"\n\t\tref=\"modalContainer\"\n\t\tv-bind=\"$props\"\n\t\theader-class=\"bg-light\"\n\t\tfooter-class=\"bg-light\"\n\t\tbody-class=\"\"\n\t\tdialog-class=\"modal-lg\"\n\t\tclass=\"bootstrap-alert\"\n\t\t:backdrop=\"false\"\n\t>\n    \n    <template v-slot:title>\n      {{title}}  \n    </template>\n\n\n    <template v-slot:default>\n    \n   <div class=\"row\">\n    <div  class=\"form-underline mb-2 col-12 col-sm-6\">\n      <div class=\"form-underline-titel\">{{$p.t('global','status')}}: </div>\n\n      <span  class=\"form-underline-content\" >{{data.status}}</span>\n    </div>\n\n\n    <div v-if=\"data.status!==profilUpdateStates['Pending']\" class=\"form-underline mb-2 col-12 col-sm-6\">\n      <div class=\"form-underline-titel\">{{$p.t('profilUpdate','statusDate')}}: </div>\n      <!-- only status timestamp and status message can be null in the database -->\n      <span  class=\"form-underline-content\" >{{data.status_timestamp?data.status_timestamp:'-'}}</span>\n    </div>\n\n\n    \n    <div  class=\"form-underline mb-2 col-12 col-sm-6\">\n      <div class=\"form-underline-titel\">{{$p.t('profilUpdate','userID')}}: </div>\n\n      <span  class=\"form-underline-content\" >{{data.uid}}</span>\n    </div>\n\n    <div  class=\"form-underline mb-2 col-12 col-sm-6\">\n      <div class=\"form-underline-titel\">{{$p.t('global','name')}}: </div>\n\n      <span  class=\"form-underline-content\" >{{data.name}}</span>\n    </div>\n\n    <div  class=\"form-underline mb-2 col-12 col-sm-6\">\n      <div class=\"form-underline-titel\">{{$p.t('profilUpdate','anfrageThema')}}: </div>\n\n      <span  class=\"form-underline-content\" >{{data.topic}}</span>\n    </div>\n\n\n\n\n    <div  class=\"form-underline mb-2 col-12 col-sm-6\">\n      <div class=\"form-underline-titel\">{{$p.t('profilUpdate','anfrageDatum')}}:</div>\n\n      <span  class=\"form-underline-content\" >{{data.insertamum}}</span>\n    </div>\n\n    </div>\n\n    <!-- Row with the status message is only visible if the request is not pending and the message is not empty -->\n    <div v-if=\"data.status !== profilUpdateStates['Pending'] && data.status_message\" class=\"row\">\n    <div class=\"col\">\n    <div  class=\"form-underline mb-2 \">\n    <div class=\"form-underline-titel\">{{$p.t('profilUpdate','statusMessage')}}</div>\n    <textarea  class=\"form-control\" rows=\"4\" disabled>{{data.status_message}} </textarea>\n    </div>\n    </div>\n    </div>\n\n    <div class=\"row my-4\">\n    <div class=\"col \">\n    <div class=\"card\">\n    <div class=\"card-header\">{{$p.t('profilUpdate','update')}}</div>\n    <div class=\"card-body\">\n    <template v-if=\"getComponentView==='text_input'\">\n    <div  class=\"form-underline mb-2\">\n      <div class=\"form-underline-titel\">{{data.topic}}</div>\n\n      <span  class=\"form-underline-content\" >{{data.requested_change.value}}</span>\n    </div>\n    </template>\n\n\n    <component v-else :is=\"getComponentView\" :withZustelladresse=\"getComponentView==='adresse'?true:false\" :data=\"data.requested_change\"></component>\n\n    </div>\n    </div>\n\n\t\t<div  v-if=\"files?.length\" class=\"card mt-3\">\n\t\t\t<div class=\"card-header\">{{$p.t('profilUpdate','nachweisdokumente')}}</div>\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<a  v-for=\"file in files\" target=\"_blank\" :href=\"getDocumentLink(file.dms_id)\" >{{file.name}}</a>\n\t\t\t</div>\n\t\t</div>\n\n    </div>\n    </div>\n    \n    </template>\n    \n\n    <template v-if=\"data.status === profilUpdateStates['Pending']\"  v-slot:footer>\n    <div  class=\"flex-fill\">\n      <div>{{$p.t('global','nachricht')}}</div>\n\n      <div class=\"d-flex flex-row gap-2\">\n        <input  class=\"form-control \" v-model=\"data.status_message\"  />\n        <button  @click=\"handleRequest('accept')\" class=\"text-nowrap btn btn-success\">{{$p.t('profilUpdate','accept')}} <i class=\"fa fa-check\"></i></button>\n        <button @click=\"handleRequest('deny')\" class=\"text-nowrap btn btn-danger\">{{$p.t('profilUpdate','deny')}} <i class=\"fa fa-xmark\"></i></button>\n      </div>\n    </div>\n     \n    </template>\n  \n    </bs-modal>`,\n};\n","import BsModal from './Bootstrap/Modal.js';\n\nexport default {\n\tcomponents: {\n\t\tBsModal\n\t},\n\tprops: {\n\t\ttimeout: {\n\t\t\ttype: Number,\n\t\t\tdefault: 300\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tt: null,\n\t\t\tstate: 0\n\t\t}\n\t},\n\tmethods: {\n\t\tshow() {\n\t\t\tswitch (this.state) {\n\t\t\t\tcase 0:\n\t\t\t\t\tif (this.timeout) {\n\t\t\t\t\t\tthis.state = 1;\n\t\t\t\t\t\tthis.t = window.setTimeout(() => this.$refs.modal.show(), this.timeout);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else\n\t\t\t\t\t\treturn this.$refs.modal.show();\n\t\t\t\tcase 4:\n\t\t\t\t\treturn window.setTimeout(() => this.show(), 1);\n\t\t\t}\n\t\t},\n\t\thide() {\n\t\t\tswitch (this.state) {\n\t\t\t\tcase 1:\n\t\t\t\t\treturn window.clearTimeout(this.t);\n\t\t\t\tcase 2:\n\t\t\t\t\treturn window.setTimeout(() => this.hide(), 1);\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.$refs.modal.hide();\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$refs.modal.$refs.modal.addEventListener('show.bs.modal', () => {\n\t\t\tthis.state = 2;\n\t\t});\n\t\tthis.$refs.modal.$refs.modal.addEventListener('shown.bs.modal', () => {\n\t\t\tthis.state = 3;\n\t\t});\n\t\tthis.$refs.modal.$refs.modal.addEventListener('hide.bs.modal', () => {\n\t\t\tthis.state = 4;\n\t\t});\n\t\tthis.$refs.modal.$refs.modal.addEventListener('hidden.bs.modal', () => {\n\t\t\tthis.state = 0;\n\t\t});\n\t},\n\ttemplate: `\n\t<bs-modal ref=\"modal\" class=\"fade text-center\" dialog-class=\"modal-dialog-centered\" backdrop=\"static\" :keyboard=\"false\">\n\t\tLoading...\n\t</bs-modal>`\n}","if (!primevue) {\n\tconsole.error('PrimeVue not loaded!');\n}\n\n// NOTE(chris): Click on clear button gives an error. This is a bug in primevue => fixed in current version\nTabulator.extendModule('filter', 'filters', {\n\t\"dates\": (headerValue, rowValue) => {\n\t\tif (!headerValue)\n\t\t\treturn true;\n\n\t\tlet rowDate = new Date(rowValue);\n\n\t\tif (Array.isArray(headerValue))\n\t\t{\n\t\t\tlet startDate = new Date(headerValue[0]);\n\t\t\tif (headerValue[1])\n\t\t\t{\n\t\t\t\tlet endDate = new Date(headerValue[1]);\n\n\t\t\t\tendDate.setHours(23, 59, 59, 999);\n\n\t\t\t\treturn rowDate >= startDate && rowDate <= endDate;\n\t\t\t}\n\n\t\t\treturn rowDate.toDateString() === startDate.toDateString();\n\t\t}\n\t\tlet singleDate = new Date(headerValue);\n\t\treturn rowDate.toDateString() === singleDate.toDateString();\n\t}\n});\n\nfunction dateFilter(cell, onRendered, success) {\n\tlet div = document.createElement('div');\n\n\tlet initialValue = null;\n\n\tlet val = cell.getValue();\n\n\tif (Array.isArray(val))\n\t{\n\t\tconst start = val[0] ? new Date(val[0]) : null;\n\t\tconst end   = val[1] ? new Date(val[1]) : null;\n\t\tinitialValue = [start, end];\n\t}\n\n\tVue.createApp({\n\t\tcomponents: {\n\t\t\tPrimevueCalendar: primevue.calendar\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tval: initialValue\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tval(n) {\n\t\t\t\tsuccess(n);\n\t\t\t}\n\t\t},\n\t\ttemplate: `<primevue-calendar \n\t\t\t\t\tv-model=\"val\" \n\t\t\t\t\tselection-mode=\"range\" \n\t\t\t\t\t:manual-input=\"false\" \n\t\t\t\t\tshow-button-bar \n\t\t\t\t\t:showIcon=\"true\"\n\t\t\t\t\tdateFormat=\"dd.mm.yy\">\n\t\t\t\t   </primevue-calendar>`\n\t}).use(primevue.config.default).mount(div);\n\n\treturn div;\n}\nexport { dateFilter };","import { CoreFilterCmpt } from \"../../filter/Filter.js\";\nimport AcceptDenyUpdate from \"./AcceptDenyUpdate.js\";\nimport Alert from \"../../../components/Bootstrap/Alert.js\";\nimport Loading from \"../../../components/Loader.js\";\n\nimport ApiProfilUpdate from '../../../api/factory/profilUpdate.js';\nimport { dateFilter } from '../../../tabulator/filters/Dates.js';\n\nconst sortProfilUpdates = (ele1, ele2, thisPointer) => {\n  let result = 0;\n  if (ele1.status === thisPointer.profilUpdateStates[\"Pending\"]) {\n    result = -1;\n  } else if (ele1.status === thisPointer.profilUpdateStates[\"Accepted\"]) {\n    result =\n      ele2.status === thisPointer.profilUpdateStates[\"Rejected\"] ? -1 : 1;\n  } else {\n    result = 1;\n  }\n\n  if (ele1.status === ele2.status) {\n    //? if they have the same status , insert_date gets compared for order\n    result =\n      new Date(ele2.insertamum.split(\".\").reverse().join(\"-\")) -\n      new Date(ele1.insertamum.split(\".\").reverse().join(\"-\"));\n  }\n  return result;\n};\n\nexport default {\n  components: {\n    CoreFilterCmpt,\n    Loading,\n    AcceptDenyUpdate,\n  },\n  inject: [\"profilUpdateStates\"],\n  props: {\n    id: {\n      type: String,\n    },\n  },\n  data() {\n    return {\n      categoryLoaded: false,\n      showModal: false,\n      modalData: null,\n      loading: false,\n      filter: \"Pending\",\n      profil_update_id: Number(this.id),\n  };\n  },\n\tcomputed: {\n\t\tprofilUpdateEvents: function () {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\t\"event\": \"dataProcessed\",\n\t\t\t\t\t\"handler\": this.handleDataProcessed\n\t\t\t\t}\n\t\t\t];\n\t\t},\n\t\tprofilUpdateOptions: function () {\n\t\t\treturn {\n\t\t\t\tpersistence: {\n\t\t\t\t\tcolumns: [\"width\", \"visible\", \"frozen\"],\n\t\t\t\t},\n\t\t\t\tpersistenceID: 'cis-profilupdate-2025121702',\n\t\t\t\tajaxURL: 'dummy',\n\t\t\t\tajaxRequestFunc: (url, config, params) => {\n\t\t\t\t\treturn this.$api.call(ApiProfilUpdate.getProfilUpdateWithPermission(params.filter));\n\t\t\t\t},\n\t\t\t\tajaxParams: () => {\n\t\t\t\t\tlet filter = '';\n\t\t\t\t\tswitch (this.filter) {\n\t\t\t\t\t\tcase this.profilUpdateStates[\"Pending\"]:\n\t\t\t\t\t\t\tfilter = this.profilUpdateStates[\"Pending\"];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase this.profilUpdateStates[\"Accepted\"]:\n\t\t\t\t\t\t\tfilter = this.profilUpdateStates[\"Accepted\"];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase this.profilUpdateStates[\"Rejected\"]:\n\t\t\t\t\t\t\tfilter = this.profilUpdateStates[\"Rejected\"];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tfilter = '';\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\t\"filter\": filter\n\t\t\t\t\t};\n\t\t\t\t},\n        ajaxResponse: (url, params, response) => {\n          //url - the URL of the request\n          //params - the parameters passed with the request\n          //response - the JSON object returned in the body of the response.\n          //? sorts the response data from the backend\n\t\t\t\t\tif (response?.data)\n\t\t\t\t\t\tresponse.data.sort((ele1, ele2) => sortProfilUpdates(ele1, ele2, this));\n\n\t\t\t\t\treturn response.data;\n        },\n        //? adds tooltip with the status message of a profil update request if its status is not pending\n        columnDefaults: {\n          tooltip: (e, cell, onRendered) => {\n            //e - mouseover event\n            //cell - cell component\n            //onRendered - onRendered callback registration function\n            let statusMessage = cell.getData().status_message;\n            let statusDate = cell.getData().status_timestamp;\n            let status = cell.getData().status;\n            if (!statusMessage) {\n              return null;\n            }\n            let el = document.createElement(\"div\");\n            el.classList.add(\"border\", \"border-dark\");\n\n            let statusDateEl = document.createElement(\"span\");\n            statusDateEl.classList.add(\"d-block\", \"mb-1\");\n            statusDateEl.innerHTML =\n              \"Request was \" + status + \" on \" + statusDate;\n            let statusMessageEl = document.createElement(\"span\");\n            statusMessageEl.innerHTML = \"Status message: \" + statusMessage;\n\n            el.appendChild(statusDateEl);\n            el.appendChild(statusMessageEl);\n            return el;\n          },\n        },\n        rowContextMenu: (e, component) => {\n          let menu = [];\n          if (\n            component.getData().status === this.profilUpdateStates[\"Pending\"]\n          ) {\n            menu.push(\n              {\n                label: `<i class='fa fa-check'></i> ${this.$p.t(\n                  \"profilUpdate\",\n                  \"acceptUpdate\"\n                )}`,\n                action: (e, column) => {\n                  this.$api\n                    .call(ApiProfilUpdate.acceptProfilRequest(column.getData()))\n                    .then((res) => {\n                      this.$refs.UpdatesTable.tabulator.setData();\n                    })\n\t\t\t\t\t.catch((e) => this.$fhcAlert.handleSystemError);\n                },\n              },\n              {\n                separator: true,\n              },\n              {\n                label: ` <i style='width:16px' class='text-center fa fa-xmark'></i> ${this.$p.t(\n                  \"profilUpdate\",\n                  \"denyUpdate\"\n                )}`,\n                action: (e, column) => {\n                  this.$api\n                    .call(ApiProfilUpdate.denyProfilRequest(column.getData()))\n                    .then((res) => {\n                      this.$refs.UpdatesTable.tabulator.setData();\n                    })\n\t\t\t\t\t.catch((e) => this.$fhcAlert.handleSystemError);\n                },\n              },\n              {\n                separator: true,\n              },\n              {\n                label: `<i class='fa fa-eye'></i> ${this.$p.t(\n                  \"profilUpdate\",\n                  \"showRequest\"\n                )}`,\n                action: (e, column) => {\n                  this.showAcceptDenyModal(column.getData());\n                },\n              }\n            );\n          } else {\n            menu.push({\n              label: `<i class='fa fa-eye'></i> ${this.$p.t(\n                \"profilUpdate\",\n                \"showRequest\"\n              )}`,\n              action: (e, column) => {\n                this.showAcceptDenyModal(column.getData());\n              },\n            });\n          }\n          return menu;\n        },\n\n        height: 600,\n        layout: \"fitDataStretchFrozen\",\n\n        columns: [\n          {\n            title: this.$p.t(\"profilUpdate\", \"UID\"),\n            field: \"uid\",\n            minWidth: 100,\n            resizable: true,\n            headerFilter: true,\n            //responsive:0,\n          },\n          {\n            title: this.$p.t(\"profilUpdate\", \"Name\"),\n            field: \"name\",\n            minWidth: 200,\n            resizable: true,\n            headerFilter: true,\n            //responsive:0,\n          },\n          {\n            title: this.$p.t(\"profil\", \"stg_short\") + ' (' + this.$p.t(\"profil\", \"studentIn\") + ')',\n            field: \"studiengang\",\n            minWidth: 50,\n            resizable: true,\n            headerFilter: \"list\",\n            headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"},\n            //responsive:0,\n          },\n\t\t  {\n\t\t\ttitle: this.$p.t(\"profil\", \"sem_short\") + ' (' + this.$p.t(\"profil\", \"studentIn\") + ')',\n\t\t\tfield: \"semester\",\n\t\t\theaderFilter: \"list\",\n\t\t\theaderFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"}\n\t\t  },\n\t\t  {\n            title: this.$p.t(\"profil\", \"orgform_short\") + ' (' + this.$p.t(\"profil\", \"studentIn\") + ')',\n            field: \"orgform\",\n            minWidth: 50,\n            resizable: true,\n            headerFilter: \"list\",\n            headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"},\n            //responsive:0,\n          },\n\t\t  {\n            title: this.$p.t(\"profil\", \"orgeinheit_short\") + ' (' + this.$p.t(\"profil\", \"mitarbeiterIn\") + ')',\n            field: \"oezuordnung\",\n            minWidth: 200,\n            resizable: true,\n            headerFilter: \"list\",\n            headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"},\n            //responsive:0,\n          },\n\t\t  {\n            title: this.$p.t(\"profilUpdate\", \"Topic\"),\n            field: \"topic\",\n            resizable: true,\n            minWidth: 200,\n            headerFilter: \"list\",\n            headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"},\n            //responsive:0,\n          },\n\t\t  {\n            title: this.$p.t(\"profilUpdate\", \"insertamum\"),\n            field: \"insertamum_iso\",\n            resizable: true,\n\t\t\theaderFilterFunc: 'dates',\n\t\t\theaderFilter: dateFilter,\n            minWidth: 200,\n\t\t\tformatter:\"datetime\",\n\t\t\tformatterParams: this.datetimeFormatterParams(),\n            //responsive:0,\n          },\n\t\t  {\n            title: this.$p.t(\"profilUpdate\", \"Status\"),\n            field: \"status_translated\",\n            hozAlign: \"center\",\n            headerFilter: \"list\",\n            headerFilterParams: {valuesLookup:true, listOnEmpty:true, autocomplete:true, sort:\"asc\"},\n            formatter: (cell, para) => {\n              let iconClasses = \"\";\n              let status = cell.getRow().getData().status;\n              switch (status) {\n                case this.profilUpdateStates[\"Pending\"]:\n                  iconClasses += \"fa fa-lg fa-circle-info text-info \";\n                  break;\n                case this.profilUpdateStates[\"Accepted\"]:\n                  iconClasses += \"fa fa-lg fa-circle-check text-success \";\n                  break;\n                case this.profilUpdateStates[\"Rejected\"]:\n                  iconClasses += \"fa fa-lg fa-circle-xmark text-danger \";\n                  break;\n              }\n              return `<div class='row justify-content-center'><div class='col-2'><i class='${iconClasses}'></i></div> <div class='col-4'><span>${cell.getValue()}</span></div></div>`;\n            },\n            resizable: true,\n            minWidth: 200,\n            //responsive:0,\n          },\n          {\n            title: this.$p.t(\"profilUpdate\", \"actions\"),\n            headerSort: false,\n\t\t\tfrozen: true,\n            formatter: (cell, params) => {\n              let details = this.$p.t('global', 'details');\n              let html = `<div class=\"d-flex justify-content-evenly align-items-center\">\n                <button class=\"btn btn-secondary\" id=\"showButton\">${details}</button>\n              </div>`;\n\n              // Convert the HTML string to an HTML node\n              const parser = new DOMParser();\n              const doc = parser.parseFromString(html, \"text/html\");\n              const node = doc.body.firstChild;\n\n              // Add event listeners\n              node\n                .querySelector(\"#showButton\")\n                .addEventListener(\"click\", () => {\n                  this.showAcceptDenyModal(cell.getRow().getData());\n                });\n\n              return node;\n            },\n            minWidth: 200,\n            resizable: true,\n            hozAlign: \"center\",\n          },\n        ],\n      };\n    }\n  },\n  methods: {\n    denyProfilUpdate: function (data) {\n      this.$api\n        .call(ApiProfilUpdate.denyProfilRequest(data))\n        .then((res) => {\n          // block when the request was successful\n        })\n\t\t.catch((e) => this.$fhcAlert.handleSystemError)\n        .finally(() => {\n          this.$refs.UpdatesTable.tabulator.setData();\n        });\n    },\n    acceptProfilUpdate: function (data) {\n      this.$api\n        .call(ApiProfilUpdate.acceptProfilRequest(data))\n        .then((res) => {\n          // block when the request was successful\n        })\n\t\t.catch((e) => this.$fhcAlert.handleSystemError)\n        .finally(() => {\n          // update the data inside the table\n          this.$refs.UpdatesTable.tabulator.setData();\n        });\n    },\n    setLoading: function (newValue) {\n      this.loading = newValue;\n    },\n    hideAcceptDenyModal: function () {\n      //? checks the AcceptDenyModal component property result, if the user made a successful request or not\n      if (this.$refs.AcceptDenyModal.result) {\n        //? refetches the data, if any request was denied or accepted\n        //* setData will call the ajaxURL again to refresh the data\n\n        this.$refs.UpdatesTable.tabulator.setData();\n      } else {\n        // when modal was closed without submitting request\n      }\n      this.showModal = false;\n      this.modalData = null;\n    },\n    showAcceptDenyModal(value) {\n      this.modalData = value;\n      if (!this.modalData) {\n        return;\n      }\n      this.showModal = true;\n\n      // after a state change, wait for the DOM updates to complete\n      Vue.nextTick(() => {\n        this.$refs.AcceptDenyModal.show();\n      });\n    },\n    updateData: function (event) {\n      this.$refs.UpdatesTable.tabulator.setData();\n      //? store the selected view in the session storage of the browser\n      sessionStorage.setItem(\"filter\", event.target.value);\n\t\t},\n\t\thandleDataProcessed: function () {\n\t\t\tif (this.profil_update_id) {\n\t\t\t\tconst arrayRowData = this.$refs.UpdatesTable.tabulator\n\t\t\t\t\t.getData()\n\t\t\t\t\t.filter((row) => {\n\t\t\t\t\t\treturn row.profil_update_id === this.profil_update_id;\n\t\t\t\t\t});\n\t\t\t\tif (arrayRowData.length) {\n\t\t\t\t\tthis.showAcceptDenyModal(arrayRowData[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdatetimeFormatterParams: function() {\n\t\t\tconst params = {\n\t\t\t\tinputFormat:\"yyyy-MM-dd\",\n\t\t\t\toutputFormat:\"dd.MM.yyyy\",\n\t\t\t\tinvalidPlaceholder:\"(invalid date)\",\n\t\t\t\ttimezone:FHC_JS_DATA_STORAGE_OBJECT.timezone\n\t\t\t};\n\t\t\treturn params;\n\t\t}\n  },\n  watch: {\n    loading: function (newValue, oldValue) {\n      if (newValue) {\n        this.$refs.loadingModalRef.show();\n      } else {\n        this.$refs.loadingModalRef.hide();\n      }\n    },\n  },\n  created() {\n    this.$p.loadCategory([\"profilUpdate\", \"lehre\", \"profil\", \"global\"]).then(() => {\n      this.categoryLoaded = true;\n    });\n  },\n\n  mounted() {\n\t\t//? opens the AcceptDenyUpdate Modal if a preselected profil_update_id was passed to the component (used for email links)\n    if (sessionStorage.getItem(\"filter\")) {\n      this.filter = sessionStorage.getItem(\"filter\");\n    }\n  },\n  template: /*html*/ `\n    <div>\n\t\t<accept-deny-update :title=\"$p.t('profilUpdate','profilUpdateRequest')\" v-if=\"showModal\" ref=\"AcceptDenyModal\" @hideBsModal=\"hideAcceptDenyModal\" :value=\"JSON.parse(JSON.stringify(modalData))\" :setLoading=\"setLoading\" ></accept-deny-update>\n\t\t<h3>{{$p.t('profilUpdate', 'profilUpdateRequests')}}</h3>\n\t\t<loading ref=\"loadingModalRef\" :timeout=\"0\"></loading>\n\n\t\t<core-filter-cmpt\n\t\t\tv-if=\"profilUpdateStates && categoryLoaded\"\n\t\t\tref=\"UpdatesTable\"\n\t\t\t:tabulatorEvents=\"profilUpdateEvents\"\n\t\t\t:tabulator-options=\"profilUpdateOptions\"\n\t\t\ttable-only\n\t\t\t:sideMenu=\"false\">\n\t\t\t\t  <template #actions>\n\t\t\t\t\t<div style=\"width: 94vw;\" class=\"d-flex justify-content-end\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t  <select class=\"mb-4 form-select\" v-model=\"filter\" @change=\"updateData\" aria-label=\"Profil updates display selection\">\n\t\t\t\t\t\t\t<option :selected=\"true\" :value=\"profilUpdateStates['Pending']\" >{{$p.t('profilUpdate','pendingRequests')}}</option>\n\t\t\t\t\t\t\t<option :value=\"profilUpdateStates['Accepted']\">{{$p.t('profilUpdate','acceptedRequests')}}</option>\n\t\t\t\t\t\t\t<option :value=\"profilUpdateStates['Rejected']\">{{$p.t('profilUpdate','rejectedRequests')}}</option>\n\t\t\t\t\t\t\t<option :value=\"'Alle'\">{{$p.t('profilUpdate','allRequests')}}</option>\n\t\t\t\t\t\t  </select>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t</core-filter-cmpt>\n\n\t</div>`,\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/search';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchAdvanced(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/searchAdvanced';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchdummy(searchsettings) {\n\t\tconst url = 'public/js/apps/api/dummyapi.php/Search';\n\t\treturn this.$fhcApi.post(url, searchsettings);\n\t}\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/loadModule/' + category);\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst payload = {categories, language}\n\t\treturn this.$fhcApi.post('/api/frontend/v1/phrasen/setLanguage', payload);\n\t},\n\tgetLanguage() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getLanguage', {});\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getAllLanguages', {});\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/header',\n\t\t\t{ navigation_page }\n\t\t);\n\t},\n\tgetMenu: function(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/menu',\n\t\t\t{ navigation_page }\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/saveCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t);\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/applyFilterFields',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t);\n\t},\n\taddFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/addFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tgetFilter(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tabmeldung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/abmeldung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(stdsem, prestudent_id, grund) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/abmeldung/createAntrag', {\n\t\t\t\tstudiensemester: stdsem,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\tif (!Array.isArray(antrag_id))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t\t{ antrag_id }\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag_id.map(antrag => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t{ antrag_id: antrag.studierendenantrag_id },\n\t\t\t\t{ errorHeader: '#' + antrag.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t},\n\tunterbrechung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/unterbrechung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(studiensemester, prestudent_id, grund, datum_wiedereinstieg, attachment) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/createAntrag', {\n\t\t\t\tstudiensemester,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund,\n\t\t\t\tdatum_wiedereinstieg,\n\t\t\t\tattachment\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/cancelAntrag', {\n\t\t\t\tantrag_id\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t}\n\t},\n\twiederholung: {\n\t\tgetDetails(prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/' + prestudent_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tgetLvs(antrag_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getLvs/' + antrag_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tcreate(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/createAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/cancelAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tsaveLvs(forbiddenLvs, mandatoryLvs) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/saveLvs', {\n\t\t\t\tforbiddenLvs,\n\t\t\t\tmandatoryLvs\n\t\t\t});\n\t\t}\n\t},\n\tleitung: {\n\t\tgetStgs() {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getActiveStgs');\n\t\t},\n\t\tgetAntraege(url, config, params) {\n\t\t\treturn this.$fhcApi\n\t\t\t\t.get('/api/frontend/v1/studstatus/leitung/getAntraege/' + url)\n\t\t\t\t.then(res => res.data); // Return data for tabulator\n\t\t},\n\t\tgetHistory(antrag_id) {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getHistory/' + antrag_id)\n\t\t},\n\t\tgetPrestudents(query, signal) {\n\t\t\treturn this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/getPrestudents',\n\t\t\t\t{ query },\n\t\t\t\t{\n                                    signal: signal,\n                                    timeout: 30000\n                                }\n\t\t\t);\n\t\t},\n\t\tapprove(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treopen(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tunpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tobject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tapproveObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tdenyObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t}\n};","export default {\n\n  getView: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getView/${uid}`,{}\n    );\n  },\n\n  fotoSperre: function (value) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/fotoSperre/${value}`,\n      {}\n    );\n    \n  },\n\n  isStudent: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isStudent`,\n      {\n        uid:uid,\n      }\n    );\n  },\n\n  isMitarbeiter: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isMitarbeiter/${uid}`,\n      {}\n    );\n  },\n\n  getZustellAdresse: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellAdresse`,{}\n    );\n  },\n\n  getZustellKontakt: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellKontakt`,{}\n    );\n  },\n\n  getGemeinden: function(nation,zip){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getGemeinden/${nation}/${zip}`,\n      {}\n    );\n    \n  },\n  getAllNationen:function(){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      \"/api/frontend/v1/Profil/getAllNationen\",{}\n    );\n  },\n}","export default {\n    //! API calls for profil update requests\n  \n    getStatus: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getStatus`,{});\n    },\n  \n    getTopic: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getTopic`,{});\n    },\n  \n    acceptProfilRequest: function ({profil_update_id, uid, status_message, topic, requested_change}) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/acceptProfilRequest\",{profil_update_id, uid, status_message, topic, requested_change});\n    },\n  \n    denyProfilRequest: function ({profil_update_id, uid, topic, status_message}) {\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/denyProfilRequest\",{profil_update_id,uid,topic,status_message});\n    },\n  \n    insertFile: function (dms, replace = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n        dms);\n\n    },\n    \n    getProfilRequestFiles: function (requestID) {\n      return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`,{});\n    },\n  \n    selectProfilRequest: function (uid = null, id = null) {\n\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/selectProfilRequest`,\n        {...(uid?{uid}:{}),\n          ...(id?{id}:{})\n        });\n    },\n  \n    insertProfilRequest: function (topic, payload, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/insertProfilRequest\",\n        {\n          topic,\n          payload,\n          ...(fileID ? { fileID } : {}),\n        });\n    },\n  \n    updateProfilRequest: function (topic, payload, ID, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/updateProfilRequest`,\n        {\n          topic,\n          payload,\n          ID,\n          ...(fileID ? { fileID: fileID } : {}),\n        });\n    },\n  \n    deleteProfilRequest: function (requestID) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/deleteProfilRequest`,\n        {\n          requestID,\n        });\n    },\n  };\n  ","\nexport default {\n\tgetRoomInfo(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getRoomplan',\n\t\t\t{  ort_kurzbz, start_date, end_date}\n\t\t);\n\t},\n\tgetStunden() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/Stunden',\n\t\t\t{}\n\t\t);\n\t},\n\tgetOrtReservierungen(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/LvPlan/getReservierungen/${ort_kurzbz}`,\n\t\t\t{ start_date, end_date}\n\t\t);\n\t},\n\tgetLvPlanReservierungen(start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getReservierungen',\n\t\t\t{ start_date, end_date }\n\t\t);\n\t},\n\tgetLehreinheitStudiensemester(lehreinheit_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${lehreinheit_id}`,\n\t\t\t{}\n\t\t);\n\t},\n\tstudiensemesterDateInterval(date) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${date}`,\n\t\t\t{}\n\t\t);\n\t},\n\tLvPlanEvents(start_date, end_date, lv_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/LvPlanEvents',\n\t\t\t{ start_date, end_date, lv_id }\n\t\t);\n\t},\n\t\n\t\n};","import verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport group from './stv/group.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport archiv from './stv/archiv.js';\nimport documents from './stv/documents.js';\nimport exemptions from './stv/exemptions.js';\nimport jointstudies from \"./stv/jointstudies.js\";\nimport courselist from './stv/courselist.js';\n\nexport default {\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tgroup,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tarchiv,\n\tdocuments,\n\texemptions,\n\tjointstudies,\n\tcourselist,\n\tconfigStudent() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/student');\n\t},\n\tconfigStudents() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/students');\n\t}\n};\n","export default {\n\tget() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/verband');\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/stv/favorites');\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/stv/favorites/set', {\n\t\t\t\tfavorites\n\t\t\t});\n\t\t}\n\t}\n}","export default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tverband(relative_path) {\n\t\treturn this.$fhcApi.getUri('api/frontend/v1/stv/students/' + relative_path);\n\t}\n}","export default {\n\tgetStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/filter/getStg');\n\t},\n\tsetStg(studiengang_kz) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/filter/setStg', {\n\t\t\tstudiengang_kz\n\t\t});\n\t}\n};","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/konto/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id),\n\t\t\t\tonly_open: self.filter,\n\t\t\t\tstudiengang_kz: self.studiengang_kz_intern ? self.stg_kz : ''\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tcheckDoubles(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/checkDoubles', data, {\n\t\t\tconfirmErrorHandler: error => true\n\t\t});\n\t},\n\tinsert(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/insert', data);\n\t},\n\tcounter(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/counter', data);\n\t},\n\tedit(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/update', data);\n\t},\n\tdelete(buchungsnr) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/delete', {buchungsnr});\n\t},\n\tgetBuchungstypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/konto/getBuchungstypen');\n\t}\n};","export default {\n\tgetGruppen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/Gruppen/getGruppen/' + params.id);\n\t},\n\tdeleteGroup(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/Gruppen/deleteGruppe/', params);\n\t}\n}","export default {\n\t//------------- address.js-----------\n\tgetAdressen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressen/' + params.id);\n\t},\n\taddNewAddress(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewAddress/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadAddress(address_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadAddress/', {address_id});\n\t},\n\tupdateAddress(form, address_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteAddress(address_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteAddress/', {address_id});\n\t},\n\tgetPlaces(plz) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getPlaces/' + plz);\n\t},\n\tgetFirmen(searchString) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getFirmen/' + searchString);\n\t},\n\tgetNations() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getNations/');\n\t},\n\tgetAdressentypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressentypen/');\n\t},\n\n\t//------------- bankverbindung.js-----------\n\tgetBankverbindung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getBankverbindung/' + params.id);\n\t},\n\taddNewBankverbindung(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewBankverbindung/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadBankverbindung(bankverbindung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadBankverbindung/', {bankverbindung_id});\n\t},\n\tupdateBankverbindung(form, bankverbindung_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateBankverbindung/' + bankverbindung_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteBankverbindung(bankverbindung_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteBankverbindung/', {bankverbindung_id});\n\t},\n\n\t//------------- contact.js-----------\n\tgetKontakte (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakte/' + params.id);\n\t},\n\taddNewContact(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewContact/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadContact(kontakt_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadContact/', {kontakt_id});\n\t},\n\tupdateContact(form, kontakt_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateContact/' + kontakt_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteContact(kontakt_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteContact/', {kontakt_id});\n\t},\n\tgetStandorteByFirma(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getStandorteByFirma/' + searchString);\n\t},\n\tgetKontakttypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakttypen/');\n\t}\n};","export default {\n\n//------------- Prestudent.js------------------------------------------------------\n\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn \tthis.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/prestudent/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t);\n\t},\n\tupdatePrestudent(form, prestudent_id, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/prestudent/updatePrestudent/' + prestudent_id,\n\t\t\tdata\n\t\t);\n\t},\n\tgetBezeichnungZGV() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungZGV/');\n\t},\n\tgetBezeichnungMZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungMZgv/');\n\t},\n\tgetBezeichnungDZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungDZgv/');\n\t},\n\tgetStgs() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStgs/');\n\t},\n\tgetAusbildung() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAusbildung/');\n\t},\n\tgetAufmerksamdurch() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAufmerksamdurch/');\n\t},\n\tgetBerufstaetigkeit() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBerufstaetigkeit/');\n\t},\n\tgetTypenStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getTypenStg/');\n\t},\n\tgetBisstandort() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBisstandort/');\n\t},\n\n//------------- MultiStatus.js------------------------------------------------------\n\tgetHistoryPrestudent (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getHistoryPrestudent/' + params.id);\n\t},\n\tgetMaxSem(studiengang_kzs) {\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/status/getMaxSemester/', {studiengang_kzs});\n\t},\n\tadvanceStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/advanceStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tconfirmStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/confirmStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tisLastStatus(id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/isLastStatus/' + id);\n\t},\n\tdeleteStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/deleteStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tgetLastBismeldestichtag() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getLastBismeldestichtag/');\n\t},\n\n//------------- History.js------------------------------------------------------\n\tgetHistoryPrestudents (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getHistoryPrestudents/' + params.id);\n\t},\n\n}","export default {\n\n//------------- Modal.js------------------------------------------------------\n\n\tinsertStatus(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/status/insertStatus/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/status/loadStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tupdateStatus(form, {prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}, data) {\n\t\treturn this.$fhcApi.post(\n\t\t\tform,\n\t\t\t'api/frontend/v1/stv/status/updateStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester,\n\t\t\tdata\n\t\t);\n\t},\n\tgetStudienplaene(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudienplaene/' + prestudent_id);\n\t},\n\tgetStudiengang(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudiengang/' + prestudent_id);\n\t},\n\tgetStatusgruende() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusgruende/');\n\t},\n\tgetStati() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStati/');\n\t},\n\n//------------- Dropdown.js------------------------------------------------------\n\n\taddStudent(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/addStudent/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tchangeStatus(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/changeStatus/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tgetStatusarray() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusarray/');\n\t}\n}","export default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/student/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(url);\n\t},\n\tsave(form, prestudent_id, studiensemester_kurzbz, data) {\n\t\tlet url = 'api/frontend/v1/stv/student/save/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(form, url, data);\n\t},\n}\n","export default {\n\tgetPruefungen(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getPruefungen/' + params.id);\n\t},\n\tloadPruefung(pruefung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/loadPruefung/' + pruefung_id);\n\t},\n\tgetTypenPruefungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getTypenPruefungen');\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/getAllLehreinheiten/', data)\n\t},\n\tgetLvsByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsByStudent/' + uid)\n\t},\n\tgetLvsandLesByStudent(uid, semester){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsandLesByStudent/' + uid + '/' + semester);\n\t},\n\tgetLvsAndMas(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsAndMas/' + uid)\n\t},\n\tgetMitarbeiterLv(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getMitarbeiterLv/' + id)\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getNoten');\n\t},\n\tcheckZeugnisnoteLv(data){\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/', data)\n\t},\n\taddPruefung(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/insertPruefung/',  data);\n\t},\n\tupdatePruefung(form, id, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/updatePruefung/' + id,  data);\n\t},\n\tdeletePruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/deletePruefung/' + id)\n\t}\n}","export default {\n\n\tgetAbschlusspruefung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/' + params.id);\n\t},\n\taddNewAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/', data\n\t\t);\n\t},\n\tloadAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/', {id});\n\t},\n\tupdateAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/', data\n\t\t);\n\t},\n\tdeleteAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/', {id});\n\t},\n\tgetTypenAbschlusspruefung(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/');\n\t},\n\tgetTypenAntritte(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/');\n\t},\n\tgetBeurteilungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/');\n\t},\n\tgetAkadGrade(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getAkadGrade/', {studiengang_kz});\n\t},\n\tgetTypStudiengang(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/', {studiengang_kz});\n\t},\n\tgetMitarbeiter(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/' + searchString);\n\t},\n\tgetPruefer(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getPruefer/' + searchString);\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getNoten/');\n\t},\n\tcheckForExistingExams(uids) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/', {uids}\n\t\t);\n\t}\n}","export default {\n\tlist() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/grades/list');\n\t},\n\tgetCertificate(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getCertificate/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetTeacherProposal(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getTeacherProposal/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetRepeaterGrades(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getRepeaterGrades/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tupdateCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, note, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/updateCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz,\n\t\t\t\tnote\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tdeleteCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/deleteCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyTeacherProposalToCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyTeacherProposalToCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id, lv_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate',\n\t\t\t{\n\t\t\t\tstudierendenantrag_lehrveranstaltung_id\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lv_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tgetGradeFromPoints(points, lehrveranstaltung_id, studiensemester_kurzbz, manualErrorHandling) {\n\t\tconst config = manualErrorHandling ? {errorHandling: false} : {};\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/grades/getGradeFromPoints',\n\t\t\t{\n\t\t\t\t\"points\": points,\n\t\t\t\t\"lehrveranstaltung_id\": lehrveranstaltung_id,\n\t\t\t\t\"studiensemester_kurzbz\": studiensemester_kurzbz\n\t\t\t},\n\t\t\tconfig\n\t\t\t);\n\t}\n}","export default {\n\tgetMobilitaeten (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getMobilitaeten/' + params.id);\n\t},\n\tgetProgramsMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getProgramsMobility/');\n\t},\n\taddNewMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/insertMobility/', data);\n\t},\n\tloadMobility(bisio_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/loadMobility/' + bisio_id);\n\t},\n\tupdateMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/updateMobility/', data);\n\t},\n\tdeleteMobility(bisio_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobility/' + bisio_id);\n\t},\n\tgetLVList(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLVList/' + studiengang_kz);\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/getAllLehreinheiten/', data)\n\t},\n\tgetLvsandLesByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLvsandLesByStudent/' + uid);\n\t},\n\tgetPurposes(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getPurposes/' + params.id);\n\t},\n\tgetSupports(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getSupports/' + params.id);\n\t},\n\tgetListPurposes() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListPurposes/');\n\t},\n\tgetListSupports() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListSupports/');\n\t},\n\tdeleteMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilityPurpose/' + params.bisio_id, params);\n\t},\n\taddMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilityPurpose/' + params.bisio_id, params);\n\t},\n\tdeleteMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilitySupport/' + params.bisio_id, params);\n\t},\n\taddMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilitySupport/' + params.bisio_id, params);\n\t},\n\n}","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/archiv/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id)\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tgetArchivVorlagen() {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/getArchivVorlagen');\n\t},\n\tarchive(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archive',\n\t\t\tdata\n\t\t);\n\t},\n\tarchiveSigned(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archiveSigned',\n\t\t\tdata\n\t\t);\n\t},\n\tupdate(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/update', data);\n\t},\n\tdelete({akte_id, studiengang_kz}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/delete', {akte_id, studiengang_kz});\n\t}\n};\n","export default {\n\tgetDocumentsUnaccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tgetDocumentsAccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsAccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tdeleteZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteZuordnung/' + params.prestudent_id + '/' + params.dokument_kurzbz);\n\t},\n\tcreateZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/createZuordnung/'\n\t\t\t+ params.prestudent_id + '/'\n\t\t\t+ params.dokument_kurzbz);\n\t},\n\tloadAkte(akte_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/loadAkte/' + akte_id);\n\t},\n\tgetDoktypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDoktypen/');\n\t},\n\tupdateFile(akte_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/updateAkte/' + akte_id,\n\t\t\tdata);\n\t},\n\tdeleteFile(akte_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteAkte/' + akte_id);\n\t},\n\tuploadFile(prestudent_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/uploadDokument/' + prestudent_id,\n\t\t\tdata);\n\t},\n}","export default {\n\tgetAnrechnungen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getAnrechnungen/' + params.id);\n\t},\n\tgetLehrveranstaltungen(prestudent_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/' + prestudent_id);\n\t},\n\tgetBegruendungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getBegruendungen/');\n\t},\n\tgetLvsKompatibel(lv_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLvsKompatibel/' + lv_id);\n\t},\n\tgetLektoren(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLektoren/' + studiengang_kz);\n\t},\n\taddNewAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/insertAnrechnung/', data);\n\t},\n\tloadAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/loadAnrechnung/' + anrechnung_id);\n\t},\n\teditAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/updateAnrechnung/', data);\n\t},\n\tdeleteAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/anrechnungen/deleteAnrechnung/' + anrechnung_id);\n\t},\n}","export default {\n\tgetStudies(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudien/' + params.id);\n\t},\n\tgetTypenMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/');\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/');\n\t},\n\tgetStudyprograms(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/');\n\t},\n\tgetListPartner(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/');\n\t},\n\tgetStatiPrestudent(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/');\n\t},\n\tloadStudy(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/loadStudie/' + id);\n\t},\n\tinsertStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/insertStudie/', data);\n\t},\n\tupdateStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/updateStudie/', data);\n\t},\n\tdeleteStudy(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/GemeinsameStudien/deleteStudie/' + id);\n\t},\n\n}","export default {\n\tgetCourselist(url, config, params) {\n\t\t//corresponding logic controller Stundenplan.php\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStundenplan/'\n\t\t\t+ params.student_uid + '/'\n\t\t\t+ params.start_date + '/'\n\t\t\t+ params.end_date + '/'\n\t\t\t+ params.group_consecutiveHours + '/'\n\t\t\t+ params.dbStundenplanTable\n\t\t);\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStudiensemester/');\n\t},\n}","import person from \"./notiz/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetNotizen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getNotizen/' + params.id + '/' + params.type);\n\t},\n\tgetUid(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getUid/');\n\t},\n\taddNewNotiz(form, id, formData) {\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/addNewNotiz/' + id,\n\t\t\tformData\n\t\t);\n\t},\n\tloadNotiz(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadNotiz/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tloadDokumente(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadDokumente/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tdeleteNotiz(notiz_id, type_id, id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/deleteNotiz/', {\n\t\t\tnotiz_id,\n\t\t\ttype_id,\n\t\t\tid\n\t\t});\n\t},\n\tupdateNotiz(form, notiz_id, formData){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/updateNotiz/' + notiz_id,\n\t\t\tformData\n\t\t);\n\t},\n\tgetMitarbeiter(event){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getMitarbeiter/' + event);\n\t},\n\tisBerechtigt(id, type_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/isBerechtigt/');\n\t}\n}","import person from \"./betriebsmittel/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetAllBetriebsmittel(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + params.type + '/' + params.id);\n\t},\n\taddNewBetriebsmittel(form, person_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' +\n\t\t\tperson_id, formData\n\t\t);\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id);\n\t},\n\tupdateBetriebsmittel(form, betriebsmittelperson_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tformData);\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id);\n\t},\n\tgetTypenBetriebsmittel(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/');\n\t},\n\tloadInventarliste(query){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery);\n\t}\n}","export default {\n\tupdatePersonUnrulyStatus(person_id, unrulyParam) {\n\n\t\ttry {\n\t\t\tconst payload = {person_id, unruly: unrulyParam}\n\t\t\tconst url = '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus';\n\t\t\treturn this.$fhcApi.post(url, payload, null);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t},\n\tfilterPerson(payload, base = ''){\n\n\t\ttry {\n\t\t\tconst url = base + '/api/frontend/v1/checkperson/CheckPerson/filterPerson';\n\t\t\treturn axios.post(url, payload)\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t}\n}","export default {\n  getContentID(ort_kurbz) {\n\t\treturn this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            \"/api/frontend/v1/Ort/ContentID\",\n\t\t\t{ ort_kurzbz: ort_kurbz }\n\t\t);\n\t},\n\tgetRooms(datum, von, bis, typ, personenanzahl = 0) {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getRooms\",\n\t\t\t{ datum, von, bis, typ, personenanzahl }\n\t\t);\n\t},\n\tgetRoomTypes() {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getTypes\"\n\t\t);\n\t}\n}","export default {\n    content(content_id, version=null, sprache=null, sichtbar=null) {\n        return this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/content\",\n\t\t\t{ \n\t\t\t\tcontent_id: content_id,\n\t\t\t\t...(version?{version}:{}),\n\t\t\t\t...(sprache?{sprache}:{}),\n\t\t\t\t...(sichtbar?{sichtbar}:{}),\n            }\n        );\n    },\n\t//api function used for the news View that renders the html\n\tgetNews(page = 1, page_size = 10, sprache) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNews\",\n\t\t\t{\n\t\t\t\tpage,\n\t\t\t\tpage_size,\n\t\t\t\tsprache,\n\t\t\t},\n\t\t);\n\t},\n\t//api function used for the widget component\n\tnews(limit) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/news\",\n\t\t\t{\n\t\t\t\tlimit: limit\n\t\t\t}\n\t\t);\n\t},\n\tgetNewsRowCount: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNewsRowCount\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetNewsExtra: function(){\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getStudiengangInfoForNews\",\n\t\t\t{}\n\t\t);\n\t}\n  }","export default {\n    getStudentenMail(lehreinheit_id) {\n          return this.$fhcApi.get(\n              FHC_JS_DATA_STORAGE_OBJECT.app_root +\n              FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n              \"/api/frontend/v1/Lehre/lvStudentenMail\",\n              { lehreinheit_id: lehreinheit_id }\n          );\n      },\n\tgetLvInfo(studiensemester_kurzbz, lehrveranstaltung_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/LV/${studiensemester_kurzbz}/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentPruefungen(lehrveranstaltung_id){\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/Pruefungen/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektarbeiten(uid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${uid}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektabgaben(detail) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektabgaben`\n\t\t\t, {\n\t\t\t\tprojektarbeit_id: detail.projektarbeit_id,\n\t\t\t\tstudent_uid: detail.student_uid\n\t\t\t}\n\t\t);\n\t},\n\tpostStudentProjektarbeitEndupload(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tpostStudentProjektarbeitZwischenabgabe(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tgetStudentProjektarbeitAbgabeFile(paabgabe_id, student_uid) {\n\t\tconst url = `/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${paabgabe_id}&student_uid=${student_uid}`;\n\n\t\twindow.location = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + url\n\t},\n\tgetMitarbeiterProjektarbeiten(uid, all) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${all}`\n\t\t\t, {}\n\t\t);\n\t},\n\tpostProjektarbeitAbgabe(termin) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id: termin.paabgabe_id,\n\t\t\tpaabgabetyp_kurzbz: termin.bezeichnung.paabgabetyp_kurzbz,\n\t\t\tdatum: termin.datum,\n\t\t\tfixtermin: termin.fixtermin,\n\t\t\tinsertvon: termin.insertvon,\n\t\t\tkurzbz: termin.kurzbz,\n\t\t\tprojektarbeit_id: termin.projektarbeit_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t\t\n\t},\n\tdeleteProjektarbeitAbgabe(paabgabe_id) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tpostSerientermin(datum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids) {\n\t\tconst payload = {\n\t\t\tdatum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postSerientermin';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tfetchDeadlines(person_id) {\n\t\tconst payload = {\n\t\t\tperson_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/fetchDeadlines';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t}\n  }","export default {\n    getLvMenu(lvid, studiensemester_kurzbz) {\n        return this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            `/api/frontend/v1/LvMenu/getLvMenu/${lvid}/${studiensemester_kurzbz}`,\n            {}\n        );\n    },\n\n      \n  }","import person from \"./messages/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\t\tgetMessages(url, config, params) {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessages/' + params.id + '/' + params.type + '/' + params.size + '/' + params.page);\n\t\t},\n\t\tgetVorlagen(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getVorlagen/');\n\t\t},\n\t\tgetMsgVarsLoggedInUser(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/');\n\t\t},\n\t\tgetMessageVarsPerson(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessageVarsPerson/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetMsgVarsPrestudent(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsPrestudent/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPersonId(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getPersonId/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetUid(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getUid/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getDataVorlage/' + vorlage_kurzbz);\n\t\t},\n\t\tgetNameOfDefaultRecipient(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getNameOfDefaultRecipient/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPreviewText(params, data){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/getPreviewText/' + params.id + '/' + params.type_id,\n\t\t\t\tdata);\n\t\t},\n\t\tgetReplyData(messageId){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getReplyData/' + messageId);\n\t\t},\n\t\tsendMessageFromModalContext(form, id, data) {\n\t\t\treturn this.$fhcApi.post(form,'api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tsendMessage(id, data) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tdeleteMessage(messageId){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/deleteMessage/' + messageId);\n\t\t}\n}","export default {\n\tgetVorlagen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagen/');\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/');\n\t}\n}","export default {\n\n\tgetStudiensemester: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/components/Cis/Mylv/Studiensemester',\n\t\t\t{}\n\t\t);\n\t},\n\n\tgetAllStudienSemester: function (studiensemester=undefined, studiengang=undefined, semester=undefined, studienplan=undefined) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/Studium/getStudienAllSemester',\n\t\t\t{studiensemester, studiengang, semester, studienplan}\n\t\t);\n\t},\n\n\tgetStudiengaengeForStudienSemester: function (studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${studiensemester}`,\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudienplaeneBySemester: function (studiengang, studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudienplaeneBySemester`,\n\t\t\t{\n\t\t\t\tstudiengang,\n\t\t\t\tstudiensemester,\n\t\t\t}\n\t\t);\n\t},\n\tgetLvPlanForStudiensemester: function (studiensemester, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${studiensemester}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\tgetLvEvaluierungInfo: function (studiensemester_kurzbz, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getLvEvaluierungInfo/${studiensemester_kurzbz}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\t\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport search from \"./search.js\";\nimport phrasen from \"./phrasen.js\";\nimport navigation from \"./navigation.js\";\nimport filter from \"./filter.js\";\nimport studstatus from \"./studstatus.js\";\nimport profil from \"./profil.js\";\nimport profilUpdate from \"./profilUpdate.js\";\nimport lvPlan from \"./lvPlan.js\";\nimport bookmark from \"./bookmark.js\";\nimport stv from \"./stv.js\";\nimport notiz from \"./notiz.js\";\nimport betriebsmittel from \"./betriebsmittel.js\";\nimport checkperson from \"./checkperson.js\";\nimport ampeln from \"./ampeln.js\";\nimport ort from \"./ort.js\";\nimport cms from \"./cms.js\";\nimport lehre from \"./lehre.js\";\nimport addons from \"./addons.js\";\nimport messages from \"./messages.js\";\nimport vorlagen from \"./vorlagen.js\";\nimport studiengang from \"./studiengang.js\";\nimport menu from \"./menu.js\";\nimport dashboard from \"./dashboard.js\";\nimport authinfo from \"./authinfo.js\";\nimport studium from \"./studium.js\";\nimport language from \"./language.js\";\n\nexport default {\n    search,\n    phrasen,\n    navigation,\n    dashboard,\n    filter,\n    studstatus,\n    profil,\n    profilUpdate,\n    lvPlan,\n    bookmark,\n    stv,\n    notiz,\n    betriebsmittel,\n    checkperson,\n    ampeln,\n    ort,\n    cms,\n    lehre,\n    addons,\n    messages,\n    vorlagen,\n    addons,\n\tstudiengang,\n\tmenu,\n\tauthinfo,\n\tstudium,\n    language\n};\n","export default {\n\tasync getViewData() {\n\t\tconst url = `/api/frontend/v1/Cis4FhcApi/getViewData`;\n\t\treturn this.$fhcApi.get(url, null, null)\n\t},\n}","export default {\n\n    getBookmarks: function () {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/getBookmarks`\n        ,{}\n      );\n    },\n  \n    delete: function (bookmark_id) {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/delete/${bookmark_id}`\n        ,{}\n      ); \n    },\n\n\tupdate: function ({ bookmark_id, url, title, tag=null}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/Bookmark/update/${bookmark_id}`\n\t\t\t, {\n\t\t\t\turl: url,\n\t\t\t\ttitle: title\n\t\t\t}\n\t\t);\n\t},\n\n    insert: function ({url, title, tag}) {\n      return this.$fhcApi.post(\n        `/api/frontend/v1/Bookmark/insert`\n        ,{\n          url: url,\n          title: title,\n          tag: tag\n        }\n      ); \n    },\n}","export default {\n    \n    open: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/open`,{});\n    },\n\n    all: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/all`,{});\n    },\n\n    confirm: function (ampel_id) {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/confirm/${ampel_id}`,{});\n    },\n\n}","export default {\n\tstudiengangInformation: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Studgang/getStudiengangInfo\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudiengangByKz: function (studiengang_kz) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz\",\n\t\t\t{\n\t\t\t\t\"studiengang_kz\": studiengang_kz\n\t\t\t}\n\t\t);\n\t}\n}","export default {\n\tgetMenu: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/CisMenu/getMenu\",\n\t\t\t{}\n\t\t);\n\t}\n\n}","\nexport default {\n\tgetAuthUID() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthUID',\n\t\t\t{ }\n\t\t);\n\t},\n\tgetAuthInfo() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthInfo',\n\t\t\t{}\n\t\t);\n\t},\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAll() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/language/get');\n\t}\n};","/** TODO(chris):\n * when deleting this file be sure to\n * remove line 1 & 90 from ../plugins/Phrasen.js\n */\nimport FhcApiFactory from '../api/fhcapifactory.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\tconsole.warn('$fhcApi.getUri is DEPRECATED! Use $api.getUri instead.');\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\tconsole.warn('$fhcApi.get is DEPRECATED! Use $api.get instead.');\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\tconsole.warn('$fhcApi.post is DEPRECATED! Use $api.post instead.');\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart, true)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart, noWarn) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif (!noWarn) console.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n//--------------------------------------------------------------------------------------------------------------------\n// Configs\n\n// To see debug messages into the browser console set this parameter as true\nconst CORE_REST_CLIENT_DEBUG = false;\n\n// Default timeout (milliseconds)\nconst CORE_REST_CLIENT_TIMEOUT = 5000;\n\n//--------------------------------------------------------------------------------------------------------------------\n// Constants\n\n// Success\nconst CORE_REST_CLIENT_SUCCESS = 0;\n\n// Properties present in a response\nconst CORE_REST_CLIENT_ERROR = \"error\";\nconst CORE_REST_CLIENT_RETVAL = \"retval\";\n\n// HTTP method parameters\nconst CRC_HTTP_GET_METHOD = \"get\";\nconst CRC_HTTP_POST_METHOD = \"post\";\n\n/**\n * Definition and initialization of the object CoreRESTClient\n */\nexport const CoreRESTClient = {\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Public methods\n\n\t/**\n\t * Performs a call using the HTTP GET method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tget: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_GET_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Performs a call using the HTTP POST method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tpost: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_POST_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Checks if the response is a success\n\t */\n\tisSuccess: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR)\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL) && response.error == CORE_REST_CLIENT_SUCCESS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Checks if the response is an error\n\t */\n\tisError: function(response) {\n\t\treturn !CoreRESTClient.isSuccess(response);\n\t},\n\n\t/**\n\t * Checks if the response has data\n\t */\n\thasData: function(response) {\n\n\t\tif (CoreRESTClient.isSuccess(response))\n\t\t{\n\t\t\tif ((typeof response[CORE_REST_CLIENT_RETVAL] === \"object\" && Object.keys(response[CORE_REST_CLIENT_RETVAL]).length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"array\" && response[CORE_REST_CLIENT_RETVAL].length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"string\" && response[CORE_REST_CLIENT_RETVAL].trim() != \"\")\n\t\t\t\t|| typeof response[CORE_REST_CLIENT_RETVAL] === \"number\")\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Retrives data from response object\n\t */\n\tgetData: function(response) {\n\n\t\tif (CoreRESTClient.hasData(response))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Retrives error message from response object\n\t */\n\tgetError: function(response) {\n\n\t\tif (typeof response === \"object\"\n\t\t\t&& Object.keys(response).length > 0\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn \"Generic error\";\n\t},\n\n\t/**\n\t * Retrives code from response object\n\t */\n\tgetErrorCode: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_ERROR];\n\t\t}\n\n\t\treturn 1; // Generic error\n\t},\n\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Private methods\n\n\t/**\n\t * Generate the router URI using the connection parameters\n\t */\n\t_generateRouterURI: function(wsURL) {\n\t\tvar uri = null;\n\n\t\t// Checks if global JS object FHC_JS_DATA_STORAGE_OBJECT exists\n\t\tif (typeof FHC_JS_DATA_STORAGE_OBJECT !== \"undefined\")\n\t\t{\n\t\t\turi = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\" + wsURL;\n\t\t}\n\n\t\treturn uri;\n\t},\n\n\t/**\n\t * Method to print debug info after a controller has been called\n\t */\n\t_printDebug: function(parameters, response, errorThrown) {\n\n\t\tif (CORE_REST_CLIENT_DEBUG === true) // If global const CORE_REST_CLIENT_DEBUG is true, but really true!\n\t\t{\n\t\t\t// Print info about called controller\n\t\t\tconsole.log(\"Called controller: \" + parameters.remoteController);\n\t\t\tconsole.log(\"Call parameters:\"); // parameters given to this call\n\t\t\tconsole.log(parameters);\n\n\t\t\tif (response != null) // if there is a response...\n\t\t\t{\n\t\t\t\tconsole.log(\"Controller Response:\");\n\t\t\t\tconsole.log(response); // ...print it\n\t\t\t}\n\t\t\tif (errorThrown != null) // if there is a jQuery error...\n\t\t\t{\n\t\t\t\tconsole.log(\"jQuery error:\");\n\t\t\t\tconsole.log(errorThrown); // ...print it\n\t\t\t}\n\t\t\tconsole.log(\"--------------------------------------------------------------------------------------------\");\n\t\t}\n\t},\n\n\t/**\n\t * Performs a call to the server were the CI PHP layer is running\n\t * - wsURL: alias of the core controller to call\n\t * - wsParameters: parameters to give to the called controller\n\t * - type: POST or GET HTTP method\n\t * - axiosParameters: an object to configure the axios call\n\t */\n\t_axiosCall: function(wsURL, wsParameters, type, axiosParameters) {\n\n\t\t// Axios config object\n\t\tlet axiosCallObj = {\n\t\t\tmethod: type,\n\t\t\turl: CoreRESTClient._generateRouterURI(wsURL),\n\t\t\ttimeout: CORE_REST_CLIENT_TIMEOUT // default time out\n\t\t};\n\n\t\t// The ajax call is HTTP GET\n\t\tif (type == CRC_HTTP_GET_METHOD)\n\t\t{\n\t\t\taxiosCallObj.params = wsParameters;\n\t\t}\n\t\t// The ajax call is HTTP POST\n\t\telse\n\t\t{\n\t\t\taxiosCallObj.data = wsParameters;\n\t\t}\n\n\t\t// Check if axiosParameters is an object\n\t\tif (typeof axiosParameters === \"object\")\n\t\t{\n\t\t\t// And then copies the its properties into axiosCallObj\n\t\t\tfor (var prop in axiosParameters) axiosCallObj[prop] = axiosParameters[prop];\n\t\t}\n\n\t\t// Perform the ajax call via axios\n\t\treturn axios(axiosCallObj);\n\t}\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n * \n * @usage:\n * Preperations:\n * Be sure to have PrimeVue loaded  with the toast and confirmdialog\n * components as primevue variable\n * Install:\n * Import this Plugin and install it with the app.use() function.\n * Use:\n * In your component you can call now the global property $fhcAlert\n * which has the following functions:\n * \n * alertSuccess\n * ------------\n * Displays a success message\n * @param string\tmessage\n * @return void\n * \n * alertInfo\n * ---------\n * Displays an info message\n * @param string\tmessage\n * @return void\n * \n * alertWarning\n * ------------\n * Displays a warning\n * @param string\tmessage\n * @return void\n * \n * alertError\n * ----------\n * Displays an error\n * @param string\tmessage\n * @return void\n * \n * alertSystemError\n * ----------------\n * Displays an alert with the error details and a button to mail\n * the error to the Support Team\n * @param string\tmessage\n * @return void\n * \n * confirmDelete\n * -------------\n * Displays a confirmation dialog and returns a Promise which resolves\n * with true or false depending und the pressed button.\n * @return Promise\n * \n * alertDefault\n * ------------\n * Displays an alert\n * @param string\tseverity\t\tcan be 'success', 'info', 'warning', 'error'\n * @param string\ttitle\n * @param string\tmessage\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * alertMultiple\n * -------------\n * Displays multiple alerts\n * @param array\t\tmessageArray\n * @param string\tseverity\t\t(optional) defaults to 'info'\n * @param string\ttitle\t\t\t(optional) defaults to 'Info'\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * handleSystemError\n * -----------------\n * Automatiticly determine how to display an system error and display it.\n * This would be used in a catch block of an ajax call.\n * @param mixed\t\terror\n * @return void\n * \n * handleSystemMessage\n * -------------------\n * Automatiticly determine how to display a message and display it.\n * @param mixed\t\tmessage\n * @return void\n */\nimport PvConfig from \"../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js\";\nimport PvToast from \"../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js\";\nimport PvConfirm from \"../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js\";\nimport PvConfirmationService from \"../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js\";\nimport FhcPhrasen from \"./Phrasen.js\";\n\nimport {CoreRESTClient} from '../RESTClient.js';\n\nconst helperAppContainer = document.createElement('div');\n\nconst helperApp = Vue.createApp({\n\tname: \"FhcAlertApp\",\n\tcomponents: {\n\t\tPvToast,\n\t\tPvConfirm\n\t},\n\tmethods: {\n\t\tmailToUrl(slotProps) {\n\t\t\tlet mailTo = FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto;\n\t\t\tlet subject = 'Meldung%20Systemfehler';\n\t\t\tlet body = `\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausführlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewählt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: ` + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method + `%0D%0A\n\t\t\t\tFehler Meldung: ` + slotProps.message.detail + `%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kümmern uns um eine rasche Behebung des Problems!`\n\n\t\t\treturn \"mailto:\" + mailTo + \"?subject=\" + subject + \"&body=\" + body;\n\t\t},\n\t\topenMessagecard(e) {\n\t\t\tbootstrap.Collapse.getOrCreateInstance(e.target.getAttribute('href')).toggle();\n\t\t}\n\t},\n\tunmounted() {\n\t\thelperAppContainer.parentElement.removeChild(helperAppContainer);\n\t},\n\tcomputed: {\n\t\tshowmaillink: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto !== '';\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<pv-toast ref=\"toast\" class=\"fhc-alert\" :base-z-index=\"99999\">\n\t\t<template #message=\"{ message }\">\n\t\t\t<!--span :class=\"slotProps.iconClass\"></span-->\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{ message.summary }}</span>\n\t\t\t\t<div v-if=\"message.detail && message.html\" class=\"p-toast-detail\" v-html=\"message.detail\"></div>\n\t\t\t\t<div v-else-if=\"message.detail\" class=\"p-toast-detail\">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref=\"alert\" class=\"fhc-alert\" :base-z-index=\"99999\" position=\"center\">\n\t\t<template #message=\"slotProps\">\n\t\t\t<i class=\"fa fa-circle-exclamation fa-2xl mt-3\"></i>\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class=\"p-toast-detail my-3\">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"align-bottom flex-fill me-2\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\t:href=\"'#fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t:aria-controls=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\t@click=\"openMessagecard\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"showmaillink\"\n\t\t\t\t\t\tclass=\"btn btn-primary flex-fill\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t:href=\"mailToUrl(slotProps)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"messageCard\" :id=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\" class=\"collapse mt-3\">\n\t\t\t\t\t<div class=\"card card-body text-body small alertCollapseText\">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group=\"fhcAlertConfirm\"></pv-confirm>`\n});\n\nhelperApp.use(PvConfig);\nhelperApp.use(PvConfirmationService);\n//helperApp.use(FhcPhrasen);\n\nconst helperAppInstance = helperApp.mount(helperAppContainer);\n\ndocument.body.appendChild(helperAppContainer);\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (!app.config.globalProperties.$p)\n\t\t\tapp.use(FhcPhrasen);\n\n\t\tconst $fhcAlert = {\n\t\t\talertSuccess(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSuccess);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'success', summary: 'Info', detail: message, life: 1000});\n\t\t\t},\n\t\t\talertInfo(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertInfo);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'info', summary: 'Info', detail: message, life: 3000 });\n\t\t\t},\n\t\t\talertWarning(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertWarning);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'warn', summary: 'Achtung', detail: message});\n\t\t\t},\n\t\t\talertError(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertError);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'error', summary: 'Achtung', detail: message });\n\t\t\t},\n\t\t\talertSystemError(message) {\n\t\t\t\t//TODO(Manu) for translation of content of template: restructure in data\n\t\t\t\t//and update definitions with  translations\n\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSystemError);\n\t\t\t\thelperAppInstance.$refs.alert.add({\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\tsummary: Vue.computed(() => app.config.globalProperties.$p.t('alert/systemerror')),\n\t\t\t\t\tdetail: message});\n\t\t\t},\n\t\t\tconfirmDelete() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: 'fhcAlertConfirm',\n\t\t\t\t\t\theader: Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: Vue.computed(() => app.config.globalProperties.$p.t('alert/confirm_delete')),\n\t\t\t\t\t\tacceptLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/loeschen')),\n\t\t\t\t\t\tacceptClass: 'p-button-danger',\n\t\t\t\t\t\trejectLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: 'p-button-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfirm(options) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: options?.group ?? 'fhcAlertConfirm',\n\t\t\t\t\t\theader: options?.header ?? Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: options?.message ?? '',\n\t\t\t\t\t\tacceptLabel: options?.acceptLabel ?? 'Ok',\n\t\t\t\t\t\tacceptClass: options?.acceptClass ?? 'btn btn-primary',\n\t\t\t\t\t\trejectLabel: options?.rejectLabel ?? Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: options?.rejectClass ?? 'btn btn-outline-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\talertDefault(severity, title, message, sticky = false, html = false) {\n\t\t\t\tlet options = { severity: severity, summary: title, detail: message, html };\n\t\t\t\t\n\t\t\t\tif (!sticky)\n\t\t\t\t\toptions.life = 3000;\n\n\t\t\t\thelperAppInstance.$refs.toast.add(options);\n\t\t\t},\n\t\t\talertMultiple(messageArray, severity = 'info', title = 'Info', sticky = false, html = false){\n\t\t\t\t// Check, if array has only string values\n\t\t\t\tif (messageArray.every(message => typeof message === 'string')) {\n\t\t\t\t\tmessageArray.forEach(message => this.alertDefault(severity, title, message, sticky, html));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thandleSystemError(error) {\n\t\t\t\t// don't show an error message to the user if the error was an aborted request\n\t\t\t\tif(error.hasOwnProperty('name') && error.name.toLowerCase() === \"AbortError\".toLowerCase())\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is string\n\t\t\t\tif (typeof error === 'string')\n\t\t\t\t\treturn $fhcAlert.alertSystemError(error);\n\n\t\t\t\t// Error is array of strings\n\t\t\t\tif (Array.isArray(error) && error.every(err => typeof err === 'string'))\n\t\t\t\t\treturn error.every($fhcAlert.alertSystemError);\n\n\t\t\t\t// Error has been handled already\n\t\t\t\tif (error.hasOwnProperty('handled') && error.handled)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is object\n\t\t\t\tif (typeof error === 'object' && error !== null) {\n\t\t\t\t\tlet errMsg = '';\n\n\n\t\t\t\t\tif (error.hasOwnProperty('response') && error.response?.data?.retval)\n\t\t\t\t\t\terrMsg += 'Error Message: ' + (error.response.data.retval.message || error.response.data.retval) + '\\r\\n';\n\t\t\t\t\telse if (error.hasOwnProperty('message'))\n\t\t\t\t\t\terrMsg += 'Error Message: ' + error.message.toUpperCase() + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('config') && error.config.hasOwnProperty('url'))\n\t\t\t\t\t\terrMsg += 'Error ConfigURL: ' + error.config.url + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('stack'))\n\t\t\t\t\t\terrMsg += 'Error Stack: ' + error.stack + '\\r\\n';\n\t\t\t\t\t\n\t\t\t\t\t// Fallback object error message\n\t\t\t\t\tif (errMsg == '')\n\t\t\t\t\t\terrMsg = 'Error Message: ' + JSON.stringify(error) + '\\r\\n';\n\n\t\t\t\t\terrMsg += 'Error Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\n\t\t\t\t\treturn $fhcAlert.alertSystemError(errMsg);\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\thandleSystemMessage(message) {\n\t\t\t\t// Message is string\n\t\t\t\tif (typeof message === 'string')\n\t\t\t\t\treturn $fhcAlert.alertWarning(message);\n\n\t\t\t\t// Message is array of strings\n\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t// If Array has only Strings\n\t\t\t\t\tif (message.every(msg => typeof msg === 'string'))\n\t\t\t\t\t\treturn message.every($fhcAlert.alertWarning);\n\n\t\t\t\t\t// If Array has only Objects\n\t\t\t\t\tif (message.every(msg => typeof msg === 'object') && msg !== null) {\n\t\t\t\t\t\treturn message.every(msg => {\n\t\t\t\t\t\t\tif (msg.hasOwnProperty('data') && msg.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(msg.data.retval));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(msg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Message is Object with data property\n\t\t\t\tif (typeof message === 'object' && message !== null){\n\t\t\t\t\tif (message.hasOwnProperty('data') && message.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t// NOTE(chris): changed: alertSystemError => alertWarning\n\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(message.data.retval));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(message));\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' +  FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\tresetFormValidation(form) {\n\t\t\t\tconst event = new Event('fhc-form-reset');\n\t\t\t\tform.querySelectorAll(['[data-fhc-form-validate],[data-fhc-form-error]']).forEach(el => el.dispatchEvent(event));\n\t\t\t\t/*const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\tif (alert) {\n\t\t\t\t\talert.innerHTML = '';\n\t\t\t\t\talert.classList.add('d-none');\n\t\t\t\t}\n\t\t\t\tform.querySelectorAll('.invalid-feedback').forEach(n => n.remove());\n\t\t\t\tform.querySelectorAll('.is-invalid').forEach(n => n.classList.remove('is-invalid'));\n\t\t\t\tform.querySelectorAll('.is-valid').forEach(n => n.classList.remove('is-valid'));*/\n\t\t\t},\n\t\t\thandleFormValidation(error, form) {\n\t\t\t\tif (form === undefined) {\n\t\t\t\t\tif (error && error.nodeType === Node.ELEMENT_NODE)\n\t\t\t\t\t\treturn err => $fhcAlert.handleFormValidation(err, error);\n\t\t\t\t} else {\n\t\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t\tif (typeof errors !== \"object\")\n\t\t\t\t\t\t\terrors = error.response.data;\n\n\t\t\t\t\t\t// NOTE(chris): reset form validation\n\t\t\t\t\t\t$fhcAlert.resetFormValidation(form);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// NOTE(chris): set form input validation\n\t\t\t\t\t\tconst notFound = Object.entries(errors).filter(([key, detail]) => {\n\t\t\t\t\t\t\tconst input = form.querySelector('[data-fhc-form-validate=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tinput.dispatchEvent(new CustomEvent('fhc-form-invalidate', {detail}));\n\n\t\t\t\t\t\t\t/*const input = form.querySelector('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\t\t\t\tconst feedback = document.createElement('div');\n\t\t\t\t\t\t\tfeedback.classList.add('invalid-feedback');\n\t\t\t\t\t\t\tfeedback.innerHTML = detail;\n\t\t\t\t\t\t\tinput.after(feedback);*/\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).map(arr => arr[1]);\n\n\n\t\t\t\t\t\t//const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\t\t\tconst alert = form.querySelector('[data-fhc-form-error]');\n\t\t\t\t\t\tif (alert && notFound.length) {\n\t\t\t\t\t\t\talert.dispatchEvent(new CustomEvent('fhc-form-error', {detail: notFound}));\n\t\t\t\t\t\t\t/*notFound.forEach(txt => {\n\t\t\t\t\t\t\t\tconst p = document.createElement('p');\n\t\t\t\t\t\t\t\tp.innerHTML = txt;\n\t\t\t\t\t\t\t\talert.append(p);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (notFound.length) {\n\t\t\t\t\t\t\t\talert.lastChild.classList.add('mb-0');\n\t\t\t\t\t\t\t\talert.classList.remove('d-none');\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotFound.forEach($fhcAlert.alertError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t$fhcAlert.alertError((typeof errors === 'object') ? Object.values(errors) : errors);\n\t\t\t\t} else {\n\t\t\t\t\t$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.config.globalProperties.$fhcAlert = $fhcAlert;\n\t\tapp.provide('$fhcAlert', app.config.globalProperties.$fhcAlert);\n\t}\n}","import FhcAlert from './FhcAlert.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$api) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!app.config.globalProperties.$fhcAlert)\n\t\t\tapp.use(FhcAlert);\n\n\t\tfunction _send_array_or_object(errors, func) {\n\t\t\tif (Array.isArray(errors))\n\t\t\t\terrors.forEach(func);\n\t\t\telse\n\t\t\t\tObject.entries(errors).forEach(\n\t\t\t\t\t([title, errs]) => errs.forEach(\n\t\t\t\t\t\terror => func(error, title)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t\tlet DEFAULT_ERROR_CONFIG = {\n\t\t\tsuccess: true,\n\t\t\tfail: true,\n\t\t\tcombine: {\n\t\t\t\tform: ['validation', 'general'],\n\t\t\t\ttoast: ['validation', 'general', 'not_found', 'site_failed']\n\t\t\t},\n\t\t\thandler: {\n\t\t\t\tform(form, errors) {\n\t\t\t\t\tform.clearValidation();\n\t\t\t\t\terrors.forEach(err => form.setFeedback(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\terr.messages || err.message\n\t\t\t\t\t));\n\t\t\t\t},\n\t\t\t\tasync toast(errors) {\n\t\t\t\t\tconst $p = app.config.globalProperties.$p;\n\t\t\t\t\tif (!$p)\n\t\t\t\t\t\treturn Promise.reject('Phrasen plugin not loaded!');\n\t\t\t\t\n\t\t\t\t\tasync function _format_toast(errors) {\n\t\t\t\t\t\terrors = errors.reduce((result, err) => {\n\t\t\t\t\t\t\tswitch (err.type) {\n\t\t\t\t\t\t\tcase 'not_found':\n\t\t\t\t\t\t\tcase 'site_failed':\n\t\t\t\t\t\t\t\tif (err.message)\n\t\t\t\t\t\t\t\t\tresult[err.message] = [err.url];\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tresult._default = [err.url];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'general':\n\t\t\t\t\t\t\t\tif (!result._default)\n\t\t\t\t\t\t\t\t\tresult._default = [];\n\t\t\t\t\t\t\t\tresult._default.push(err.message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'validation':\n\t\t\t\t\t\t\t\tObject.entries(err.messages)\n\t\t\t\t\t\t\t\t\t.forEach(([field, msg]) => {\n\t\t\t\t\t\t\t\t\t\tif (!result[field])\n\t\t\t\t\t\t\t\t\t\t\tresult[field] = [];\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(msg))\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(...msg);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(msg);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tlet counter = 0;\n\t\t\t\t\t\tconst msgs = await Promise.all(Object.entries(errors)\n\t\t\t\t\t\t\t.sort((a, b) => ['_default'].indexOf(b[0]) - ['_default'].indexOf(a[0])) // sort _default first\n\t\t\t\t\t\t\t.map(async ([field, msgs]) => {\n\t\t\t\t\t\t\t\tif (field == '_default') {\n\t\t\t\t\t\t\t\t\tawait $p.loadCategory('dashboard');\n\t\t\t\t\t\t\t\t\tconst general = $p.t('dashboard/general');\n\t\t\t\t\t\t\t\t\tfield = '<dt class=\"d-none\">' + general + '</dt>';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield = '<dt>' + field + '</dt>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcounter += msgs.length;\n\t\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t\t+ '<dd>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('</dd><dd>')\n\t\t\t\t\t\t\t\t\t+ '</dd>';\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcounter,\n\t\t\t\t\t\t\tmsgs\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter, msgs;\n\t\t\t\t\tif (Array.isArray(errors)) {\n\t\t\t\t\t\t({ counter, msgs } = await _format_toast(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t({ counter, msgs } = await Object.entries(errors)\n\t\t\t\t\t\t\t.reduce(async (res, [title, errs]) => {\n\t\t\t\t\t\t\t\tconst result = await res;\n\t\t\t\t\t\t\t\tconst { counter, msgs } = await _format_toast(errs);\n\t\t\t\t\t\t\t\tresult.counter += counter;\n\t\t\t\t\t\t\t\tresult.msgs.push('<dt>'\n\t\t\t\t\t\t\t\t\t+ title\n\t\t\t\t\t\t\t\t\t+ '</dt><dd><dl>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('')\n\t\t\t\t\t\t\t\t\t+ '</dl></dd>');\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}, Promise.resolve({ counter: 0, msgs: []})));\n\t\t\t\t\t}\n\n\t\t\t\t\tawait $p.loadCategory('ui');\n\t\t\t\t\tconst n_errors = $p.t('ui/n_errors', { n: counter });\n\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\tn_errors,\n\t\t\t\t\t\t'<dl>' + msgs.join('') + '</dl>',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tphp(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('warn', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('info', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\tmessage = title + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\texception(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tdb(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tauth(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\ttitle += ': ' + error.message;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttitle = error.message;\n\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (options?.errorHandling !== undefined)\n\t\t\tDEFAULT_ERROR_CONFIG = _merge_error_config(options.errorHandling);\n\t\t\n\t\tfunction get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\t\tfunction clean_return_value(response) {\n\t\t\tif (typeof response.data === 'string' || response.data instanceof String)\n\t\t\t\treturn clean_return_value({ data: response });\n\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = { response };\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tfunction _merge_error_config(config) {\n\t\t\tif (config === false || config === 'off')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false, fail: false };\n\t\t\t\n\t\t\tif (!config || config === true)\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tif (config === 'success')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, fail: false };\n\t\t\t\n\t\t\tif (config === 'fail')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false };\n\t\t\t\n\t\t\tconst { success, fail, handler, combine } = config;\n\t\t\t\n\t\t\tconfig = { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tObject.entries({ fail, success }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = value;\n\t\t\t});\n\t\t\tObject.entries({ handler, combine }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = { ...config[key], ...value };\n\t\t\t});\n\n\t\t\treturn config;\n\t\t}\n\t\tfunction get_error_handler(config) {\n\t\t\tconst result = _merge_error_config(config?.errorHandling);\n\n\t\t\tif (!config?.form) {\n\t\t\t\tresult.combine = { ...result.combine, form: [] };\n\t\t\t} else {\n\t\t\t\tconst formHandler = result.handler.form;\n\t\t\t\tresult.handler = { ...result.handler, form: errors => formHandler(config.form, errors) };\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tfunction get_error_list(error) {\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'not_found',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tif (error.response.data.errors == undefined) return [];\n\t\t\t\t\treturn error.response.data.errors;\n\t\t\t\t}\n\t\t\t} else if (error.request) {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'site_failed',\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'script',\n\t\t\t\t\tmessage: error.message\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\tfunction popHandleableErrors(errorHandling, errors) {\n\t\t\tconst result = {};\n\t\t\tconst copy = [];\n\n\t\t\tif (errors == undefined) return {};\n\n\t\t\twhile (errors.length)\n\t\t\t\tcopy.push(errors.pop());\n\t\t\tfor (var error of copy) {\n\t\t\t\tlet type = error.type;\n\t\t\t\tlet newType = null;\n\t\t\t\tfor (var t in errorHandling.combine) {\n\t\t\t\t\tlet newTypeCombinesType = errorHandling\n\t\t\t\t\t\t.combine[t]\n\t\t\t\t\t\t.includes(type);\n\t\t\t\t\tlet newTypeHasHandler = errorHandling.handler[t];\n\t\t\t\t\tif (newTypeCombinesType && newTypeHasHandler) {\n\t\t\t\t\t\tnewType = t;\n\t\t\t\t\t\tif (newType == 'form')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newType)\n\t\t\t\t\ttype = newType;\n\t\t\t\tconst handler = errorHandling.handler[type];\n\t\t\t\tif (handler) {\n\t\t\t\t\tif (!result[type])\n\t\t\t\t\t\tresult[type] = [];\n\t\t\t\t\tif (Array.isArray(error))\n\t\t\t\t\t\tresult[type].push(...error);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult[type].push(error);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\terrors.push(error);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t+ FHC_JS_DATA_STORAGE_OBJECT.ci_router\n\t\t\t\t+ \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(\n\t\t\tresponse => {\n\t\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\t\treturn clean_return_value(response);\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\tif (response.data.errors)\n\t\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$api._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t\t);\n\n\t\t\t\treturn clean_return_value(response);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\n\t\t\t\tconst errorConfig = get_error_handler(error.config);\n\n\t\t\t\tif (!errorConfig.fail)\n\t\t\t\t\treturn Promise.reject(error);\n\n\t\t\t\tconst remaining = get_error_list(error);\n\n\t\t\t\tconst errors = popHandleableErrors(errorConfig, remaining);\n\n\t\t\t\tfor (var type in errors) {\n\t\t\t\t\terrorConfig.handler[type](errors[type]);\n\t\t\t\t}\n\n\t\t\t\tif (remaining.length)\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\n\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\t\t\t}\n\t\t);\n\n\t\tapp.config.globalProperties.$api = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\tcall(factory, configoverwrite, form) {\n\t\t\t\tif (Array.isArray(factory)) {\n\t\t\t\t\tconst $api = app.config.globalProperties.$api;\n\n\t\t\t\t\treturn Promise\n\t\t\t\t\t\t.allSettled(factory.map((config, index) => {\n\t\t\t\t\t\t\tif (!Array.isArray(config))\n\t\t\t\t\t\t\t\tconfig = ['#' + index, config];\n\t\t\t\t\t\t\treturn $api.call(config[1], {\n\t\t\t\t\t\t\t\terrorHeader: config[0],\n\t\t\t\t\t\t\t\terrorHandling: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst [ , , config ] = get_config(form, undefined, undefined, configoverwrite || {});\n\t\t\t\t\t\t\tconst errorConfig = get_error_handler(config);\n\n\t\t\t\t\t\t\tif (!errorConfig.success && !errorConfig.fail) {\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst typedErrors = {};\n\t\t\t\t\t\t\tfor (var res of result) {\n\t\t\t\t\t\t\t\tconst [ allowed, item ] = res.status === 'fulfilled'\n\t\t\t\t\t\t\t\t\t? [ errorConfig.success, res.value ]\n\t\t\t\t\t\t\t\t\t: [ errorConfig.fail, res.reason ];\n\t\t\t\t\t\t\t\tif (!allowed)\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tconst errors = popHandleableErrors(errorConfig, get_error_list(item));\n\n\t\t\t\t\t\t\t\tfor (var type in errors) {\n\t\t\t\t\t\t\t\t\tif (!typedErrors[type])\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type] = {\n\t\t\t\t\t\t\t\t\t\t\t[item.config.errorHeader]: errors[type]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type][item.config.errorHeader] = errors[type];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var errType in typedErrors) {\n\t\t\t\t\t\t\t\terrorConfig.handler[errType](typedErrors[errType]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet { method, url, params, config } = factory;\n\t\t\t\tif (configoverwrite !== undefined) {\n\t\t\t\t\tconfig = configoverwrite;\n\t\t\t\t}\n\t\t\t\tif (!method) {\n\t\t\t\t\tmethod = 'get';\n\t\t\t\t}\n\t\t\t\tif (method.toLowerCase)\n\t\t\t\t\tmethod = method.toLowerCase();\n\t\t\t\tif (method == 'get') {\n\t\t\t\t\treturn this.get(form, url, params, config);\n\t\t\t\t} else if (method == 'post') {\n\t\t\t\t\treturn this.post(form, url, params, config);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"FhcApi: method not allowed:\", method);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetErrorHandler(config) {\n\t\t\t\treturn get_error_handler(config);\n\t\t\t}\n\t\t};\n\n\t\tapp.provide('$api', app.config.globalProperties.$api);\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/loadModule/' + category\n\t\t};\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst params = {categories, language}\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/phrasen/setLanguage',\n\t\t\tparams\n\t\t};\n\t},\n\tgetLanguage() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getLanguage'\n\t\t};\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getAllLanguages'\n\t\t};\n\t}\n};","import OldFhcApi from '../plugin/OldFhcApi.js'; // TODO(chris): remove at some point\nimport PluginsApi from './Api.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(ApiPhrasen.loadCategory(category))\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tif (!app.config.globalProperties.$fhcApi)\n\t\t\tapp.use(OldFhcApi); // TODO(chris): remove at some point\n\t\tif (!app.config.globalProperties.$api)\n\t\t\tapp.use(PluginsApi);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","import ProfilUpdateView from \"../../components/Cis/ProfilUpdate/ProfilUpdateView.js\";\nimport PluginsPhrasen from \"../../plugins/Phrasen.js\";\n\nimport ApiProfilUpdate from '../../api/factory/profilUpdate.js';\n\n// TODO: sobald in verwendung den vue router pfad zu ProfilUpdateView definieren und diese app in component auslagern\nconst app = Vue.createApp({\n  name: 'ProfilUpdateRequestsApp',\n  components: {\n    [\"profil-update-view\"]: ProfilUpdateView,\n  },\n\n  data() {\n    return {\n      profilUpdateStates: null,\n    };\n  },\n  provide() {\n    return {\n      profilUpdateStates: Vue.computed(() =>\n        this.profilUpdateStates ? this.profilUpdateStates : false\n      ),\n    };\n  },\n  methods: {},\n  created() {\n    this.$api\n      .call(ApiProfilUpdate.getStatus())\n      .then((response) => {\n        this.profilUpdateStates = response.data;\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  },\n});\napp.use(PluginsPhrasen).mount(\"#content\");"],"names":["CoreFetchCmpt","emits","props","refresh","type","Boolean","apiFunction","required","Function","apiFunctionParameters","watch","newValue","oldValue","this","fetchData","data","loading","error","errorMessage","created","methods","apiFunctionResult","Promise","then","successHandler","catch","errorHandler","finally","finallyHandler","setError","response","$emit","undefined","retval","message","template","FILTER_COMPONENT_NEW_FILTER","FilterConfig","filters","Array","default","columns","fields","switchFilter","applyFilterConfig","saveCustomFilter","currentFields","computed","types","reduce","a","c","toLowerCase","indexOf","name","n","evt","currentTarget","value","filteredFields","filter","el","condition","length","alert","addField","push","removeField","index","splice","FilterColumns","selected","names","Object","hide","show","selectedFields","toggle","field","DEFAULT_ICONS","jsonLines","xlsx","pdf","html","json","csv","DEFAULT_LABELS","TableDownload","tabulator","config","String","iconClass","currentConfig","prototype","toString","call","split","isArray","newConfig","k","v","stringToFileFormatter","icon","label","formatter","map","validateFileFormatter","input","lcInput","includes","window","XLSX","jspdf","jsPDF","autoTable","download","file","options","elementDataMap","WeakMap","collapseAutoClose","mounted","binding","open","set","contains","target","collapse","bootstrap","Collapse","getInstance","addEventListener","document","get","beforeUnmount","removeEventListener","collapsibleAutoHideFunc","Tabulator","extendModule","fitDataStretchFrozen","forced","colsWidth","tableWidth","table","rowManager","element","clientWidth","gap","lastCol","forEach","column","i","widthFixed","reinitializeWidth","responsiveLayout","modules","responsive","visible","definition","frozen","getWidth","modExists","setWidth","update","ApiFilter","wsParams","method","url","params","filterUniqueId","filterType","customFilterName","removeCustomFilter","filterId","applyFilterFields","filterFields","addFilterField","filterField","removeFilterField","getFilterById","getFilter","_uuid","CoreFilterCmpt","components","directives","onNwNewEntry","title","description","sideMenu","tabulatorOptions","tabulatorEvents","tableOnly","noColumnFilter","reload","reloadBtnInfotext","newBtnShow","newBtnClass","newBtnDisabled","newBtnLabel","uniqueId","idField","parentIdField","countOnly","useSelectionSpan","uuid","filterName","filterActive","dataset","datasetMetadata","availableFilters","selectedFilter","fetchCmptRefresh","fetchCmptApiFunction","fetchCmptApiFunctionParams","fetchCmptDataFetched","fetchResult","tableBuilt","tabulatorHasSelector","selectedData","persistence","sort","headerFilter","group","page","notSelectedFields","x","filteredData","JSON","parse","stringify","filteredColumns","hasOwnProperty","col","resizable","fieldIdsForVisibilty","getColumns","def","getDefinition","getField","fieldNames","res","idExtra","columnsForFilter","filterTitles","reloadTable","setData","initTabulator","placeholder","$p","loadCategory","t","resolve","location","hash","slice","resolvePromiseFunc","setRenderData","startFetchCmpt","$api","layout","movableColumns","columnDefaults","tooltip","height","minHeight","maxHeight","selectable","dataTree","$refs","on","event","handler","toDelete","childIdx","child","appendChild","counter","cols","isVisible","_setHeaderFilter","updateTabulator","_updateTabulator","setColumns","clearFilters","getHeaderFilters","setHeaderFilterValue","clearFilter","render","j","setSideMenu","setDropDownMenu","personalFilters","filtersArray","filtersCount","link","id","filter_id","desc","onClickCall","handlerGetFilterById","subscriptDescription","subscriptLinkClass","subscriptLinkValue","onClickSubscriptCall","handlerRemoveCustomFilter","children","option","dataFetchedCallback","FHC_JS_DATA_STORAGE_OBJECT","called_path","called_method","handlerSaveCustomFilter","getAttribute","substring","attr","parentId","parentIdx","parent","_children","beforeCreate","$props","BsModal","modal","fullscreen","backdrop","validator","focus","keyboard","noCloseBtn","dialogClass","headerClass","bodyClass","footerClass","allowFullscreenExpand","dispose","handleUpdate","relatedTarget","toggleFullscreen","Modal","popup","body","footer","slots","includedPrimevue","primevue","reject","instance","Vue","createApp","setup","h","class","ref","unmount","result","unmounted","wrapper","parentElement","removeChild","createElement","use","zIndex","overlay","Phrasen","mount","Kontakt","view","Adresse","withZustelladresse","ApiProfilUpdate","getStatus","getTopic","acceptProfilRequest","profil_update_id","uid","status_message","topic","requested_change","denyProfilRequest","insertFile","dms","replace","updateProfilbild","getProfilUpdateWithPermission","encodeURIComponent","getProfilRequestFiles","requestID","selectProfilRequest","insertProfilRequest","payload","fileID","updateProfilRequest","ID","deleteProfilRequest","AcceptDenyUpdate","inject","mixins","setLoading","onHideBsModal","onHiddenBsModal","onHidePreventedBsModal","onShowBsModal","onShownBsModal","info","files","getProfilStatus","async","app_root","ci_router","dms_id","getDocumentLink","handleRequest","e","$fhcAlert","handleSystemError","getComponentView","attachment_id","modalContainer","bind","Loading","timeout","Number","state","setTimeout","clearTimeout","dateFilter","cell","onRendered","success","div","initialValue","val","getValue","start","Date","end","PrimevueCalendar","calendar","console","dates","headerValue","rowValue","rowDate","startDate","endDate","setHours","toDateString","singleDate","ProfilUpdateView","categoryLoaded","showModal","modalData","profilUpdateEvents","handleDataProcessed","profilUpdateOptions","persistenceID","ajaxURL","ajaxRequestFunc","ajaxParams","profilUpdateStates","ajaxResponse","ele1","ele2","sortProfilUpdates","thisPointer","status","insertamum","reverse","join","statusMessage","getData","statusDate","status_timestamp","classList","add","statusDateEl","innerHTML","statusMessageEl","rowContextMenu","component","menu","action","UpdatesTable","separator","showAcceptDenyModal","minWidth","headerFilterParams","valuesLookup","listOnEmpty","autocomplete","headerFilterFunc","formatterParams","datetimeFormatterParams","hozAlign","para","iconClasses","getRow","headerSort","node","DOMParser","parseFromString","firstChild","querySelector","denyProfilUpdate","acceptProfilUpdate","hideAcceptDenyModal","AcceptDenyModal","nextTick","updateData","sessionStorage","setItem","arrayRowData","row","inputFormat","outputFormat","invalidPlaceholder","timezone","loadingModalRef","getItem","search","searchsettings","$fhcApi","post","searchAdvanced","searchdummy","phrasen$1","category","setLanguage","categories","language","getLanguage","getActiveDbLanguages","navigation","getHeader","navigation_page","getMenu","filter$1","studstatus","abmeldung","getDetails","antrag_id","prestudent_id","create","stdsem","grund","studiensemester","errorHandling","cancel","allSettled","antrag","studierendenantrag_id","errorHeader","unterbrechung","datum_wiedereinstieg","attachment","wiederholung","getLvs","saveLvs","forbiddenLvs","mandatoryLvs","leitung","getStgs","getAntraege","getHistory","getPrestudents","query","signal","approve","reopen","pause","unpause","object","approveObjection","denyObjection","profil","getView","fotoSperre","isStudent","isMitarbeiter","getZustellAdresse","getZustellKontakt","getGemeinden","nation","zip","getAllNationen","profilUpdate","lvPlan","getRoomInfo","ort_kurzbz","start_date","end_date","getStunden","getOrtReservierungen","getLvPlanReservierungen","getLehreinheitStudiensemester","lehreinheit_id","studiensemesterDateInterval","date","LvPlanEvents","lv_id","stv","verband","favorites","students","studiensemester_kurzbz","getUri","prestudent","person","person_id","relative_path","getStg","setStg","studiengang_kz","konto","tabulatorConfig","self","modelValue","only_open","studiengang_kz_intern","stg_kz","checkDoubles","form","confirmErrorHandler","insert","edit","delete","buchungsnr","getBuchungstypen","getGruppen","deleteGroup","kontakt","getAdressen","addNewAddress","loadAddress","address_id","updateAddress","deleteAddress","getPlaces","plz","getFirmen","searchString","getNations","getAdressentypen","getBankverbindung","addNewBankverbindung","loadBankverbindung","bankverbindung_id","updateBankverbindung","deleteBankverbindung","getKontakte","addNewContact","loadContact","kontakt_id","updateContact","deleteContact","getStandorteByFirma","getKontakttypen","updatePrestudent","getBezeichnungZGV","getBezeichnungMZgv","getBezeichnungDZgv","getAusbildung","getAufmerksamdurch","getBerufstaetigkeit","getTypenStg","getBisstandort","getHistoryPrestudent","getMaxSem","studiengang_kzs","advanceStatus","status_kurzbz","ausbildungssemester","confirmStatus","isLastStatus","deleteStatus","getLastBismeldestichtag","getHistoryPrestudents","insertStatus","loadStatus","updateStatus","getStudienplaene","getStudiengang","getStatusgruende","getStati","addStudent","changeStatus","getStatusarray","details","save","exam","getPruefungen","loadPruefung","pruefung_id","getTypenPruefungen","getAllLehreinheiten","getLvsByStudent","getLvsandLesByStudent","semester","getLvsAndMas","getMitarbeiterLv","getNoten","checkZeugnisnoteLv","addPruefung","updatePruefung","deletePruefung","abschlusspruefung","getAbschlusspruefung","addNewAbschlusspruefung","loadAbschlusspruefung","updateAbschlusspruefung","deleteAbschlusspruefung","getTypenAbschlusspruefung","getTypenAntritte","getBeurteilungen","getAkadGrade","getTypStudiengang","getMitarbeiter","getPruefer","checkForExistingExams","uids","grades","list","getCertificate","getTeacherProposal","getRepeaterGrades","updateCertificate","lehrveranstaltung_id","student_uid","note","lehrveranstaltung_bezeichnung","deleteCertificate","copyTeacherProposalToCertificate","copyRepeaterGradeToCertificate","studierendenantrag_lehrveranstaltung_id","lv_bezeichnung","getGradeFromPoints","points","manualErrorHandling","mobility","getMobilitaeten","getProgramsMobility","addNewMobility","loadMobility","bisio_id","updateMobility","deleteMobility","getLVList","getPurposes","getSupports","getListPurposes","getListSupports","deleteMobilityPurpose","addMobilityPurpose","deleteMobilitySupport","addMobilitySupport","archiv","getArchivVorlagen","archive","archiveSigned","akte_id","documents","getDocumentsUnaccepted","getDocumentsAccepted","deleteZuordnung","dokument_kurzbz","createZuordnung","loadAkte","getDoktypen","updateFile","deleteFile","uploadFile","exemptions","getAnrechnungen","getLehrveranstaltungen","getBegruendungen","getLvsKompatibel","getLektoren","addNewAnrechnung","loadAnrechnung","anrechnung_id","editAnrechnung","deleteAnrechnung","jointstudies","getStudies","getTypenMobility","getStudiensemester","getStudyprograms","getListPartner","getStatiPrestudent","loadStudy","insertStudy","updateStudy","deleteStudy","courselist","getCourselist","group_consecutiveHours","dbStundenplanTable","configStudent","configStudents","notiz","getNotizen","getUid","addNewNotiz","formData","loadNotiz","notiz_id","loadDokumente","deleteNotiz","type_id","updateNotiz","isBerechtigt","betriebsmittel","getAllBetriebsmittel","addNewBetriebsmittel","loadBetriebsmittel","betriebsmittelperson_id","updateBetriebsmittel","deleteBetriebsmittel","getTypenBetriebsmittel","loadInventarliste","checkperson","updatePersonUnrulyStatus","unrulyParam","unruly","filterPerson","base","axios","ort","getContentID","ort_kurbz","getRooms","datum","von","bis","typ","personenanzahl","getRoomTypes","cms","content","content_id","version","sprache","sichtbar","getNews","page_size","news","limit","getNewsRowCount","getNewsExtra","lehre","getStudentenMail","getLvInfo","getStudentPruefungen","getStudentProjektarbeiten","getStudentProjektabgaben","detail","projektarbeit_id","postStudentProjektarbeitEndupload","Headers","postStudentProjektarbeitZwischenabgabe","getStudentProjektarbeitAbgabeFile","paabgabe_id","getMitarbeiterProjektarbeiten","all","postProjektarbeitAbgabe","termin","paabgabetyp_kurzbz","bezeichnung","fixtermin","insertvon","kurzbz","deleteProjektarbeitAbgabe","postSerientermin","projektarbeit_ids","fetchDeadlines","addons","getLvMenu","lvid","messages","getMessages","size","getVorlagen","getMsgVarsLoggedInUser","getMessageVarsPerson","getMsgVarsPrestudent","getPersonId","getDataVorlage","vorlage_kurzbz","getNameOfDefaultRecipient","getPreviewText","getReplyData","messageId","sendMessageFromModalContext","sendMessage","deleteMessage","vorlagen","getVorlagenByLoggedInUser","studium","getAllStudienSemester","studiengang","studienplan","getStudiengaengeForStudienSemester","getStudienplaeneBySemester","getLvPlanForStudiensemester","getLvEvaluierungInfo","FhcApiFactory","phrasen","dashboard","getViewData","bookmark","getBookmarks","bookmark_id","tag","ampeln","confirm","ampel_id","studiengangInformation","getStudiengangByKz","authinfo","getAuthUID","getAuthInfo","getAll","OldFhcApi","install","app","globalProperties","factory","warn","addEndpoints","_get_config","uri","TypeError","clearValidation","setFeedback","_clean_return_value","meta","fhcApiAxios","baseURL","interceptors","request","FormData","values","every","item","FileList","File","newData","entries","nd","key","append","jsondata","errors","err","_defaultErrorHandlers","code","handled","alertDefault","responseURL","alertError","validation","apply","general","php","filename","line","backtrace","function","severity","alertSystemError","exception","db","heading","sql","auth","controller","required_permissions","FhcApiFactoryWrapper","constructor","factorypart","root","defineProperty","noWarn","keys","provide","CORE_REST_CLIENT_ERROR","CORE_REST_CLIENT_RETVAL","CoreRESTClient","wsURL","wsParameters","axiosParameters","_axiosCall","isSuccess","isError","hasData","trim","getError","getErrorCode","_generateRouterURI","_printDebug","parameters","errorThrown","axiosCallObj","prop","helperAppContainer","helperApp","PvToast","PvConfirm","mailToUrl","slotProps","systemerror_mailto","openMessagecard","getOrCreateInstance","showmaillink","PvConfig","PvConfirmationService","helperAppInstance","FhcAlert","FhcPhrasen","alertSuccess","toast","summary","life","alertInfo","alertWarning","confirmDelete","$confirm","require","header","acceptLabel","acceptClass","rejectLabel","rejectClass","accept","sticky","alertMultiple","messageArray","errMsg","toUpperCase","stack","handleSystemMessage","msg","resetFormValidation","Event","querySelectorAll","dispatchEvent","handleFormValidation","nodeType","Node","ELEMENT_NODE","notFound","CustomEvent","arr","PluginsApi","_send_array_or_object","func","errs","DEFAULT_ERROR_CONFIG","fail","combine","_format_toast","_default","msgs","b","n_errors","get_config","clean_return_value","_merge_error_config","get_error_handler","formHandler","get_error_list","popHandleableErrors","copy","pop","newType","newTypeCombinesType","newTypeHasHandler","errorConfig","remaining","configoverwrite","typedErrors","allowed","reason","errType","getErrorHandler","ApiPhrasen","reactive","loadingModules","user_language","user_locale","server_languages","find","LC_Time","catArray","phrase","text","obj","elem","extractCategory","t_ref","match","p1","getValueForLoadedPhrase","PluginsPhrasen","cat","lang"],"mappings":"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"}